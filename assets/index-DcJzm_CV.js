var hC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var UB=hC((HB,Rd)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Cw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Pw={exports:{}},fd={},Rw={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),cC=Symbol.for("react.portal"),dC=Symbol.for("react.fragment"),fC=Symbol.for("react.strict_mode"),pC=Symbol.for("react.profiler"),mC=Symbol.for("react.provider"),gC=Symbol.for("react.context"),yC=Symbol.for("react.forward_ref"),vC=Symbol.for("react.suspense"),_C=Symbol.for("react.memo"),xC=Symbol.for("react.lazy"),x1=Symbol.iterator;function wC(t){return t===null||typeof t!="object"?null:(t=x1&&t[x1]||t["@@iterator"],typeof t=="function"?t:null)}var Iw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kw=Object.assign,Mw={};function wa(t,e,r){this.props=t,this.context=e,this.refs=Mw,this.updater=r||Iw}wa.prototype.isReactComponent={};wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dw(){}Dw.prototype=wa.prototype;function v0(t,e,r){this.props=t,this.context=e,this.refs=Mw,this.updater=r||Iw}var _0=v0.prototype=new Dw;_0.constructor=v0;kw(_0,wa.prototype);_0.isPureReactComponent=!0;var w1=Array.isArray,Fw=Object.prototype.hasOwnProperty,x0={current:null},Nw={key:!0,ref:!0,__self:!0,__source:!0};function Bw(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Fw.call(e,n)&&!Nw.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var h=Array(u),c=0;c<u;c++)h[c]=arguments[c+2];i.children=h}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:ou,type:t,key:s,ref:o,props:i,_owner:x0.current}}function EC(t,e){return{$$typeof:ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function w0(t){return typeof t=="object"&&t!==null&&t.$$typeof===ou}function bC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var E1=/\/+/g;function ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bC(""+t.key):e.toString(36)}function Zh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ou:case cC:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+ap(o,0):n,w1(i)?(r="",t!=null&&(r=t.replace(E1,"$&/")+"/"),Zh(i,e,r,"",function(c){return c})):i!=null&&(w0(i)&&(i=EC(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",w1(t))for(var u=0;u<t.length;u++){s=t[u];var h=n+ap(s,u);o+=Zh(s,e,r,h,i)}else if(h=wC(t),typeof h=="function")for(t=h.call(t),u=0;!(s=t.next()).done;)s=s.value,h=n+ap(s,u++),o+=Zh(s,e,r,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sh(t,e,r){if(t==null)return t;var n=[],i=0;return Zh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function SC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},Jh={transition:null},TC={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:Jh,ReactCurrentOwner:x0};function Ow(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:sh,forEach:function(t,e,r){sh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return sh(t,function(){e++}),e},toArray:function(t){return sh(t,function(e){return e})||[]},only:function(t){if(!w0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=wa;Ie.Fragment=dC;Ie.Profiler=pC;Ie.PureComponent=v0;Ie.StrictMode=fC;Ie.Suspense=vC;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TC;Ie.act=Ow;Ie.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=kw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=x0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)Fw.call(e,h)&&!Nw.hasOwnProperty(h)&&(n[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)n.children=r;else if(1<h){u=Array(h);for(var c=0;c<h;c++)u[c]=arguments[c+2];n.children=u}return{$$typeof:ou,type:t.type,key:i,ref:s,props:n,_owner:o}};Ie.createContext=function(t){return t={$$typeof:gC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mC,_context:t},t.Consumer=t};Ie.createElement=Bw;Ie.createFactory=function(t){var e=Bw.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:yC,render:t}};Ie.isValidElement=w0;Ie.lazy=function(t){return{$$typeof:xC,_payload:{_status:-1,_result:t},_init:SC}};Ie.memo=function(t,e){return{$$typeof:_C,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Jh.transition;Jh.transition={};try{t()}finally{Jh.transition=e}};Ie.unstable_act=Ow;Ie.useCallback=function(t,e){return or.current.useCallback(t,e)};Ie.useContext=function(t){return or.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return or.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return or.current.useEffect(t,e)};Ie.useId=function(){return or.current.useId()};Ie.useImperativeHandle=function(t,e,r){return or.current.useImperativeHandle(t,e,r)};Ie.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return or.current.useMemo(t,e)};Ie.useReducer=function(t,e,r){return or.current.useReducer(t,e,r)};Ie.useRef=function(t){return or.current.useRef(t)};Ie.useState=function(t){return or.current.useState(t)};Ie.useSyncExternalStore=function(t,e,r){return or.current.useSyncExternalStore(t,e,r)};Ie.useTransition=function(){return or.current.useTransition()};Ie.version="18.3.1";Rw.exports=Ie;var ve=Rw.exports;const ci=dd(ve);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC=ve,CC=Symbol.for("react.element"),PC=Symbol.for("react.fragment"),RC=Object.prototype.hasOwnProperty,IC=AC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kC={key:!0,ref:!0,__self:!0,__source:!0};function Lw(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)RC.call(e,n)&&!kC.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:CC,type:t,key:s,ref:o,props:i,_owner:IC.current}}fd.Fragment=PC;fd.jsx=Lw;fd.jsxs=Lw;Pw.exports=fd;var ge=Pw.exports,Uw={exports:{}},Ir={},zw={exports:{}},Gw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,G){var F=I.length;I.push(G);e:for(;0<F;){var L=F-1>>>1,te=I[L];if(0<i(te,G))I[L]=G,I[F]=te,F=L;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var G=I[0],F=I.pop();if(F!==G){I[0]=F;e:for(var L=0,te=I.length,Ae=te>>>1;L<Ae;){var xe=2*(L+1)-1,Pe=I[xe],Se=xe+1,De=I[Se];if(0>i(Pe,F))Se<te&&0>i(De,Pe)?(I[L]=De,I[Se]=F,L=Se):(I[L]=Pe,I[xe]=F,L=xe);else if(Se<te&&0>i(De,F))I[L]=De,I[Se]=F,L=Se;else break e}}return G}function i(I,G){var F=I.sortIndex-G.sortIndex;return F!==0?F:I.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],c=[],f=1,p=null,m=3,v=!1,_=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var G=r(c);G!==null;){if(G.callback===null)n(c);else if(G.startTime<=I)n(c),G.sortIndex=G.expirationTime,e(h,G);else break;G=r(c)}}function A(I){if(S=!1,w(I),!_)if(r(h)!==null)_=!0,le(R);else{var G=r(c);G!==null&&se(A,G.startTime-I)}}function R(I,G){_=!1,S&&(S=!1,E(k),k=-1),v=!0;var F=m;try{for(w(G),p=r(h);p!==null&&(!(p.expirationTime>G)||I&&!ce());){var L=p.callback;if(typeof L=="function"){p.callback=null,m=p.priorityLevel;var te=L(p.expirationTime<=G);G=t.unstable_now(),typeof te=="function"?p.callback=te:p===r(h)&&n(h),w(G)}else n(h);p=r(h)}if(p!==null)var Ae=!0;else{var xe=r(c);xe!==null&&se(A,xe.startTime-G),Ae=!1}return Ae}finally{p=null,m=F,v=!1}}var O=!1,D=null,k=-1,V=5,$=-1;function ce(){return!(t.unstable_now()-$<V)}function K(){if(D!==null){var I=t.unstable_now();$=I;var G=!0;try{G=D(!0,I)}finally{G?N():(O=!1,D=null)}}else O=!1}var N;if(typeof b=="function")N=function(){b(K)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ee=X.port2;X.port1.onmessage=K,N=function(){ee.postMessage(null)}}else N=function(){T(K,0)};function le(I){D=I,O||(O=!0,N())}function se(I,G){k=T(function(){I(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,le(R))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(I){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var F=m;m=G;try{return I()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var F=m;m=I;try{return G()}finally{m=F}},t.unstable_scheduleCallback=function(I,G,F){var L=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?L+F:L):F=L,I){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=F+te,I={id:f++,callback:G,priorityLevel:I,startTime:F,expirationTime:te,sortIndex:-1},F>L?(I.sortIndex=F,e(c,I),r(h)===null&&I===r(c)&&(S?(E(k),k=-1):S=!0,se(A,F-L))):(I.sortIndex=te,e(h,I),_||v||(_=!0,le(R))),I},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(I){var G=m;return function(){var F=m;m=G;try{return I.apply(this,arguments)}finally{m=F}}}})(Gw);zw.exports=Gw;var MC=zw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC=ve,Rr=MC;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hw=new Set,Nl={};function to(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(Nl[t]=e,t=0;t<e.length;t++)Hw.add(e[t])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bm=Object.prototype.hasOwnProperty,FC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b1={},S1={};function NC(t){return bm.call(S1,t)?!0:bm.call(b1,t)?!1:FC.test(t)?S1[t]=!0:(b1[t]=!0,!1)}function BC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OC(t,e,r,n){if(e===null||typeof e>"u"||BC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var E0=/[\-:]([a-z])/g;function b0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(E0,b0);jt[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(E0,b0);jt[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(E0,b0);jt[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function S0(t,e,r,n){var i=jt.hasOwnProperty(e)?jt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OC(e,r,i,n)&&(r=null),n||i===null?NC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ei=DC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oh=Symbol.for("react.element"),No=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),T0=Symbol.for("react.strict_mode"),Sm=Symbol.for("react.profiler"),$w=Symbol.for("react.provider"),jw=Symbol.for("react.context"),A0=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Am=Symbol.for("react.suspense_list"),C0=Symbol.for("react.memo"),Ui=Symbol.for("react.lazy"),Ww=Symbol.for("react.offscreen"),T1=Symbol.iterator;function Ya(t){return t===null||typeof t!="object"?null:(t=T1&&t[T1]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,lp;function ll(t){if(lp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);lp=e&&e[1]||""}return`
`+lp+t}var up=!1;function hp(t,e){if(!t||up)return"";up=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var h=`
`+i[o].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=o&&0<=u);break}}}finally{up=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ll(t):""}function LC(t){switch(t.tag){case 5:return ll(t.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return t=hp(t.type,!1),t;case 11:return t=hp(t.type.render,!1),t;case 1:return t=hp(t.type,!0),t;default:return""}}function Cm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bo:return"Fragment";case No:return"Portal";case Sm:return"Profiler";case T0:return"StrictMode";case Tm:return"Suspense";case Am:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jw:return(t.displayName||"Context")+".Consumer";case $w:return(t._context.displayName||"Context")+".Provider";case A0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C0:return e=t.displayName||null,e!==null?e:Cm(t.type)||"Memo";case Ui:e=t._payload,t=t._init;try{return Cm(t(e))}catch{}}return null}function UC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cm(e);case 8:return e===T0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zC(t){var e=Vw(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ah(t){t._valueTracker||(t._valueTracker=zC(t))}function Xw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Vw(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function xc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pm(t,e){var r=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function A1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=os(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yw(t,e){e=e.checked,e!=null&&S0(t,"checked",e,!1)}function Rm(t,e){Yw(t,e);var r=os(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Im(t,e.type,r):e.hasOwnProperty("defaultValue")&&Im(t,e.type,os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function C1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Im(t,e,r){(e!=="number"||xc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ul=Array.isArray;function Ko(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+os(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function km(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function P1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Q(92));if(ul(r)){if(1<r.length)throw Error(Q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:os(r)}}function Qw(t,e){var r=os(e.value),n=os(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function R1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lh,qw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lh=lh||document.createElement("div"),lh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GC=["Webkit","ms","Moz","O"];Object.keys(wl).forEach(function(t){GC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wl[e]=wl[t]})});function Zw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wl.hasOwnProperty(t)&&wl[t]?(""+e).trim():e+"px"}function Jw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Zw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var HC=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dm(t,e){if(e){if(HC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Fm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nm=null;function P0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bm=null,qo=null,Zo=null;function I1(t){if(t=uu(t)){if(typeof Bm!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=vd(e),Bm(t.stateNode,t.type,e))}}function eE(t){qo?Zo?Zo.push(t):Zo=[t]:qo=t}function tE(){if(qo){var t=qo,e=Zo;if(Zo=qo=null,I1(t),e)for(t=0;t<e.length;t++)I1(e[t])}}function rE(t,e){return t(e)}function nE(){}var cp=!1;function iE(t,e,r){if(cp)return t(e,r);cp=!0;try{return rE(t,e,r)}finally{cp=!1,(qo!==null||Zo!==null)&&(nE(),tE())}}function Ol(t,e){var r=t.stateNode;if(r===null)return null;var n=vd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Q(231,e,typeof r));return r}var Om=!1;if(mi)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Om=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Om=!1}function $C(t,e,r,n,i,s,o,u,h){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var El=!1,wc=null,Ec=!1,Lm=null,jC={onError:function(t){El=!0,wc=t}};function WC(t,e,r,n,i,s,o,u,h){El=!1,wc=null,$C.apply(jC,arguments)}function VC(t,e,r,n,i,s,o,u,h){if(WC.apply(this,arguments),El){if(El){var c=wc;El=!1,wc=null}else throw Error(Q(198));Ec||(Ec=!0,Lm=c)}}function ro(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function sE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k1(t){if(ro(t)!==t)throw Error(Q(188))}function XC(t){var e=t.alternate;if(!e){if(e=ro(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return k1(i),t;if(s===n)return k1(i),e;s=s.sibling}throw Error(Q(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,u=i.child;u;){if(u===r){o=!0,r=i,n=s;break}if(u===n){o=!0,n=i,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=i;break}if(u===n){o=!0,n=s,r=i;break}u=u.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?t:e}function oE(t){return t=XC(t),t!==null?aE(t):null}function aE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aE(t);if(e!==null)return e;t=t.sibling}return null}var lE=Rr.unstable_scheduleCallback,M1=Rr.unstable_cancelCallback,YC=Rr.unstable_shouldYield,QC=Rr.unstable_requestPaint,_t=Rr.unstable_now,KC=Rr.unstable_getCurrentPriorityLevel,R0=Rr.unstable_ImmediatePriority,uE=Rr.unstable_UserBlockingPriority,bc=Rr.unstable_NormalPriority,qC=Rr.unstable_LowPriority,hE=Rr.unstable_IdlePriority,pd=null,Hn=null;function ZC(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(pd,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:tP,JC=Math.log,eP=Math.LN2;function tP(t){return t>>>=0,t===0?32:31-(JC(t)/eP|0)|0}var uh=64,hh=4194304;function hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var u=o&~i;u!==0?n=hl(u):(s&=o,s!==0&&(n=hl(s)))}else o=r&~i,o!==0?n=hl(o):s!==0&&(n=hl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-fn(e),i=1<<r,n|=t[r],e&=~i;return n}function rP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fn(s),u=1<<o,h=i[o];h===-1?(!(u&r)||u&n)&&(i[o]=rP(u,e)):h<=e&&(t.expiredLanes|=u),s&=~u}}function Um(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cE(){var t=uh;return uh<<=1,!(uh&4194240)&&(uh=64),t}function dp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function au(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=r}function iP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-fn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function I0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-fn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var He=0;function dE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fE,k0,pE,mE,gE,zm=!1,ch=[],qi=null,Zi=null,Ji=null,Ll=new Map,Ul=new Map,$i=[],sP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D1(t,e){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Ll.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(e.pointerId)}}function Ka(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=uu(e),e!==null&&k0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oP(t,e,r,n,i){switch(e){case"focusin":return qi=Ka(qi,t,e,r,n,i),!0;case"dragenter":return Zi=Ka(Zi,t,e,r,n,i),!0;case"mouseover":return Ji=Ka(Ji,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ll.set(s,Ka(Ll.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ul.set(s,Ka(Ul.get(s)||null,t,e,r,n,i)),!0}return!1}function yE(t){var e=Us(t.target);if(e!==null){var r=ro(e);if(r!==null){if(e=r.tag,e===13){if(e=sE(r),e!==null){t.blockedOn=e,gE(t.priority,function(){pE(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Gm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Nm=n,r.target.dispatchEvent(n),Nm=null}else return e=uu(r),e!==null&&k0(e),t.blockedOn=r,!1;e.shift()}return!0}function F1(t,e,r){ec(t)&&r.delete(e)}function aP(){zm=!1,qi!==null&&ec(qi)&&(qi=null),Zi!==null&&ec(Zi)&&(Zi=null),Ji!==null&&ec(Ji)&&(Ji=null),Ll.forEach(F1),Ul.forEach(F1)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,zm||(zm=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,aP)))}function zl(t){function e(i){return qa(i,t)}if(0<ch.length){qa(ch[0],t);for(var r=1;r<ch.length;r++){var n=ch[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qi!==null&&qa(qi,t),Zi!==null&&qa(Zi,t),Ji!==null&&qa(Ji,t),Ll.forEach(e),Ul.forEach(e),r=0;r<$i.length;r++)n=$i[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<$i.length&&(r=$i[0],r.blockedOn===null);)yE(r),r.blockedOn===null&&$i.shift()}var Jo=Ei.ReactCurrentBatchConfig,Tc=!0;function lP(t,e,r,n){var i=He,s=Jo.transition;Jo.transition=null;try{He=1,M0(t,e,r,n)}finally{He=i,Jo.transition=s}}function uP(t,e,r,n){var i=He,s=Jo.transition;Jo.transition=null;try{He=4,M0(t,e,r,n)}finally{He=i,Jo.transition=s}}function M0(t,e,r,n){if(Tc){var i=Gm(t,e,r,n);if(i===null)Ep(t,e,n,Ac,r),D1(t,n);else if(oP(i,t,e,r,n))n.stopPropagation();else if(D1(t,n),e&4&&-1<sP.indexOf(t)){for(;i!==null;){var s=uu(i);if(s!==null&&fE(s),s=Gm(t,e,r,n),s===null&&Ep(t,e,n,Ac,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Ep(t,e,n,null,r)}}var Ac=null;function Gm(t,e,r,n){if(Ac=null,t=P0(n),t=Us(t),t!==null)if(e=ro(t),e===null)t=null;else if(r=e.tag,r===13){if(t=sE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ac=t,null}function vE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KC()){case R0:return 1;case uE:return 4;case bc:case qC:return 16;case hE:return 536870912;default:return 16}default:return 16}}var Vi=null,D0=null,tc=null;function _E(){if(tc)return tc;var t,e=D0,r=e.length,n,i="value"in Vi?Vi.value:Vi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return tc=i.slice(t,1<n?1-n:void 0)}function rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dh(){return!0}function N1(){return!1}function kr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dh:N1,this.isPropagationStopped=N1,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dh)},persist:function(){},isPersistent:dh}),e}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F0=kr(Ea),lu=ut({},Ea,{view:0,detail:0}),hP=kr(lu),fp,pp,Za,md=ut({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Za&&(Za&&t.type==="mousemove"?(fp=t.screenX-Za.screenX,pp=t.screenY-Za.screenY):pp=fp=0,Za=t),fp)},movementY:function(t){return"movementY"in t?t.movementY:pp}}),B1=kr(md),cP=ut({},md,{dataTransfer:0}),dP=kr(cP),fP=ut({},lu,{relatedTarget:0}),mp=kr(fP),pP=ut({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),mP=kr(pP),gP=ut({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yP=kr(gP),vP=ut({},Ea,{data:0}),O1=kr(vP),_P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wP[t])?!!e[t]:!1}function N0(){return EP}var bP=ut({},lu,{key:function(t){if(t.key){var e=_P[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N0,charCode:function(t){return t.type==="keypress"?rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SP=kr(bP),TP=ut({},md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L1=kr(TP),AP=ut({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N0}),CP=kr(AP),PP=ut({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),RP=kr(PP),IP=ut({},md,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kP=kr(IP),MP=[9,13,27,32],B0=mi&&"CompositionEvent"in window,bl=null;mi&&"documentMode"in document&&(bl=document.documentMode);var DP=mi&&"TextEvent"in window&&!bl,xE=mi&&(!B0||bl&&8<bl&&11>=bl),U1=" ",z1=!1;function wE(t,e){switch(t){case"keyup":return MP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function FP(t,e){switch(t){case"compositionend":return EE(e);case"keypress":return e.which!==32?null:(z1=!0,U1);case"textInput":return t=e.data,t===U1&&z1?null:t;default:return null}}function NP(t,e){if(Oo)return t==="compositionend"||!B0&&wE(t,e)?(t=_E(),tc=D0=Vi=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xE&&e.locale!=="ko"?null:e.data;default:return null}}var BP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BP[t.type]:e==="textarea"}function bE(t,e,r,n){eE(n),e=Cc(e,"onChange"),0<e.length&&(r=new F0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Sl=null,Gl=null;function OP(t){FE(t,0)}function gd(t){var e=zo(t);if(Xw(e))return t}function LP(t,e){if(t==="change")return e}var SE=!1;if(mi){var gp;if(mi){var yp="oninput"in document;if(!yp){var H1=document.createElement("div");H1.setAttribute("oninput","return;"),yp=typeof H1.oninput=="function"}gp=yp}else gp=!1;SE=gp&&(!document.documentMode||9<document.documentMode)}function $1(){Sl&&(Sl.detachEvent("onpropertychange",TE),Gl=Sl=null)}function TE(t){if(t.propertyName==="value"&&gd(Gl)){var e=[];bE(e,Gl,t,P0(t)),iE(OP,e)}}function UP(t,e,r){t==="focusin"?($1(),Sl=e,Gl=r,Sl.attachEvent("onpropertychange",TE)):t==="focusout"&&$1()}function zP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gd(Gl)}function GP(t,e){if(t==="click")return gd(e)}function HP(t,e){if(t==="input"||t==="change")return gd(e)}function $P(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:$P;function Hl(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!bm.call(e,i)||!yn(t[i],e[i]))return!1}return!0}function j1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W1(t,e){var r=j1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=j1(r)}}function AE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function CE(){for(var t=window,e=xc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=xc(t.document)}return e}function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jP(t){var e=CE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&AE(r.ownerDocument.documentElement,r)){if(n!==null&&O0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=W1(r,s);var o=W1(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WP=mi&&"documentMode"in document&&11>=document.documentMode,Lo=null,Hm=null,Tl=null,$m=!1;function V1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$m||Lo==null||Lo!==xc(n)||(n=Lo,"selectionStart"in n&&O0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tl&&Hl(Tl,n)||(Tl=n,n=Cc(Hm,"onSelect"),0<n.length&&(e=new F0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Lo)))}function fh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Uo={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionend:fh("Transition","TransitionEnd")},vp={},PE={};mi&&(PE=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function yd(t){if(vp[t])return vp[t];if(!Uo[t])return t;var e=Uo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in PE)return vp[t]=e[r];return t}var RE=yd("animationend"),IE=yd("animationiteration"),kE=yd("animationstart"),ME=yd("transitionend"),DE=new Map,X1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(t,e){DE.set(t,e),to(e,[t])}for(var _p=0;_p<X1.length;_p++){var xp=X1[_p],VP=xp.toLowerCase(),XP=xp[0].toUpperCase()+xp.slice(1);hs(VP,"on"+XP)}hs(RE,"onAnimationEnd");hs(IE,"onAnimationIteration");hs(kE,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(ME,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YP=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Y1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,VC(n,e,void 0,t),t.currentTarget=null}function FE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var u=n[o],h=u.instance,c=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;Y1(i,u,c),s=h}else for(o=0;o<n.length;o++){if(u=n[o],h=u.instance,c=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;Y1(i,u,c),s=h}}}if(Ec)throw t=Lm,Ec=!1,Lm=null,t}function Xe(t,e){var r=e[Ym];r===void 0&&(r=e[Ym]=new Set);var n=t+"__bubble";r.has(n)||(NE(e,t,2,!1),r.add(n))}function wp(t,e,r){var n=0;e&&(n|=4),NE(r,t,n,e)}var ph="_reactListening"+Math.random().toString(36).slice(2);function $l(t){if(!t[ph]){t[ph]=!0,Hw.forEach(function(r){r!=="selectionchange"&&(YP.has(r)||wp(r,!1,t),wp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ph]||(e[ph]=!0,wp("selectionchange",!1,e))}}function NE(t,e,r,n){switch(vE(e)){case 1:var i=lP;break;case 4:i=uP;break;default:i=M0}r=i.bind(null,e,r,t),i=void 0,!Om||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ep(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Us(u),o===null)return;if(h=o.tag,h===5||h===6){n=s=o;continue e}u=u.parentNode}}n=n.return}iE(function(){var c=s,f=P0(r),p=[];e:{var m=DE.get(t);if(m!==void 0){var v=F0,_=t;switch(t){case"keypress":if(rc(r)===0)break e;case"keydown":case"keyup":v=SP;break;case"focusin":_="focus",v=mp;break;case"focusout":_="blur",v=mp;break;case"beforeblur":case"afterblur":v=mp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=B1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=dP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=CP;break;case RE:case IE:case kE:v=mP;break;case ME:v=RP;break;case"scroll":v=hP;break;case"wheel":v=kP;break;case"copy":case"cut":case"paste":v=yP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=L1}var S=(e&4)!==0,T=!S&&t==="scroll",E=S?m!==null?m+"Capture":null:m;S=[];for(var b=c,w;b!==null;){w=b;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,E!==null&&(A=Ol(b,E),A!=null&&S.push(jl(b,A,w)))),T)break;b=b.return}0<S.length&&(m=new v(m,_,null,r,f),p.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&r!==Nm&&(_=r.relatedTarget||r.fromElement)&&(Us(_)||_[gi]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(_=r.relatedTarget||r.toElement,v=c,_=_?Us(_):null,_!==null&&(T=ro(_),_!==T||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=c),v!==_)){if(S=B1,A="onMouseLeave",E="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(S=L1,A="onPointerLeave",E="onPointerEnter",b="pointer"),T=v==null?m:zo(v),w=_==null?m:zo(_),m=new S(A,b+"leave",v,r,f),m.target=T,m.relatedTarget=w,A=null,Us(f)===c&&(S=new S(E,b+"enter",_,r,f),S.target=w,S.relatedTarget=T,A=S),T=A,v&&_)t:{for(S=v,E=_,b=0,w=S;w;w=wo(w))b++;for(w=0,A=E;A;A=wo(A))w++;for(;0<b-w;)S=wo(S),b--;for(;0<w-b;)E=wo(E),w--;for(;b--;){if(S===E||E!==null&&S===E.alternate)break t;S=wo(S),E=wo(E)}S=null}else S=null;v!==null&&Q1(p,m,v,S,!1),_!==null&&T!==null&&Q1(p,T,_,S,!0)}}e:{if(m=c?zo(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var R=LP;else if(G1(m))if(SE)R=HP;else{R=zP;var O=UP}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=GP);if(R&&(R=R(t,c))){bE(p,R,r,f);break e}O&&O(t,m,c),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Im(m,"number",m.value)}switch(O=c?zo(c):window,t){case"focusin":(G1(O)||O.contentEditable==="true")&&(Lo=O,Hm=c,Tl=null);break;case"focusout":Tl=Hm=Lo=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,V1(p,r,f);break;case"selectionchange":if(WP)break;case"keydown":case"keyup":V1(p,r,f)}var D;if(B0)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Oo?wE(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(xE&&r.locale!=="ko"&&(Oo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Oo&&(D=_E()):(Vi=f,D0="value"in Vi?Vi.value:Vi.textContent,Oo=!0)),O=Cc(c,k),0<O.length&&(k=new O1(k,t,null,r,f),p.push({event:k,listeners:O}),D?k.data=D:(D=EE(r),D!==null&&(k.data=D)))),(D=DP?FP(t,r):NP(t,r))&&(c=Cc(c,"onBeforeInput"),0<c.length&&(f=new O1("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:c}),f.data=D))}FE(p,e)})}function jl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Cc(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ol(t,r),s!=null&&n.unshift(jl(t,s,i)),s=Ol(t,e),s!=null&&n.push(jl(t,s,i))),t=t.return}return n}function wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Q1(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var u=r,h=u.alternate,c=u.stateNode;if(h!==null&&h===n)break;u.tag===5&&c!==null&&(u=c,i?(h=Ol(r,s),h!=null&&o.unshift(jl(r,h,u))):i||(h=Ol(r,s),h!=null&&o.push(jl(r,h,u)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var QP=/\r\n?/g,KP=/\u0000|\uFFFD/g;function K1(t){return(typeof t=="string"?t:""+t).replace(QP,`
`).replace(KP,"")}function mh(t,e,r){if(e=K1(e),K1(t)!==e&&r)throw Error(Q(425))}function Pc(){}var jm=null,Wm=null;function Vm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xm=typeof setTimeout=="function"?setTimeout:void 0,qP=typeof clearTimeout=="function"?clearTimeout:void 0,q1=typeof Promise=="function"?Promise:void 0,ZP=typeof queueMicrotask=="function"?queueMicrotask:typeof q1<"u"?function(t){return q1.resolve(null).then(t).catch(JP)}:Xm;function JP(t){setTimeout(function(){throw t})}function bp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),zl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);zl(e)}function es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Z1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ba=Math.random().toString(36).slice(2),zn="__reactFiber$"+ba,Wl="__reactProps$"+ba,gi="__reactContainer$"+ba,Ym="__reactEvents$"+ba,eR="__reactListeners$"+ba,tR="__reactHandles$"+ba;function Us(t){var e=t[zn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gi]||r[zn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Z1(t);t!==null;){if(r=t[zn])return r;t=Z1(t)}return e}t=r,r=t.parentNode}return null}function uu(t){return t=t[zn]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function vd(t){return t[Wl]||null}var Qm=[],Go=-1;function cs(t){return{current:t}}function Qe(t){0>Go||(t.current=Qm[Go],Qm[Go]=null,Go--)}function We(t,e){Go++,Qm[Go]=t.current,t.current=e}var as={},Zt=cs(as),mr=cs(!1),Ys=as;function ca(t,e){var r=t.type.contextTypes;if(!r)return as;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gr(t){return t=t.childContextTypes,t!=null}function Rc(){Qe(mr),Qe(Zt)}function J1(t,e,r){if(Zt.current!==as)throw Error(Q(168));We(Zt,e),We(mr,r)}function BE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Q(108,UC(t)||"Unknown",i));return ut({},r,n)}function Ic(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||as,Ys=Zt.current,We(Zt,t),We(mr,mr.current),!0}function e_(t,e,r){var n=t.stateNode;if(!n)throw Error(Q(169));r?(t=BE(t,e,Ys),n.__reactInternalMemoizedMergedChildContext=t,Qe(mr),Qe(Zt),We(Zt,t)):Qe(mr),We(mr,r)}var si=null,_d=!1,Sp=!1;function OE(t){si===null?si=[t]:si.push(t)}function rR(t){_d=!0,OE(t)}function ds(){if(!Sp&&si!==null){Sp=!0;var t=0,e=He;try{var r=si;for(He=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}si=null,_d=!1}catch(i){throw si!==null&&(si=si.slice(t+1)),lE(R0,ds),i}finally{He=e,Sp=!1}}return null}var Ho=[],$o=0,kc=null,Mc=0,Gr=[],Hr=0,Qs=null,oi=1,ai="";function Rs(t,e){Ho[$o++]=Mc,Ho[$o++]=kc,kc=t,Mc=e}function LE(t,e,r){Gr[Hr++]=oi,Gr[Hr++]=ai,Gr[Hr++]=Qs,Qs=t;var n=oi;t=ai;var i=32-fn(n)-1;n&=~(1<<i),r+=1;var s=32-fn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,oi=1<<32-fn(e)+i|r<<i|n,ai=s+t}else oi=1<<s|r<<i|n,ai=t}function L0(t){t.return!==null&&(Rs(t,1),LE(t,1,0))}function U0(t){for(;t===kc;)kc=Ho[--$o],Ho[$o]=null,Mc=Ho[--$o],Ho[$o]=null;for(;t===Qs;)Qs=Gr[--Hr],Gr[Hr]=null,ai=Gr[--Hr],Gr[Hr]=null,oi=Gr[--Hr],Gr[Hr]=null}var Cr=null,Ar=null,tt=!1,un=null;function UE(t,e){var r=$r(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function t_(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cr=t,Ar=es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cr=t,Ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Qs!==null?{id:oi,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=$r(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Cr=t,Ar=null,!0):!1;default:return!1}}function Km(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qm(t){if(tt){var e=Ar;if(e){var r=e;if(!t_(t,e)){if(Km(t))throw Error(Q(418));e=es(r.nextSibling);var n=Cr;e&&t_(t,e)?UE(n,r):(t.flags=t.flags&-4097|2,tt=!1,Cr=t)}}else{if(Km(t))throw Error(Q(418));t.flags=t.flags&-4097|2,tt=!1,Cr=t}}}function r_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cr=t}function gh(t){if(t!==Cr)return!1;if(!tt)return r_(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vm(t.type,t.memoizedProps)),e&&(e=Ar)){if(Km(t))throw zE(),Error(Q(418));for(;e;)UE(t,e),e=es(e.nextSibling)}if(r_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ar=es(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ar=null}}else Ar=Cr?es(t.stateNode.nextSibling):null;return!0}function zE(){for(var t=Ar;t;)t=es(t.nextSibling)}function da(){Ar=Cr=null,tt=!1}function z0(t){un===null?un=[t]:un.push(t)}var nR=Ei.ReactCurrentBatchConfig;function Ja(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,t))}return t}function yh(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n_(t){var e=t._init;return e(t._payload)}function GE(t){function e(E,b){if(t){var w=E.deletions;w===null?(E.deletions=[b],E.flags|=16):w.push(b)}}function r(E,b){if(!t)return null;for(;b!==null;)e(E,b),b=b.sibling;return null}function n(E,b){for(E=new Map;b!==null;)b.key!==null?E.set(b.key,b):E.set(b.index,b),b=b.sibling;return E}function i(E,b){return E=is(E,b),E.index=0,E.sibling=null,E}function s(E,b,w){return E.index=w,t?(w=E.alternate,w!==null?(w=w.index,w<b?(E.flags|=2,b):w):(E.flags|=2,b)):(E.flags|=1048576,b)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function u(E,b,w,A){return b===null||b.tag!==6?(b=kp(w,E.mode,A),b.return=E,b):(b=i(b,w),b.return=E,b)}function h(E,b,w,A){var R=w.type;return R===Bo?f(E,b,w.props.children,A,w.key):b!==null&&(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ui&&n_(R)===b.type)?(A=i(b,w.props),A.ref=Ja(E,b,w),A.return=E,A):(A=uc(w.type,w.key,w.props,null,E.mode,A),A.ref=Ja(E,b,w),A.return=E,A)}function c(E,b,w,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Mp(w,E.mode,A),b.return=E,b):(b=i(b,w.children||[]),b.return=E,b)}function f(E,b,w,A,R){return b===null||b.tag!==7?(b=$s(w,E.mode,A,R),b.return=E,b):(b=i(b,w),b.return=E,b)}function p(E,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=kp(""+b,E.mode,w),b.return=E,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case oh:return w=uc(b.type,b.key,b.props,null,E.mode,w),w.ref=Ja(E,null,b),w.return=E,w;case No:return b=Mp(b,E.mode,w),b.return=E,b;case Ui:var A=b._init;return p(E,A(b._payload),w)}if(ul(b)||Ya(b))return b=$s(b,E.mode,w,null),b.return=E,b;yh(E,b)}return null}function m(E,b,w,A){var R=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:u(E,b,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oh:return w.key===R?h(E,b,w,A):null;case No:return w.key===R?c(E,b,w,A):null;case Ui:return R=w._init,m(E,b,R(w._payload),A)}if(ul(w)||Ya(w))return R!==null?null:f(E,b,w,A,null);yh(E,w)}return null}function v(E,b,w,A,R){if(typeof A=="string"&&A!==""||typeof A=="number")return E=E.get(w)||null,u(b,E,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case oh:return E=E.get(A.key===null?w:A.key)||null,h(b,E,A,R);case No:return E=E.get(A.key===null?w:A.key)||null,c(b,E,A,R);case Ui:var O=A._init;return v(E,b,w,O(A._payload),R)}if(ul(A)||Ya(A))return E=E.get(w)||null,f(b,E,A,R,null);yh(b,A)}return null}function _(E,b,w,A){for(var R=null,O=null,D=b,k=b=0,V=null;D!==null&&k<w.length;k++){D.index>k?(V=D,D=null):V=D.sibling;var $=m(E,D,w[k],A);if($===null){D===null&&(D=V);break}t&&D&&$.alternate===null&&e(E,D),b=s($,b,k),O===null?R=$:O.sibling=$,O=$,D=V}if(k===w.length)return r(E,D),tt&&Rs(E,k),R;if(D===null){for(;k<w.length;k++)D=p(E,w[k],A),D!==null&&(b=s(D,b,k),O===null?R=D:O.sibling=D,O=D);return tt&&Rs(E,k),R}for(D=n(E,D);k<w.length;k++)V=v(D,E,k,w[k],A),V!==null&&(t&&V.alternate!==null&&D.delete(V.key===null?k:V.key),b=s(V,b,k),O===null?R=V:O.sibling=V,O=V);return t&&D.forEach(function(ce){return e(E,ce)}),tt&&Rs(E,k),R}function S(E,b,w,A){var R=Ya(w);if(typeof R!="function")throw Error(Q(150));if(w=R.call(w),w==null)throw Error(Q(151));for(var O=R=null,D=b,k=b=0,V=null,$=w.next();D!==null&&!$.done;k++,$=w.next()){D.index>k?(V=D,D=null):V=D.sibling;var ce=m(E,D,$.value,A);if(ce===null){D===null&&(D=V);break}t&&D&&ce.alternate===null&&e(E,D),b=s(ce,b,k),O===null?R=ce:O.sibling=ce,O=ce,D=V}if($.done)return r(E,D),tt&&Rs(E,k),R;if(D===null){for(;!$.done;k++,$=w.next())$=p(E,$.value,A),$!==null&&(b=s($,b,k),O===null?R=$:O.sibling=$,O=$);return tt&&Rs(E,k),R}for(D=n(E,D);!$.done;k++,$=w.next())$=v(D,E,k,$.value,A),$!==null&&(t&&$.alternate!==null&&D.delete($.key===null?k:$.key),b=s($,b,k),O===null?R=$:O.sibling=$,O=$);return t&&D.forEach(function(K){return e(E,K)}),tt&&Rs(E,k),R}function T(E,b,w,A){if(typeof w=="object"&&w!==null&&w.type===Bo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case oh:e:{for(var R=w.key,O=b;O!==null;){if(O.key===R){if(R=w.type,R===Bo){if(O.tag===7){r(E,O.sibling),b=i(O,w.props.children),b.return=E,E=b;break e}}else if(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ui&&n_(R)===O.type){r(E,O.sibling),b=i(O,w.props),b.ref=Ja(E,O,w),b.return=E,E=b;break e}r(E,O);break}else e(E,O);O=O.sibling}w.type===Bo?(b=$s(w.props.children,E.mode,A,w.key),b.return=E,E=b):(A=uc(w.type,w.key,w.props,null,E.mode,A),A.ref=Ja(E,b,w),A.return=E,E=A)}return o(E);case No:e:{for(O=w.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(E,b.sibling),b=i(b,w.children||[]),b.return=E,E=b;break e}else{r(E,b);break}else e(E,b);b=b.sibling}b=Mp(w,E.mode,A),b.return=E,E=b}return o(E);case Ui:return O=w._init,T(E,b,O(w._payload),A)}if(ul(w))return _(E,b,w,A);if(Ya(w))return S(E,b,w,A);yh(E,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(E,b.sibling),b=i(b,w),b.return=E,E=b):(r(E,b),b=kp(w,E.mode,A),b.return=E,E=b),o(E)):r(E,b)}return T}var fa=GE(!0),HE=GE(!1),Dc=cs(null),Fc=null,jo=null,G0=null;function H0(){G0=jo=Fc=null}function $0(t){var e=Dc.current;Qe(Dc),t._currentValue=e}function Zm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ea(t,e){Fc=t,G0=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fr=!0),t.firstContext=null)}function Xr(t){var e=t._currentValue;if(G0!==t)if(t={context:t,memoizedValue:e,next:null},jo===null){if(Fc===null)throw Error(Q(308));jo=t,Fc.dependencies={lanes:0,firstContext:t}}else jo=jo.next=t;return e}var zs=null;function j0(t){zs===null?zs=[t]:zs.push(t)}function $E(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,j0(e)):(r.next=i.next,i.next=r),e.interleaved=r,yi(t,n)}function yi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var zi=!1;function W0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ts(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,yi(t,r)}return i=n.interleaved,i===null?(e.next=e,j0(n)):(e.next=i.next,i.next=e),n.interleaved=e,yi(t,r)}function nc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,I0(t,r)}}function i_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Nc(t,e,r,n){var i=t.updateQueue;zi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,c=h.next;h.next=null,o===null?s=c:o.next=c,o=h;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=h))}if(s!==null){var p=i.baseState;o=0,f=c=h=null,u=s;do{var m=u.lane,v=u.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var _=t,S=u;switch(m=e,v=r,S.tag){case 1:if(_=S.payload,typeof _=="function"){p=_.call(v,p,m);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,m=typeof _=="function"?_.call(v,p,m):_,m==null)break e;p=ut({},p,m);break e;case 2:zi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else v={eventTime:v,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=v,h=p):f=f.next=v,o|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(h=p),i.baseState=h,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qs|=o,t.lanes=o,t.memoizedState=p}}function s_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Q(191,i));i.call(n)}}}var hu={},$n=cs(hu),Vl=cs(hu),Xl=cs(hu);function Gs(t){if(t===hu)throw Error(Q(174));return t}function V0(t,e){switch(We(Xl,e),We(Vl,t),We($n,hu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mm(e,t)}Qe($n),We($n,e)}function pa(){Qe($n),Qe(Vl),Qe(Xl)}function WE(t){Gs(Xl.current);var e=Gs($n.current),r=Mm(e,t.type);e!==r&&(We(Vl,t),We($n,r))}function X0(t){Vl.current===t&&(Qe($n),Qe(Vl))}var ot=cs(0);function Bc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tp=[];function Y0(){for(var t=0;t<Tp.length;t++)Tp[t]._workInProgressVersionPrimary=null;Tp.length=0}var ic=Ei.ReactCurrentDispatcher,Ap=Ei.ReactCurrentBatchConfig,Ks=0,lt=null,Ct=null,Ft=null,Oc=!1,Al=!1,Yl=0,iR=0;function Qt(){throw Error(Q(321))}function Q0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yn(t[r],e[r]))return!1;return!0}function K0(t,e,r,n,i,s){if(Ks=s,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ic.current=t===null||t.memoizedState===null?lR:uR,t=r(n,i),Al){s=0;do{if(Al=!1,Yl=0,25<=s)throw Error(Q(301));s+=1,Ft=Ct=null,e.updateQueue=null,ic.current=hR,t=r(n,i)}while(Al)}if(ic.current=Lc,e=Ct!==null&&Ct.next!==null,Ks=0,Ft=Ct=lt=null,Oc=!1,e)throw Error(Q(300));return t}function q0(){var t=Yl!==0;return Yl=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?lt.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function Yr(){if(Ct===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=Ft===null?lt.memoizedState:Ft.next;if(e!==null)Ft=e,Ct=t;else{if(t===null)throw Error(Q(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Ft===null?lt.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Ql(t,e){return typeof e=="function"?e(t):e}function Cp(t){var e=Yr(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=Ct,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=o=null,h=null,c=s;do{var f=c.lane;if((Ks&f)===f)h!==null&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};h===null?(u=h=p,o=n):h=h.next=p,lt.lanes|=f,qs|=f}c=c.next}while(c!==null&&c!==s);h===null?o=n:h.next=u,yn(n,e.memoizedState)||(fr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=h,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,lt.lanes|=s,qs|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Pp(t){var e=Yr(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yn(s,e.memoizedState)||(fr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function VE(){}function XE(t,e){var r=lt,n=Yr(),i=e(),s=!yn(n.memoizedState,i);if(s&&(n.memoizedState=i,fr=!0),n=n.queue,Z0(KE.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Ft!==null&&Ft.memoizedState.tag&1){if(r.flags|=2048,Kl(9,QE.bind(null,r,n,i,e),void 0,null),Bt===null)throw Error(Q(349));Ks&30||YE(r,e,i)}return i}function YE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function QE(t,e,r,n){e.value=r,e.getSnapshot=n,qE(e)&&ZE(t)}function KE(t,e,r){return r(function(){qE(e)&&ZE(t)})}function qE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!yn(t,r)}catch{return!0}}function ZE(t){var e=yi(t,1);e!==null&&pn(e,t,1,-1)}function o_(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:t},e.queue=t,t=t.dispatch=aR.bind(null,lt,t),[e.memoizedState,t]}function Kl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function JE(){return Yr().memoizedState}function sc(t,e,r,n){var i=Bn();lt.flags|=t,i.memoizedState=Kl(1|e,r,void 0,n===void 0?null:n)}function xd(t,e,r,n){var i=Yr();n=n===void 0?null:n;var s=void 0;if(Ct!==null){var o=Ct.memoizedState;if(s=o.destroy,n!==null&&Q0(n,o.deps)){i.memoizedState=Kl(e,r,s,n);return}}lt.flags|=t,i.memoizedState=Kl(1|e,r,s,n)}function a_(t,e){return sc(8390656,8,t,e)}function Z0(t,e){return xd(2048,8,t,e)}function eb(t,e){return xd(4,2,t,e)}function tb(t,e){return xd(4,4,t,e)}function rb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nb(t,e,r){return r=r!=null?r.concat([t]):null,xd(4,4,rb.bind(null,e,t),r)}function J0(){}function ib(t,e){var r=Yr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Q0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function sb(t,e){var r=Yr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Q0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function ob(t,e,r){return Ks&21?(yn(r,e)||(r=cE(),lt.lanes|=r,qs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fr=!0),t.memoizedState=r)}function sR(t,e){var r=He;He=r!==0&&4>r?r:4,t(!0);var n=Ap.transition;Ap.transition={};try{t(!1),e()}finally{He=r,Ap.transition=n}}function ab(){return Yr().memoizedState}function oR(t,e,r){var n=ns(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lb(t))ub(e,r);else if(r=$E(t,e,r,n),r!==null){var i=ir();pn(r,t,n,i),hb(r,e,n)}}function aR(t,e,r){var n=ns(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lb(t))ub(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,r);if(i.hasEagerState=!0,i.eagerState=u,yn(u,o)){var h=e.interleaved;h===null?(i.next=i,j0(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}r=$E(t,e,i,n),r!==null&&(i=ir(),pn(r,t,n,i),hb(r,e,n))}}function lb(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function ub(t,e){Al=Oc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function hb(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,I0(t,r)}}var Lc={readContext:Xr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},lR={readContext:Xr,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:Xr,useEffect:a_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,sc(4194308,4,rb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return sc(4194308,4,t,e)},useInsertionEffect:function(t,e){return sc(4,2,t,e)},useMemo:function(t,e){var r=Bn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Bn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=oR.bind(null,lt,t),[n.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:o_,useDebugValue:J0,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=o_(!1),e=t[0];return t=sR.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=lt,i=Bn();if(tt){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=e(),Bt===null)throw Error(Q(349));Ks&30||YE(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,a_(KE.bind(null,n,s,t),[t]),n.flags|=2048,Kl(9,QE.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Bn(),e=Bt.identifierPrefix;if(tt){var r=ai,n=oi;r=(n&~(1<<32-fn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Yl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=iR++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uR={readContext:Xr,useCallback:ib,useContext:Xr,useEffect:Z0,useImperativeHandle:nb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:sb,useReducer:Cp,useRef:JE,useState:function(){return Cp(Ql)},useDebugValue:J0,useDeferredValue:function(t){var e=Yr();return ob(e,Ct.memoizedState,t)},useTransition:function(){var t=Cp(Ql)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:VE,useSyncExternalStore:XE,useId:ab,unstable_isNewReconciler:!1},hR={readContext:Xr,useCallback:ib,useContext:Xr,useEffect:Z0,useImperativeHandle:nb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:sb,useReducer:Pp,useRef:JE,useState:function(){return Pp(Ql)},useDebugValue:J0,useDeferredValue:function(t){var e=Yr();return Ct===null?e.memoizedState=t:ob(e,Ct.memoizedState,t)},useTransition:function(){var t=Pp(Ql)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:VE,useSyncExternalStore:XE,useId:ab,unstable_isNewReconciler:!1};function an(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Jm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ut({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wd={isMounted:function(t){return(t=t._reactInternals)?ro(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ir(),i=ns(t),s=di(n,i);s.payload=e,r!=null&&(s.callback=r),e=ts(t,s,i),e!==null&&(pn(e,t,i,n),nc(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ir(),i=ns(t),s=di(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ts(t,s,i),e!==null&&(pn(e,t,i,n),nc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ir(),n=ns(t),i=di(r,n);i.tag=2,e!=null&&(i.callback=e),e=ts(t,i,n),e!==null&&(pn(e,t,n,r),nc(e,t,n))}};function l_(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hl(r,n)||!Hl(i,s):!0}function cb(t,e,r){var n=!1,i=as,s=e.contextType;return typeof s=="object"&&s!==null?s=Xr(s):(i=gr(e)?Ys:Zt.current,n=e.contextTypes,s=(n=n!=null)?ca(t,i):as),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function u_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&wd.enqueueReplaceState(e,e.state,null)}function eg(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},W0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xr(s):(s=gr(e)?Ys:Zt.current,i.context=ca(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jm(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wd.enqueueReplaceState(i,i.state,null),Nc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ma(t,e){try{var r="",n=e;do r+=LC(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function tg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var cR=typeof WeakMap=="function"?WeakMap:Map;function db(t,e,r){r=di(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){zc||(zc=!0,cg=n),tg(t,e)},r}function fb(t,e,r){r=di(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){tg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){tg(t,e),typeof n!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function h_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new cR;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=TR.bind(null,t,e,r),e.then(t,t))}function c_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d_(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=di(-1,1),e.tag=2,ts(r,e,1))),r.lanes|=1),t)}var dR=Ei.ReactCurrentOwner,fr=!1;function rr(t,e,r,n){e.child=t===null?HE(e,null,r,n):fa(e,t.child,r,n)}function f_(t,e,r,n,i){r=r.render;var s=e.ref;return ea(e,i),n=K0(t,e,r,n,s,i),r=q0(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(tt&&r&&L0(e),e.flags|=1,rr(t,e,n,i),e.child)}function p_(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!ay(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,pb(t,e,s,n,i)):(t=uc(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Hl,r(o,n)&&t.ref===e.ref)return vi(t,e,i)}return e.flags|=1,t=is(s,n),t.ref=e.ref,t.return=e,e.child=t}function pb(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Hl(s,n)&&t.ref===e.ref)if(fr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(fr=!0);else return e.lanes=t.lanes,vi(t,e,i)}return rg(t,e,r,n,i)}function mb(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Vo,Tr),Tr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Vo,Tr),Tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,We(Vo,Tr),Tr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,We(Vo,Tr),Tr|=n;return rr(t,e,i,r),e.child}function gb(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function rg(t,e,r,n,i){var s=gr(r)?Ys:Zt.current;return s=ca(e,s),ea(e,i),r=K0(t,e,r,n,s,i),n=q0(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(tt&&n&&L0(e),e.flags|=1,rr(t,e,r,i),e.child)}function m_(t,e,r,n,i){if(gr(r)){var s=!0;Ic(e)}else s=!1;if(ea(e,i),e.stateNode===null)oc(t,e),cb(e,r,n),eg(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var h=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Xr(c):(c=gr(r)?Ys:Zt.current,c=ca(e,c));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||h!==c)&&u_(e,o,n,c),zi=!1;var m=e.memoizedState;o.state=m,Nc(e,n,o,i),h=e.memoizedState,u!==n||m!==h||mr.current||zi?(typeof f=="function"&&(Jm(e,r,f,n),h=e.memoizedState),(u=zi||l_(e,r,u,n,m,h,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=h),o.props=n,o.state=h,o.context=c,n=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,jE(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:an(e.type,u),o.props=c,p=e.pendingProps,m=o.context,h=r.contextType,typeof h=="object"&&h!==null?h=Xr(h):(h=gr(r)?Ys:Zt.current,h=ca(e,h));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||m!==h)&&u_(e,o,n,h),zi=!1,m=e.memoizedState,o.state=m,Nc(e,n,o,i);var _=e.memoizedState;u!==p||m!==_||mr.current||zi?(typeof v=="function"&&(Jm(e,r,v,n),_=e.memoizedState),(c=zi||l_(e,r,c,n,m,_,h)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,h)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=h,n=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return ng(t,e,r,n,s,i)}function ng(t,e,r,n,i,s){gb(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&e_(e,r,!1),vi(t,e,s);n=e.stateNode,dR.current=e;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=fa(e,t.child,null,s),e.child=fa(e,null,u,s)):rr(t,e,u,s),e.memoizedState=n.state,i&&e_(e,r,!0),e.child}function yb(t){var e=t.stateNode;e.pendingContext?J1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&J1(t,e.context,!1),V0(t,e.containerInfo)}function g_(t,e,r,n,i){return da(),z0(i),e.flags|=256,rr(t,e,r,n),e.child}var ig={dehydrated:null,treeContext:null,retryLane:0};function sg(t){return{baseLanes:t,cachePool:null,transitions:null}}function vb(t,e,r){var n=e.pendingProps,i=ot.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(ot,i&1),t===null)return qm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sd(o,n,0,null),t=$s(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sg(r),e.memoizedState=ig,t):ey(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return fR(t,e,o,n,u,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,u=i.sibling;var h={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=h,e.deletions=null):(n=is(i,h),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=is(u,s):(s=$s(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?sg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=ig,n}return s=t.child,t=s.sibling,n=is(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ey(t,e){return e=Sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vh(t,e,r,n){return n!==null&&z0(n),fa(e,t.child,null,r),t=ey(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fR(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Rp(Error(Q(422))),vh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Sd({mode:"visible",children:n.children},i,0,null),s=$s(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&fa(e,t.child,null,o),e.child.memoizedState=sg(o),e.memoizedState=ig,s);if(!(e.mode&1))return vh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(Q(419)),n=Rp(s,n,void 0),vh(t,e,o,n)}if(u=(o&t.childLanes)!==0,fr||u){if(n=Bt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yi(t,i),pn(n,t,i,-1))}return oy(),n=Rp(Error(Q(421))),vh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ar=es(i.nextSibling),Cr=e,tt=!0,un=null,t!==null&&(Gr[Hr++]=oi,Gr[Hr++]=ai,Gr[Hr++]=Qs,oi=t.id,ai=t.overflow,Qs=e),e=ey(e,n.children),e.flags|=4096,e)}function y_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zm(t.return,e,r)}function Ip(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function _b(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(rr(t,e,n.children,r),n=ot.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y_(t,r,e);else if(t.tag===19)y_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(We(ot,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Bc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ip(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ip(e,!0,r,null,s);break;case"together":Ip(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),qs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,r=is(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=is(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function pR(t,e,r){switch(e.tag){case 3:yb(e),da();break;case 5:WE(e);break;case 1:gr(e.type)&&Ic(e);break;case 4:V0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;We(Dc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(We(ot,ot.current&1),e.flags|=128,null):r&e.child.childLanes?vb(t,e,r):(We(ot,ot.current&1),t=vi(t,e,r),t!==null?t.sibling:null);We(ot,ot.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return _b(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(ot,ot.current),n)break;return null;case 22:case 23:return e.lanes=0,mb(t,e,r)}return vi(t,e,r)}var xb,og,wb,Eb;xb=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};og=function(){};wb=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Gs($n.current);var s=null;switch(r){case"input":i=Pm(t,i),n=Pm(t,n),s=[];break;case"select":i=ut({},i,{value:void 0}),n=ut({},n,{value:void 0}),s=[];break;case"textarea":i=km(t,i),n=km(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Pc)}Dm(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var h=n[c];if(u=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&h!==u&&(h!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in h)h.hasOwnProperty(o)&&u[o]!==h[o]&&(r||(r={}),r[o]=h[o])}else r||(s||(s=[]),s.push(c,r)),r=h;else c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(c,h)):c==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(c,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(c)?(h!=null&&c==="onScroll"&&Xe("scroll",t),s||u===h||(s=[])):(s=s||[]).push(c,h))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Eb=function(t,e,r,n){r!==n&&(e.flags|=4)};function el(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function mR(t,e,r){var n=e.pendingProps;switch(U0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return gr(e.type)&&Rc(),Kt(e),null;case 3:return n=e.stateNode,pa(),Qe(mr),Qe(Zt),Y0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(gh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(pg(un),un=null))),og(t,e),Kt(e),null;case 5:X0(e);var i=Gs(Xl.current);if(r=e.type,t!==null&&e.stateNode!=null)wb(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Q(166));return Kt(e),null}if(t=Gs($n.current),gh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[zn]=e,n[Wl]=s,t=(e.mode&1)!==0,r){case"dialog":Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(i=0;i<cl.length;i++)Xe(cl[i],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"input":A1(n,s),Xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",n);break;case"textarea":P1(n,s),Xe("invalid",n)}Dm(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&mh(n.textContent,u,t),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&mh(n.textContent,u,t),i=["children",""+u]):Nl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Xe("scroll",n)}switch(r){case"input":ah(n),C1(n,s,!0);break;case"textarea":ah(n),R1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Pc)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[zn]=e,t[Wl]=n,xb(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fm(r,n),r){case"dialog":Xe("cancel",t),Xe("close",t),i=n;break;case"iframe":case"object":case"embed":Xe("load",t),i=n;break;case"video":case"audio":for(i=0;i<cl.length;i++)Xe(cl[i],t);i=n;break;case"source":Xe("error",t),i=n;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=n;break;case"details":Xe("toggle",t),i=n;break;case"input":A1(t,n),i=Pm(t,n),Xe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ut({},n,{value:void 0}),Xe("invalid",t);break;case"textarea":P1(t,n),i=km(t,n),Xe("invalid",t);break;default:i=n}Dm(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?Jw(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&qw(t,h)):s==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&Bl(t,h):typeof h=="number"&&Bl(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nl.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Xe("scroll",t):h!=null&&S0(t,s,h,o))}switch(r){case"input":ah(t),C1(t,n,!1);break;case"textarea":ah(t),R1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+os(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ko(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ko(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)Eb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Q(166));if(r=Gs(Xl.current),Gs($n.current),gh(e)){if(n=e.stateNode,r=e.memoizedProps,n[zn]=e,(s=n.nodeValue!==r)&&(t=Cr,t!==null))switch(t.tag){case 3:mh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zn]=e,e.stateNode=n}return Kt(e),null;case 13:if(Qe(ot),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Ar!==null&&e.mode&1&&!(e.flags&128))zE(),da(),e.flags|=98560,s=!1;else if(s=gh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[zn]=e}else da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else un!==null&&(pg(un),un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?Pt===0&&(Pt=3):oy())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return pa(),og(t,e),t===null&&$l(e.stateNode.containerInfo),Kt(e),null;case 10:return $0(e.type._context),Kt(e),null;case 17:return gr(e.type)&&Rc(),Kt(e),null;case 19:if(Qe(ot),s=e.memoizedState,s===null)return Kt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)el(s,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bc(t),o!==null){for(e.flags|=128,el(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return We(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&_t()>ga&&(e.flags|=128,n=!0,el(s,!1),e.lanes=4194304)}else{if(!n)if(t=Bc(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),el(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tt)return Kt(e),null}else 2*_t()-s.renderingStartTime>ga&&r!==1073741824&&(e.flags|=128,n=!0,el(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,r=ot.current,We(ot,n?r&1|2:r&1),e):(Kt(e),null);case 22:case 23:return sy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Tr&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function gR(t,e){switch(U0(e),e.tag){case 1:return gr(e.type)&&Rc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pa(),Qe(mr),Qe(Zt),Y0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return X0(e),null;case 13:if(Qe(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(ot),null;case 4:return pa(),null;case 10:return $0(e.type._context),null;case 22:case 23:return sy(),null;case 24:return null;default:return null}}var _h=!1,qt=!1,yR=typeof WeakSet=="function"?WeakSet:Set,he=null;function Wo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dt(t,e,n)}else r.current=null}function ag(t,e,r){try{r()}catch(n){dt(t,e,n)}}var v_=!1;function vR(t,e){if(jm=Tc,t=CE(),O0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,u=-1,h=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var v;p!==r||i!==0&&p.nodeType!==3||(u=o+i),p!==s||n!==0&&p.nodeType!==3||(h=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===r&&++c===i&&(u=o),m===s&&++f===n&&(h=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}r=u===-1||h===-1?null:{start:u,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wm={focusedElem:t,selectionRange:r},Tc=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,T=_.memoizedState,E=e.stateNode,b=E.getSnapshotBeforeUpdate(e.elementType===e.type?S:an(e.type,S),T);E.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(A){dt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return _=v_,v_=!1,_}function Cl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ag(e,r,s)}i=i.next}while(i!==n)}}function Ed(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function lg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function bb(t){var e=t.alternate;e!==null&&(t.alternate=null,bb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[Wl],delete e[Ym],delete e[eR],delete e[tR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sb(t){return t.tag===5||t.tag===3||t.tag===4}function __(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ug(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Pc));else if(n!==4&&(t=t.child,t!==null))for(ug(t,e,r),t=t.sibling;t!==null;)ug(t,e,r),t=t.sibling}function hg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(hg(t,e,r),t=t.sibling;t!==null;)hg(t,e,r),t=t.sibling}var Gt=null,ln=!1;function Ni(t,e,r){for(r=r.child;r!==null;)Tb(t,e,r),r=r.sibling}function Tb(t,e,r){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(pd,r)}catch{}switch(r.tag){case 5:qt||Wo(r,e);case 6:var n=Gt,i=ln;Gt=null,Ni(t,e,r),Gt=n,ln=i,Gt!==null&&(ln?(t=Gt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Gt.removeChild(r.stateNode));break;case 18:Gt!==null&&(ln?(t=Gt,r=r.stateNode,t.nodeType===8?bp(t.parentNode,r):t.nodeType===1&&bp(t,r),zl(t)):bp(Gt,r.stateNode));break;case 4:n=Gt,i=ln,Gt=r.stateNode.containerInfo,ln=!0,Ni(t,e,r),Gt=n,ln=i;break;case 0:case 11:case 14:case 15:if(!qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ag(r,e,o),i=i.next}while(i!==n)}Ni(t,e,r);break;case 1:if(!qt&&(Wo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){dt(r,e,u)}Ni(t,e,r);break;case 21:Ni(t,e,r);break;case 22:r.mode&1?(qt=(n=qt)||r.memoizedState!==null,Ni(t,e,r),qt=n):Ni(t,e,r);break;default:Ni(t,e,r)}}function x_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new yR),e.forEach(function(n){var i=CR.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function tn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Gt=u.stateNode,ln=!1;break e;case 3:Gt=u.stateNode.containerInfo,ln=!0;break e;case 4:Gt=u.stateNode.containerInfo,ln=!0;break e}u=u.return}if(Gt===null)throw Error(Q(160));Tb(s,o,i),Gt=null,ln=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(c){dt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ab(e,t),e=e.sibling}function Ab(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),Rn(t),n&4){try{Cl(3,t,t.return),Ed(3,t)}catch(S){dt(t,t.return,S)}try{Cl(5,t,t.return)}catch(S){dt(t,t.return,S)}}break;case 1:tn(e,t),Rn(t),n&512&&r!==null&&Wo(r,r.return);break;case 5:if(tn(e,t),Rn(t),n&512&&r!==null&&Wo(r,r.return),t.flags&32){var i=t.stateNode;try{Bl(i,"")}catch(S){dt(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Yw(i,s),Fm(u,o);var c=Fm(u,s);for(o=0;o<h.length;o+=2){var f=h[o],p=h[o+1];f==="style"?Jw(i,p):f==="dangerouslySetInnerHTML"?qw(i,p):f==="children"?Bl(i,p):S0(i,f,p,c)}switch(u){case"input":Rm(i,s);break;case"textarea":Qw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Ko(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ko(i,!!s.multiple,s.defaultValue,!0):Ko(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wl]=s}catch(S){dt(t,t.return,S)}}break;case 6:if(tn(e,t),Rn(t),n&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){dt(t,t.return,S)}}break;case 3:if(tn(e,t),Rn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zl(e.containerInfo)}catch(S){dt(t,t.return,S)}break;case 4:tn(e,t),Rn(t);break;case 13:tn(e,t),Rn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ny=_t())),n&4&&x_(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(qt=(c=qt)||f,tn(e,t),qt=c):tn(e,t),Rn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(he=t,f=t.child;f!==null;){for(p=he=f;he!==null;){switch(m=he,v=m.child,m.tag){case 0:case 11:case 14:case 15:Cl(4,m,m.return);break;case 1:Wo(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){dt(n,r,S)}}break;case 5:Wo(m,m.return);break;case 22:if(m.memoizedState!==null){E_(p);continue}}v!==null?(v.return=m,he=v):E_(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,h=p.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=Zw("display",o))}catch(S){dt(t,t.return,S)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(S){dt(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:tn(e,t),Rn(t),n&4&&x_(t);break;case 21:break;default:tn(e,t),Rn(t)}}function Rn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Sb(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bl(i,""),n.flags&=-33);var s=__(t);hg(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,u=__(t);ug(t,u,o);break;default:throw Error(Q(161))}}catch(h){dt(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _R(t,e,r){he=t,Cb(t)}function Cb(t,e,r){for(var n=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||_h;if(!o){var u=i.alternate,h=u!==null&&u.memoizedState!==null||qt;u=_h;var c=qt;if(_h=o,(qt=h)&&!c)for(he=i;he!==null;)o=he,h=o.child,o.tag===22&&o.memoizedState!==null?b_(i):h!==null?(h.return=o,he=h):b_(i);for(;s!==null;)he=s,Cb(s),s=s.sibling;he=i,_h=u,qt=c}w_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):w_(t)}}function w_(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||Ed(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!qt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:an(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&s_(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}s_(e,o,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&zl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}qt||e.flags&512&&lg(e)}catch(m){dt(e,e.return,m)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function E_(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function b_(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ed(4,e)}catch(h){dt(e,r,h)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(h){dt(e,i,h)}}var s=e.return;try{lg(e)}catch(h){dt(e,s,h)}break;case 5:var o=e.return;try{lg(e)}catch(h){dt(e,o,h)}}}catch(h){dt(e,e.return,h)}if(e===t){he=null;break}var u=e.sibling;if(u!==null){u.return=e.return,he=u;break}he=e.return}}var xR=Math.ceil,Uc=Ei.ReactCurrentDispatcher,ty=Ei.ReactCurrentOwner,Vr=Ei.ReactCurrentBatchConfig,Ne=0,Bt=null,Et=null,$t=0,Tr=0,Vo=cs(0),Pt=0,ql=null,qs=0,bd=0,ry=0,Pl=null,dr=null,ny=0,ga=1/0,ii=null,zc=!1,cg=null,rs=null,xh=!1,Xi=null,Gc=0,Rl=0,dg=null,ac=-1,lc=0;function ir(){return Ne&6?_t():ac!==-1?ac:ac=_t()}function ns(t){return t.mode&1?Ne&2&&$t!==0?$t&-$t:nR.transition!==null?(lc===0&&(lc=cE()),lc):(t=He,t!==0||(t=window.event,t=t===void 0?16:vE(t.type)),t):1}function pn(t,e,r,n){if(50<Rl)throw Rl=0,dg=null,Error(Q(185));au(t,r,n),(!(Ne&2)||t!==Bt)&&(t===Bt&&(!(Ne&2)&&(bd|=r),Pt===4&&ji(t,$t)),yr(t,n),r===1&&Ne===0&&!(e.mode&1)&&(ga=_t()+500,_d&&ds()))}function yr(t,e){var r=t.callbackNode;nP(t,e);var n=Sc(t,t===Bt?$t:0);if(n===0)r!==null&&M1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&M1(r),e===1)t.tag===0?rR(S_.bind(null,t)):OE(S_.bind(null,t)),ZP(function(){!(Ne&6)&&ds()}),r=null;else{switch(dE(n)){case 1:r=R0;break;case 4:r=uE;break;case 16:r=bc;break;case 536870912:r=hE;break;default:r=bc}r=Nb(r,Pb.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Pb(t,e){if(ac=-1,lc=0,Ne&6)throw Error(Q(327));var r=t.callbackNode;if(ta()&&t.callbackNode!==r)return null;var n=Sc(t,t===Bt?$t:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Hc(t,n);else{e=n;var i=Ne;Ne|=2;var s=Ib();(Bt!==t||$t!==e)&&(ii=null,ga=_t()+500,Hs(t,e));do try{bR();break}catch(u){Rb(t,u)}while(!0);H0(),Uc.current=s,Ne=i,Et!==null?e=0:(Bt=null,$t=0,e=Pt)}if(e!==0){if(e===2&&(i=Um(t),i!==0&&(n=i,e=fg(t,i))),e===1)throw r=ql,Hs(t,0),ji(t,n),yr(t,_t()),r;if(e===6)ji(t,n);else{if(i=t.current.alternate,!(n&30)&&!wR(i)&&(e=Hc(t,n),e===2&&(s=Um(t),s!==0&&(n=s,e=fg(t,s))),e===1))throw r=ql,Hs(t,0),ji(t,n),yr(t,_t()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Q(345));case 2:Is(t,dr,ii);break;case 3:if(ji(t,n),(n&130023424)===n&&(e=ny+500-_t(),10<e)){if(Sc(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ir(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xm(Is.bind(null,t,dr,ii),e);break}Is(t,dr,ii);break;case 4:if(ji(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-fn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=_t()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xR(n/1960))-n,10<n){t.timeoutHandle=Xm(Is.bind(null,t,dr,ii),n);break}Is(t,dr,ii);break;case 5:Is(t,dr,ii);break;default:throw Error(Q(329))}}}return yr(t,_t()),t.callbackNode===r?Pb.bind(null,t):null}function fg(t,e){var r=Pl;return t.current.memoizedState.isDehydrated&&(Hs(t,e).flags|=256),t=Hc(t,e),t!==2&&(e=dr,dr=r,e!==null&&pg(e)),t}function pg(t){dr===null?dr=t:dr.push.apply(dr,t)}function wR(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!yn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ji(t,e){for(e&=~ry,e&=~bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-fn(e),n=1<<r;t[r]=-1,e&=~n}}function S_(t){if(Ne&6)throw Error(Q(327));ta();var e=Sc(t,0);if(!(e&1))return yr(t,_t()),null;var r=Hc(t,e);if(t.tag!==0&&r===2){var n=Um(t);n!==0&&(e=n,r=fg(t,n))}if(r===1)throw r=ql,Hs(t,0),ji(t,e),yr(t,_t()),r;if(r===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Is(t,dr,ii),yr(t,_t()),null}function iy(t,e){var r=Ne;Ne|=1;try{return t(e)}finally{Ne=r,Ne===0&&(ga=_t()+500,_d&&ds())}}function Zs(t){Xi!==null&&Xi.tag===0&&!(Ne&6)&&ta();var e=Ne;Ne|=1;var r=Vr.transition,n=He;try{if(Vr.transition=null,He=1,t)return t()}finally{He=n,Vr.transition=r,Ne=e,!(Ne&6)&&ds()}}function sy(){Tr=Vo.current,Qe(Vo)}function Hs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,qP(r)),Et!==null)for(r=Et.return;r!==null;){var n=r;switch(U0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rc();break;case 3:pa(),Qe(mr),Qe(Zt),Y0();break;case 5:X0(n);break;case 4:pa();break;case 13:Qe(ot);break;case 19:Qe(ot);break;case 10:$0(n.type._context);break;case 22:case 23:sy()}r=r.return}if(Bt=t,Et=t=is(t.current,null),$t=Tr=e,Pt=0,ql=null,ry=bd=qs=0,dr=Pl=null,zs!==null){for(e=0;e<zs.length;e++)if(r=zs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}zs=null}return t}function Rb(t,e){do{var r=Et;try{if(H0(),ic.current=Lc,Oc){for(var n=lt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Oc=!1}if(Ks=0,Ft=Ct=lt=null,Al=!1,Yl=0,ty.current=null,r===null||r.return===null){Pt=1,ql=e,Et=null;break}e:{var s=t,o=r.return,u=r,h=e;if(e=$t,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var c=h,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=c_(o);if(v!==null){v.flags&=-257,d_(v,o,u,s,e),v.mode&1&&h_(s,c,e),e=v,h=c;var _=e.updateQueue;if(_===null){var S=new Set;S.add(h),e.updateQueue=S}else _.add(h);break e}else{if(!(e&1)){h_(s,c,e),oy();break e}h=Error(Q(426))}}else if(tt&&u.mode&1){var T=c_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),d_(T,o,u,s,e),z0(ma(h,u));break e}}s=h=ma(h,u),Pt!==4&&(Pt=2),Pl===null?Pl=[s]:Pl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=db(s,h,e);i_(s,E);break e;case 1:u=h;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(rs===null||!rs.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=fb(s,u,e);i_(s,A);break e}}s=s.return}while(s!==null)}Mb(r)}catch(R){e=R,Et===r&&r!==null&&(Et=r=r.return);continue}break}while(!0)}function Ib(){var t=Uc.current;return Uc.current=Lc,t===null?Lc:t}function oy(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Bt===null||!(qs&268435455)&&!(bd&268435455)||ji(Bt,$t)}function Hc(t,e){var r=Ne;Ne|=2;var n=Ib();(Bt!==t||$t!==e)&&(ii=null,Hs(t,e));do try{ER();break}catch(i){Rb(t,i)}while(!0);if(H0(),Ne=r,Uc.current=n,Et!==null)throw Error(Q(261));return Bt=null,$t=0,Pt}function ER(){for(;Et!==null;)kb(Et)}function bR(){for(;Et!==null&&!YC();)kb(Et)}function kb(t){var e=Fb(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,e===null?Mb(t):Et=e,ty.current=null}function Mb(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=gR(r,e),r!==null){r.flags&=32767,Et=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,Et=null;return}}else if(r=mR(r,e,Tr),r!==null){Et=r;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);Pt===0&&(Pt=5)}function Is(t,e,r){var n=He,i=Vr.transition;try{Vr.transition=null,He=1,SR(t,e,r,n)}finally{Vr.transition=i,He=n}return null}function SR(t,e,r,n){do ta();while(Xi!==null);if(Ne&6)throw Error(Q(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(iP(t,s),t===Bt&&(Et=Bt=null,$t=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xh||(xh=!0,Nb(bc,function(){return ta(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Vr.transition,Vr.transition=null;var o=He;He=1;var u=Ne;Ne|=4,ty.current=null,vR(t,r),Ab(r,t),jP(Wm),Tc=!!jm,Wm=jm=null,t.current=r,_R(r),QC(),Ne=u,He=o,Vr.transition=s}else t.current=r;if(xh&&(xh=!1,Xi=t,Gc=i),s=t.pendingLanes,s===0&&(rs=null),ZC(r.stateNode),yr(t,_t()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(zc)throw zc=!1,t=cg,cg=null,t;return Gc&1&&t.tag!==0&&ta(),s=t.pendingLanes,s&1?t===dg?Rl++:(Rl=0,dg=t):Rl=0,ds(),null}function ta(){if(Xi!==null){var t=dE(Gc),e=Vr.transition,r=He;try{if(Vr.transition=null,He=16>t?16:t,Xi===null)var n=!1;else{if(t=Xi,Xi=null,Gc=0,Ne&6)throw Error(Q(331));var i=Ne;for(Ne|=4,he=t.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var c=u[h];for(he=c;he!==null;){var f=he;switch(f.tag){case 0:case 11:case 15:Cl(8,f,s)}var p=f.child;if(p!==null)p.return=f,he=p;else for(;he!==null;){f=he;var m=f.sibling,v=f.return;if(bb(f),f===c){he=null;break}if(m!==null){m.return=v,he=m;break}he=v}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cl(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,he=E;break e}he=s.return}}var b=t.current;for(he=b;he!==null;){o=he;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,he=w;else e:for(o=b;he!==null;){if(u=he,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ed(9,u)}}catch(R){dt(u,u.return,R)}if(u===o){he=null;break e}var A=u.sibling;if(A!==null){A.return=u.return,he=A;break e}he=u.return}}if(Ne=i,ds(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(pd,t)}catch{}n=!0}return n}finally{He=r,Vr.transition=e}}return!1}function T_(t,e,r){e=ma(r,e),e=db(t,e,1),t=ts(t,e,1),e=ir(),t!==null&&(au(t,1,e),yr(t,e))}function dt(t,e,r){if(t.tag===3)T_(t,t,r);else for(;e!==null;){if(e.tag===3){T_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rs===null||!rs.has(n))){t=ma(r,t),t=fb(e,t,1),e=ts(e,t,1),t=ir(),e!==null&&(au(e,1,t),yr(e,t));break}}e=e.return}}function TR(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ir(),t.pingedLanes|=t.suspendedLanes&r,Bt===t&&($t&r)===r&&(Pt===4||Pt===3&&($t&130023424)===$t&&500>_t()-ny?Hs(t,0):ry|=r),yr(t,e)}function Db(t,e){e===0&&(t.mode&1?(e=hh,hh<<=1,!(hh&130023424)&&(hh=4194304)):e=1);var r=ir();t=yi(t,e),t!==null&&(au(t,e,r),yr(t,r))}function AR(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Db(t,r)}function CR(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(e),Db(t,r)}var Fb;Fb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)fr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return fr=!1,pR(t,e,r);fr=!!(t.flags&131072)}else fr=!1,tt&&e.flags&1048576&&LE(e,Mc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;oc(t,e),t=e.pendingProps;var i=ca(e,Zt.current);ea(e,r),i=K0(null,e,n,t,i,r);var s=q0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(n)?(s=!0,Ic(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,W0(e),i.updater=wd,e.stateNode=i,i._reactInternals=e,eg(e,n,t,r),e=ng(null,e,n,!0,s,r)):(e.tag=0,tt&&s&&L0(e),rr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(oc(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=RR(n),t=an(n,t),i){case 0:e=rg(null,e,n,t,r);break e;case 1:e=m_(null,e,n,t,r);break e;case 11:e=f_(null,e,n,t,r);break e;case 14:e=p_(null,e,n,an(n.type,t),r);break e}throw Error(Q(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),rg(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),m_(t,e,n,i,r);case 3:e:{if(yb(e),t===null)throw Error(Q(387));n=e.pendingProps,s=e.memoizedState,i=s.element,jE(t,e),Nc(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ma(Error(Q(423)),e),e=g_(t,e,n,r,i);break e}else if(n!==i){i=ma(Error(Q(424)),e),e=g_(t,e,n,r,i);break e}else for(Ar=es(e.stateNode.containerInfo.firstChild),Cr=e,tt=!0,un=null,r=HE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(da(),n===i){e=vi(t,e,r);break e}rr(t,e,n,r)}e=e.child}return e;case 5:return WE(e),t===null&&qm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vm(n,i)?o=null:s!==null&&Vm(n,s)&&(e.flags|=32),gb(t,e),rr(t,e,o,r),e.child;case 6:return t===null&&qm(e),null;case 13:return vb(t,e,r);case 4:return V0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=fa(e,null,n,r):rr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),f_(t,e,n,i,r);case 7:return rr(t,e,e.pendingProps,r),e.child;case 8:return rr(t,e,e.pendingProps.children,r),e.child;case 12:return rr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,We(Dc,n._currentValue),n._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===i.children&&!mr.current){e=vi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var h=u.firstContext;h!==null;){if(h.context===n){if(s.tag===1){h=di(-1,r&-r),h.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?h.next=h:(h.next=f.next,f.next=h),c.pending=h}}s.lanes|=r,h=s.alternate,h!==null&&(h.lanes|=r),Zm(s.return,r,e),u.lanes|=r;break}h=h.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Q(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),Zm(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ea(e,r),i=Xr(i),n=n(i),e.flags|=1,rr(t,e,n,r),e.child;case 14:return n=e.type,i=an(n,e.pendingProps),i=an(n.type,i),p_(t,e,n,i,r);case 15:return pb(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),oc(t,e),e.tag=1,gr(n)?(t=!0,Ic(e)):t=!1,ea(e,r),cb(e,n,i),eg(e,n,i,r),ng(null,e,n,!0,t,r);case 19:return _b(t,e,r);case 22:return mb(t,e,r)}throw Error(Q(156,e.tag))};function Nb(t,e){return lE(t,e)}function PR(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(t,e,r,n){return new PR(t,e,r,n)}function ay(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RR(t){if(typeof t=="function")return ay(t)?1:0;if(t!=null){if(t=t.$$typeof,t===A0)return 11;if(t===C0)return 14}return 2}function is(t,e){var r=t.alternate;return r===null?(r=$r(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function uc(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")ay(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bo:return $s(r.children,i,s,e);case T0:o=8,i|=8;break;case Sm:return t=$r(12,r,e,i|2),t.elementType=Sm,t.lanes=s,t;case Tm:return t=$r(13,r,e,i),t.elementType=Tm,t.lanes=s,t;case Am:return t=$r(19,r,e,i),t.elementType=Am,t.lanes=s,t;case Ww:return Sd(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $w:o=10;break e;case jw:o=9;break e;case A0:o=11;break e;case C0:o=14;break e;case Ui:o=16,n=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=$r(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function $s(t,e,r,n){return t=$r(7,t,n,e),t.lanes=r,t}function Sd(t,e,r,n){return t=$r(22,t,n,e),t.elementType=Ww,t.lanes=r,t.stateNode={isHidden:!1},t}function kp(t,e,r){return t=$r(6,t,null,e),t.lanes=r,t}function Mp(t,e,r){return e=$r(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IR(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dp(0),this.expirationTimes=dp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ly(t,e,r,n,i,s,o,u,h){return t=new IR(t,e,r,u,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$r(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},W0(s),t}function kR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Bb(t){if(!t)return as;t=t._reactInternals;e:{if(ro(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var r=t.type;if(gr(r))return BE(t,r,e)}return e}function Ob(t,e,r,n,i,s,o,u,h){return t=ly(r,n,!0,t,i,s,o,u,h),t.context=Bb(null),r=t.current,n=ir(),i=ns(r),s=di(n,i),s.callback=e??null,ts(r,s,i),t.current.lanes=i,au(t,i,n),yr(t,n),t}function Td(t,e,r,n){var i=e.current,s=ir(),o=ns(i);return r=Bb(r),e.context===null?e.context=r:e.pendingContext=r,e=di(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ts(i,e,o),t!==null&&(pn(t,i,o,s),nc(t,i,o)),o}function $c(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function A_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function uy(t,e){A_(t,e),(t=t.alternate)&&A_(t,e)}function MR(){return null}var Lb=typeof reportError=="function"?reportError:function(t){console.error(t)};function hy(t){this._internalRoot=t}Ad.prototype.render=hy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Td(t,e,null,null)};Ad.prototype.unmount=hy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zs(function(){Td(null,t,null,null)}),e[gi]=null}};function Ad(t){this._internalRoot=t}Ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=mE();t={blockedOn:null,target:t,priority:e};for(var r=0;r<$i.length&&e!==0&&e<$i[r].priority;r++);$i.splice(r,0,t),r===0&&yE(t)}};function cy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function C_(){}function DR(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=$c(o);s.call(c)}}var o=Ob(e,n,t,0,null,!1,!1,"",C_);return t._reactRootContainer=o,t[gi]=o.current,$l(t.nodeType===8?t.parentNode:t),Zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var c=$c(h);u.call(c)}}var h=ly(t,0,!1,null,null,!1,!1,"",C_);return t._reactRootContainer=h,t[gi]=h.current,$l(t.nodeType===8?t.parentNode:t),Zs(function(){Td(e,h,r,n)}),h}function Pd(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var h=$c(o);u.call(h)}}Td(e,o,t,i)}else o=DR(r,e,t,i,n);return $c(o)}fE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=hl(e.pendingLanes);r!==0&&(I0(e,r|1),yr(e,_t()),!(Ne&6)&&(ga=_t()+500,ds()))}break;case 13:Zs(function(){var n=yi(t,1);if(n!==null){var i=ir();pn(n,t,1,i)}}),uy(t,1)}};k0=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var r=ir();pn(e,t,134217728,r)}uy(t,134217728)}};pE=function(t){if(t.tag===13){var e=ns(t),r=yi(t,e);if(r!==null){var n=ir();pn(r,t,e,n)}uy(t,e)}};mE=function(){return He};gE=function(t,e){var r=He;try{return He=t,e()}finally{He=r}};Bm=function(t,e,r){switch(e){case"input":if(Rm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=vd(n);if(!i)throw Error(Q(90));Xw(n),Rm(n,i)}}}break;case"textarea":Qw(t,r);break;case"select":e=r.value,e!=null&&Ko(t,!!r.multiple,e,!1)}};rE=iy;nE=Zs;var FR={usingClientEntryPoint:!1,Events:[uu,zo,vd,eE,tE,iy]},tl={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NR={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oE(t),t===null?null:t.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||MR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{pd=wh.inject(NR),Hn=wh}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FR;Ir.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cy(e))throw Error(Q(200));return kR(t,e,null,r)};Ir.createRoot=function(t,e){if(!cy(t))throw Error(Q(299));var r=!1,n="",i=Lb;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ly(t,1,!1,null,null,r,!1,n,i),t[gi]=e.current,$l(t.nodeType===8?t.parentNode:t),new hy(e)};Ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=oE(e),t=t===null?null:t.stateNode,t};Ir.flushSync=function(t){return Zs(t)};Ir.hydrate=function(t,e,r){if(!Cd(e))throw Error(Q(200));return Pd(null,t,e,!0,r)};Ir.hydrateRoot=function(t,e,r){if(!cy(t))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Lb;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Ob(e,null,t,1,r??null,i,!1,s,o),t[gi]=e.current,$l(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ad(e)};Ir.render=function(t,e,r){if(!Cd(e))throw Error(Q(200));return Pd(null,t,e,!1,r)};Ir.unmountComponentAtNode=function(t){if(!Cd(t))throw Error(Q(40));return t._reactRootContainer?(Zs(function(){Pd(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};Ir.unstable_batchedUpdates=iy;Ir.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Cd(r))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Pd(t,e,r,!1,n)};Ir.version="18.3.1-next-f1338f8080-20240426";function Ub(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ub)}catch(t){console.error(t)}}Ub(),Uw.exports=Ir;var BR=Uw.exports,zb,P_=BR;zb=P_.createRoot,P_.hydrateRoot;var Rd={exports:{}},no=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(no||{}),Gb=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(Gb||{}),mg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(mg||{}),Ee=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Ee||{}),cn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(cn||{}),Z=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(Z||{}),ra=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(ra||{}),ye=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ye||{}),oe=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(oe||{}),li=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(li||{}),fi=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(fi||{}),Vn=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Vn||{}),pr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(pr||{}),Ln=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Ln||{}),dy=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(dy||{}),jr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(jr||{}),At=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(At||{}),wt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(wt||{}),jn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(jn||{});const OR={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ae={ADAPTER:OR,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Dp=/iPhone/i,R_=/iPod/i,I_=/iPad/i,k_=/\biOS-universal(?:.+)Mac\b/i,Fp=/\bAndroid(?:.+)Mobile\b/i,M_=/Android/i,Eo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Eh=/Silk/i,ti=/Windows Phone/i,D_=/\bWindows(?:.+)ARM\b/i,F_=/BlackBerry/i,N_=/BB10/i,B_=/Opera Mini/i,O_=/\b(CriOS|Chrome)(?:.+)Mobile/i,L_=/Mobile(?:.+)Firefox\b/i,U_=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function LR(t){return function(e){return e.test(t)}}function z_(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=LR(r),s={apple:{phone:i(Dp)&&!i(ti),ipod:i(R_),tablet:!i(Dp)&&(i(I_)||U_(e))&&!i(ti),universal:i(k_),device:(i(Dp)||i(R_)||i(I_)||i(k_)||U_(e))&&!i(ti)},amazon:{phone:i(Eo),tablet:!i(Eo)&&i(Eh),device:i(Eo)||i(Eh)},android:{phone:!i(ti)&&i(Eo)||!i(ti)&&i(Fp),tablet:!i(ti)&&!i(Eo)&&!i(Fp)&&(i(Eh)||i(M_)),device:!i(ti)&&(i(Eo)||i(Eh)||i(Fp)||i(M_))||i(/\bokhttp\b/i)},windows:{phone:i(ti),tablet:i(D_),device:i(ti)||i(D_)},other:{blackberry:i(F_),blackberry10:i(N_),opera:i(B_),firefox:i(L_),chrome:i(O_),device:i(F_)||i(N_)||i(B_)||i(L_)||i(O_)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const UR=z_.default??z_,ui=UR(globalThis.navigator);ae.RETINA_PREFIX=/@([0-9\.]+)x/;ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Hb={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(h,c,f){this.fn=h,this.context=c,this.once=f||!1}function s(h,c,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||h,m),_=r?r+c:c;return h._events[_]?h._events[_].fn?h._events[_]=[h._events[_],v]:h._events[_].push(v):(h._events[_]=v,h._eventsCount++),h}function o(h,c){--h._eventsCount===0?h._events=new n:delete h._events[c]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],f,p;if(this._eventsCount===0)return c;for(p in f=this._events)e.call(f,p)&&c.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},u.prototype.listeners=function(c){var f=r?r+c:c,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,v=p.length,_=new Array(v);m<v;m++)_[m]=p[m].fn;return _},u.prototype.listenerCount=function(c){var f=r?r+c:c,p=this._events[f];return p?p.fn?1:p.length:0},u.prototype.emit=function(c,f,p,m,v,_){var S=r?r+c:c;if(!this._events[S])return!1;var T=this._events[S],E=arguments.length,b,w;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),E){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,p),!0;case 4:return T.fn.call(T.context,f,p,m),!0;case 5:return T.fn.call(T.context,f,p,m,v),!0;case 6:return T.fn.call(T.context,f,p,m,v,_),!0}for(w=1,b=new Array(E-1);w<E;w++)b[w-1]=arguments[w];T.fn.apply(T.context,b)}else{var A=T.length,R;for(w=0;w<A;w++)switch(T[w].once&&this.removeListener(c,T[w].fn,void 0,!0),E){case 1:T[w].fn.call(T[w].context);break;case 2:T[w].fn.call(T[w].context,f);break;case 3:T[w].fn.call(T[w].context,f,p);break;case 4:T[w].fn.call(T[w].context,f,p,m);break;default:if(!b)for(R=1,b=new Array(E-1);R<E;R++)b[R-1]=arguments[R];T[w].fn.apply(T[w].context,b)}}return!0},u.prototype.on=function(c,f,p){return s(this,c,f,p,!1)},u.prototype.once=function(c,f,p){return s(this,c,f,p,!0)},u.prototype.removeListener=function(c,f,p,m){var v=r?r+c:c;if(!this._events[v])return this;if(!f)return o(this,v),this;var _=this._events[v];if(_.fn)_.fn===f&&(!m||_.once)&&(!p||_.context===p)&&o(this,v);else{for(var S=0,T=[],E=_.length;S<E;S++)(_[S].fn!==f||m&&!_[S].once||p&&_[S].context!==p)&&T.push(_[S]);T.length?this._events[v]=T.length===1?T[0]:T:o(this,v)}return this},u.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Hb);var zR=Hb.exports;const cu=dd(zR);var fy={exports:{}};fy.exports=Id;fy.exports.default=Id;function Id(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=$b(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var u,h,c,f,p,m,v;if(n&&(s=WR(t,e,s,r)),t.length>80*r){u=c=t[0],h=f=t[1];for(var _=r;_<i;_+=r)p=t[_],m=t[_+1],p<u&&(u=p),m<h&&(h=m),p>c&&(c=p),m>f&&(f=m);v=Math.max(c-u,f-h),v=v!==0?32767/v:0}return Zl(s,o,r,u,h,v,0),o}function $b(t,e,r,n,i){var s,o;if(i===vg(t,e,r,n)>0)for(s=e;s<r;s+=n)o=G_(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=G_(s,t[s],t[s+1],o);return o&&kd(o,o.next)&&(eu(o),o=o.next),o}function Js(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(kd(r,r.next)||at(r.prev,r,r.next)===0)){if(eu(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Zl(t,e,r,n,i,s,o){if(t){!o&&s&&KR(t,n,i,s);for(var u=t,h,c;t.prev!==t.next;){if(h=t.prev,c=t.next,s?HR(t,n,i,s):GR(t)){e.push(h.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),eu(t),t=c.next,u=c.next;continue}if(t=c,t===u){o?o===1?(t=$R(Js(t),e,r),Zl(t,e,r,n,i,s,2)):o===2&&jR(t,e,r,n,i,s):Zl(Js(t),e,r,n,i,s,1);break}}}}function GR(t){var e=t.prev,r=t,n=t.next;if(at(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,u=e.y,h=r.y,c=n.y,f=i<s?i<o?i:o:s<o?s:o,p=u<h?u<c?u:c:h<c?h:c,m=i>s?i>o?i:o:s>o?s:o,v=u>h?u>c?u:c:h>c?h:c,_=n.next;_!==e;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=v&&Xo(i,u,s,h,o,c,_.x,_.y)&&at(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function HR(t,e,r,n){var i=t.prev,s=t,o=t.next;if(at(i,s,o)>=0)return!1;for(var u=i.x,h=s.x,c=o.x,f=i.y,p=s.y,m=o.y,v=u<h?u<c?u:c:h<c?h:c,_=f<p?f<m?f:m:p<m?p:m,S=u>h?u>c?u:c:h>c?h:c,T=f>p?f>m?f:m:p>m?p:m,E=gg(v,_,e,r,n),b=gg(S,T,e,r,n),w=t.prevZ,A=t.nextZ;w&&w.z>=E&&A&&A.z<=b;){if(w.x>=v&&w.x<=S&&w.y>=_&&w.y<=T&&w!==i&&w!==o&&Xo(u,f,h,p,c,m,w.x,w.y)&&at(w.prev,w,w.next)>=0||(w=w.prevZ,A.x>=v&&A.x<=S&&A.y>=_&&A.y<=T&&A!==i&&A!==o&&Xo(u,f,h,p,c,m,A.x,A.y)&&at(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;w&&w.z>=E;){if(w.x>=v&&w.x<=S&&w.y>=_&&w.y<=T&&w!==i&&w!==o&&Xo(u,f,h,p,c,m,w.x,w.y)&&at(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=b;){if(A.x>=v&&A.x<=S&&A.y>=_&&A.y<=T&&A!==i&&A!==o&&Xo(u,f,h,p,c,m,A.x,A.y)&&at(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function $R(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!kd(i,s)&&jb(i,n,n.next,s)&&Jl(i,s)&&Jl(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),eu(n),eu(n.next),n=t=s),n=n.next}while(n!==t);return Js(n)}function jR(t,e,r,n,i,s){var o=t;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&JR(o,u)){var h=Wb(o,u);o=Js(o,o.next),h=Js(h,h.next),Zl(o,e,r,n,i,s,0),Zl(h,e,r,n,i,s,0);return}u=u.next}o=o.next}while(o!==t)}function WR(t,e,r,n){var i=[],s,o,u,h,c;for(s=0,o=e.length;s<o;s++)u=e[s]*n,h=s<o-1?e[s+1]*n:t.length,c=$b(t,u,h,n,!1),c===c.next&&(c.steiner=!0),i.push(ZR(c));for(i.sort(VR),s=0;s<i.length;s++)r=XR(i[s],r);return r}function VR(t,e){return t.x-e.x}function XR(t,e){var r=YR(t,e);if(!r)return e;var n=Wb(r,t);return Js(n,n.next),Js(r,r.next)}function YR(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>s&&(s=u,o=r.x<r.next.x?r:r.next,u===n))return o}r=r.next}while(r!==e);if(!o)return null;var h=o,c=o.x,f=o.y,p=1/0,m;r=o;do n>=r.x&&r.x>=c&&n!==r.x&&Xo(i<f?n:s,i,c,f,i<f?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),Jl(r,t)&&(m<p||m===p&&(r.x>o.x||r.x===o.x&&QR(o,r)))&&(o=r,p=m)),r=r.next;while(r!==h);return o}function QR(t,e){return at(t.prev,t,e.prev)<0&&at(e.next,t,t.next)<0}function KR(t,e,r,n){var i=t;do i.z===0&&(i.z=gg(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,qR(i)}function qR(t){var e,r,n,i,s,o,u,h,c=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,u=0,e=0;e<c&&(u++,n=n.nextZ,!!n);e++);for(h=c;u>0||h>0&&n;)u!==0&&(h===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,h--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,c*=2}while(o>1);return t}function gg(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function ZR(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Xo(t,e,r,n,i,s,o,u){return(i-o)*(e-u)>=(t-o)*(s-u)&&(t-o)*(n-u)>=(r-o)*(e-u)&&(r-o)*(s-u)>=(i-o)*(n-u)}function JR(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!eI(t,e)&&(Jl(t,e)&&Jl(e,t)&&tI(t,e)&&(at(t.prev,t,e.prev)||at(t,e.prev,e))||kd(t,e)&&at(t.prev,t,t.next)>0&&at(e.prev,e,e.next)>0)}function at(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function kd(t,e){return t.x===e.x&&t.y===e.y}function jb(t,e,r,n){var i=Sh(at(t,e,r)),s=Sh(at(t,e,n)),o=Sh(at(r,n,t)),u=Sh(at(r,n,e));return!!(i!==s&&o!==u||i===0&&bh(t,r,e)||s===0&&bh(t,n,e)||o===0&&bh(r,t,n)||u===0&&bh(r,e,n))}function bh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Sh(t){return t>0?1:t<0?-1:0}function eI(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&jb(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Jl(t,e){return at(t.prev,t,t.next)<0?at(t,e,t.next)>=0&&at(t,t.prev,e)>=0:at(t,e,t.prev)<0||at(t,t.next,e)<0}function tI(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Wb(t,e){var r=new yg(t.i,t.x,t.y),n=new yg(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function G_(t,e,r,n){var i=new yg(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function eu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function yg(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Id.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(vg(t,0,s,r));if(i)for(var u=0,h=e.length;u<h;u++){var c=e[u]*r,f=u<h-1?e[u+1]*r:t.length;o-=Math.abs(vg(t,c,f,r))}var p=0;for(u=0;u<n.length;u+=3){var m=n[u]*r,v=n[u+1]*r,_=n[u+2]*r;p+=Math.abs((t[m]-t[_])*(t[v+1]-t[m+1])-(t[m]-t[v])*(t[_+1]-t[m+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function vg(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Id.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var rI=fy.exports;const nI=dd(rI);var jc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */jc.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof xl=="object"&&xl;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,u=2147483647,h=36,c=1,f=26,p=38,m=700,v=72,_=128,S="-",T=/^xn--/,E=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=h-c,R=Math.floor,O=String.fromCharCode,D;function k(F){throw new RangeError(w[F])}function V(F,L){for(var te=F.length,Ae=[];te--;)Ae[te]=L(F[te]);return Ae}function $(F,L){var te=F.split("@"),Ae="";te.length>1&&(Ae=te[0]+"@",F=te[1]),F=F.replace(b,".");var xe=F.split("."),Pe=V(xe,L).join(".");return Ae+Pe}function ce(F){for(var L=[],te=0,Ae=F.length,xe,Pe;te<Ae;)xe=F.charCodeAt(te++),xe>=55296&&xe<=56319&&te<Ae?(Pe=F.charCodeAt(te++),(Pe&64512)==56320?L.push(((xe&1023)<<10)+(Pe&1023)+65536):(L.push(xe),te--)):L.push(xe);return L}function K(F){return V(F,function(L){var te="";return L>65535&&(L-=65536,te+=O(L>>>10&1023|55296),L=56320|L&1023),te+=O(L),te}).join("")}function N(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:h}function X(F,L){return F+22+75*(F<26)-((L!=0)<<5)}function ee(F,L,te){var Ae=0;for(F=te?R(F/m):F>>1,F+=R(F/L);F>A*f>>1;Ae+=h)F=R(F/A);return R(Ae+(A+1)*F/(F+p))}function le(F){var L=[],te=F.length,Ae,xe=0,Pe=_,Se=v,De,qe,pt,$e,Te,Ue,re,mt,nt;for(De=F.lastIndexOf(S),De<0&&(De=0),qe=0;qe<De;++qe)F.charCodeAt(qe)>=128&&k("not-basic"),L.push(F.charCodeAt(qe));for(pt=De>0?De+1:0;pt<te;){for($e=xe,Te=1,Ue=h;pt>=te&&k("invalid-input"),re=N(F.charCodeAt(pt++)),(re>=h||re>R((u-xe)/Te))&&k("overflow"),xe+=re*Te,mt=Ue<=Se?c:Ue>=Se+f?f:Ue-Se,!(re<mt);Ue+=h)nt=h-mt,Te>R(u/nt)&&k("overflow"),Te*=nt;Ae=L.length+1,Se=ee(xe-$e,Ae,$e==0),R(xe/Ae)>u-Pe&&k("overflow"),Pe+=R(xe/Ae),xe%=Ae,L.splice(xe++,0,Pe)}return K(L)}function se(F){var L,te,Ae,xe,Pe,Se,De,qe,pt,$e,Te,Ue=[],re,mt,nt,_r;for(F=ce(F),re=F.length,L=_,te=0,Pe=v,Se=0;Se<re;++Se)Te=F[Se],Te<128&&Ue.push(O(Te));for(Ae=xe=Ue.length,xe&&Ue.push(S);Ae<re;){for(De=u,Se=0;Se<re;++Se)Te=F[Se],Te>=L&&Te<De&&(De=Te);for(mt=Ae+1,De-L>R((u-te)/mt)&&k("overflow"),te+=(De-L)*mt,L=De,Se=0;Se<re;++Se)if(Te=F[Se],Te<L&&++te>u&&k("overflow"),Te==L){for(qe=te,pt=h;$e=pt<=Pe?c:pt>=Pe+f?f:pt-Pe,!(qe<$e);pt+=h)_r=qe-$e,nt=h-$e,Ue.push(O(X($e+_r%nt,0))),qe=R(_r/nt);Ue.push(O(X(qe,0))),Pe=ee(te,mt,Ae==xe),te=0,++Ae}++te,++L}return Ue.join("")}function I(F){return $(F,function(L){return T.test(L)?le(L.slice(4).toLowerCase()):L})}function G(F){return $(F,function(L){return E.test(L)?"xn--"+se(L):L})}if(o={version:"1.4.1",ucs2:{decode:ce,encode:K},decode:le,encode:se,toASCII:G,toUnicode:I},n&&i)if(t.exports==n)i.exports=o;else for(D in o)o.hasOwnProperty(D)&&(n[D]=o[D]);else r.punycode=o})(xl)})(jc,jc.exports);var iI=jc.exports,sI=Error,oI=EvalError,aI=RangeError,lI=ReferenceError,Vb=SyntaxError,du=TypeError,uI=URIError,hI=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},H_=typeof Symbol<"u"&&Symbol,cI=hI,dI=function(){return typeof H_!="function"||typeof Symbol!="function"||typeof H_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:cI()},Np={__proto__:null,foo:{}},fI=Object,pI=function(){return{__proto__:Np}.foo===Np.foo&&!(Np instanceof fI)},mI="Function.prototype.bind called on incompatible ",gI=Object.prototype.toString,yI=Math.max,vI="[object Function]",$_=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},_I=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},xI=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},wI=function(e){var r=this;if(typeof r!="function"||gI.apply(r)!==vI)throw new TypeError(mI+r);for(var n=_I(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,$_(n,arguments));return Object(f)===f?f:this}return r.apply(e,$_(n,arguments))},o=yI(0,r.length-n.length),u=[],h=0;h<o;h++)u[h]="$"+h;if(i=Function("binder","return function ("+xI(u,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},EI=wI,py=Function.prototype.bind||EI,bI=Function.prototype.call,SI=Object.prototype.hasOwnProperty,TI=py,AI=TI.call(bI,SI),ke,CI=sI,PI=oI,RI=aI,II=lI,ya=Vb,na=du,kI=uI,Xb=Function,Bp=function(t){try{return Xb('"use strict"; return ('+t+").constructor;")()}catch{}},js=Object.getOwnPropertyDescriptor;if(js)try{js({},"")}catch{js=null}var Op=function(){throw new na},MI=js?function(){try{return arguments.callee,Op}catch{try{return js(arguments,"callee").get}catch{return Op}}}():Op,bo=dI(),DI=pI(),Dt=Object.getPrototypeOf||(DI?function(t){return t.__proto__}:null),Po={},FI=typeof Uint8Array>"u"||!Dt?ke:Dt(Uint8Array),Ws={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ke:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ke:ArrayBuffer,"%ArrayIteratorPrototype%":bo&&Dt?Dt([][Symbol.iterator]()):ke,"%AsyncFromSyncIteratorPrototype%":ke,"%AsyncFunction%":Po,"%AsyncGenerator%":Po,"%AsyncGeneratorFunction%":Po,"%AsyncIteratorPrototype%":Po,"%Atomics%":typeof Atomics>"u"?ke:Atomics,"%BigInt%":typeof BigInt>"u"?ke:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ke:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ke:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ke:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":CI,"%eval%":eval,"%EvalError%":PI,"%Float32Array%":typeof Float32Array>"u"?ke:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ke:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ke:FinalizationRegistry,"%Function%":Xb,"%GeneratorFunction%":Po,"%Int8Array%":typeof Int8Array>"u"?ke:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ke:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ke:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":bo&&Dt?Dt(Dt([][Symbol.iterator]())):ke,"%JSON%":typeof JSON=="object"?JSON:ke,"%Map%":typeof Map>"u"?ke:Map,"%MapIteratorPrototype%":typeof Map>"u"||!bo||!Dt?ke:Dt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ke:Promise,"%Proxy%":typeof Proxy>"u"?ke:Proxy,"%RangeError%":RI,"%ReferenceError%":II,"%Reflect%":typeof Reflect>"u"?ke:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ke:Set,"%SetIteratorPrototype%":typeof Set>"u"||!bo||!Dt?ke:Dt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ke:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":bo&&Dt?Dt(""[Symbol.iterator]()):ke,"%Symbol%":bo?Symbol:ke,"%SyntaxError%":ya,"%ThrowTypeError%":MI,"%TypedArray%":FI,"%TypeError%":na,"%Uint8Array%":typeof Uint8Array>"u"?ke:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ke:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ke:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ke:Uint32Array,"%URIError%":kI,"%WeakMap%":typeof WeakMap>"u"?ke:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ke:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ke:WeakSet};if(Dt)try{null.error}catch(t){var NI=Dt(Dt(t));Ws["%Error.prototype%"]=NI}var BI=function t(e){var r;if(e==="%AsyncFunction%")r=Bp("async function () {}");else if(e==="%GeneratorFunction%")r=Bp("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Bp("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Dt&&(r=Dt(i.prototype))}return Ws[e]=r,r},j_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},fu=py,Wc=AI,OI=fu.call(Function.call,Array.prototype.concat),LI=fu.call(Function.apply,Array.prototype.splice),W_=fu.call(Function.call,String.prototype.replace),Vc=fu.call(Function.call,String.prototype.slice),UI=fu.call(Function.call,RegExp.prototype.exec),zI=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,GI=/\\(\\)?/g,HI=function(e){var r=Vc(e,0,1),n=Vc(e,-1);if(r==="%"&&n!=="%")throw new ya("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ya("invalid intrinsic syntax, expected opening `%`");var i=[];return W_(e,zI,function(s,o,u,h){i[i.length]=u?W_(h,GI,"$1"):o||s}),i},$I=function(e,r){var n=e,i;if(Wc(j_,n)&&(i=j_[n],n="%"+i[0]+"%"),Wc(Ws,n)){var s=Ws[n];if(s===Po&&(s=BI(n)),typeof s>"u"&&!r)throw new na("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ya("intrinsic "+e+" does not exist!")},Sa=function(e,r){if(typeof e!="string"||e.length===0)throw new na("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new na('"allowMissing" argument must be a boolean');if(UI(/^%?[^%]*%?$/,e)===null)throw new ya("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=HI(e),i=n.length>0?n[0]:"",s=$I("%"+i+"%",r),o=s.name,u=s.value,h=!1,c=s.alias;c&&(i=c[0],LI(n,OI([0,1],c)));for(var f=1,p=!0;f<n.length;f+=1){var m=n[f],v=Vc(m,0,1),_=Vc(m,-1);if((v==='"'||v==="'"||v==="`"||_==='"'||_==="'"||_==="`")&&v!==_)throw new ya("property names with quotes must have matching quotes");if((m==="constructor"||!p)&&(h=!0),i+="."+m,o="%"+i+"%",Wc(Ws,o))u=Ws[o];else if(u!=null){if(!(m in u)){if(!r)throw new na("base intrinsic for "+e+" exists, but the property is not available.");return}if(js&&f+1>=n.length){var S=js(u,m);p=!!S,p&&"get"in S&&!("originalValue"in S.get)?u=S.get:u=u[m]}else p=Wc(u,m),u=u[m];p&&!h&&(Ws[o]=u)}}return u},Yb={exports:{}},Lp,V_;function my(){if(V_)return Lp;V_=1;var t=Sa,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Lp=e,Lp}var jI=Sa,hc=jI("%Object.getOwnPropertyDescriptor%",!0);if(hc)try{hc([],"length")}catch{hc=null}var Qb=hc,X_=my(),WI=Vb,So=du,Y_=Qb,VI=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new So("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new So("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new So("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new So("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new So("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new So("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,h=!!Y_&&Y_(e,r);if(X_)X_(e,r,{configurable:o===null&&h?h.configurable:!o,enumerable:i===null&&h?h.enumerable:!i,value:n,writable:s===null&&h?h.writable:!s});else if(u||!i&&!s&&!o)e[r]=n;else throw new WI("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},_g=my(),Kb=function(){return!!_g};Kb.hasArrayLengthDefineBug=function(){if(!_g)return null;try{return _g([],"length",{value:1}).length!==1}catch{return!0}};var XI=Kb,YI=Sa,Q_=VI,QI=XI(),K_=Qb,q_=du,KI=YI("%Math.floor%"),qI=function(e,r){if(typeof e!="function")throw new q_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||KI(r)!==r)throw new q_("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&K_){var o=K_(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(QI?Q_(e,"length",r,!0,!0):Q_(e,"length",r)),e};(function(t){var e=py,r=Sa,n=qI,i=du,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||e.call(o,s),h=my(),c=r("%Math.max%");t.exports=function(m){if(typeof m!="function")throw new i("a function is required");var v=u(e,o,arguments);return n(v,1+c(0,m.length-(arguments.length-1)),!0)};var f=function(){return u(e,s,arguments)};h?h(t.exports,"apply",{value:f}):t.exports.apply=f})(Yb);var ZI=Yb.exports,qb=Sa,Zb=ZI,JI=Zb(qb("String.prototype.indexOf")),e2=function(e,r){var n=qb(e,!!r);return typeof n=="function"&&JI(e,".prototype.")>-1?Zb(n):n};const t2={},r2=Object.freeze(Object.defineProperty({__proto__:null,default:t2},Symbol.toStringTag,{value:"Module"})),n2=Cw(r2);var gy=typeof Map=="function"&&Map.prototype,Up=Object.getOwnPropertyDescriptor&&gy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Xc=gy&&Up&&typeof Up.get=="function"?Up.get:null,Z_=gy&&Map.prototype.forEach,yy=typeof Set=="function"&&Set.prototype,zp=Object.getOwnPropertyDescriptor&&yy?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Yc=yy&&zp&&typeof zp.get=="function"?zp.get:null,J_=yy&&Set.prototype.forEach,i2=typeof WeakMap=="function"&&WeakMap.prototype,Il=i2?WeakMap.prototype.has:null,s2=typeof WeakSet=="function"&&WeakSet.prototype,kl=s2?WeakSet.prototype.has:null,o2=typeof WeakRef=="function"&&WeakRef.prototype,ex=o2?WeakRef.prototype.deref:null,a2=Boolean.prototype.valueOf,l2=Object.prototype.toString,u2=Function.prototype.toString,h2=String.prototype.match,vy=String.prototype.slice,Yi=String.prototype.replace,c2=String.prototype.toUpperCase,tx=String.prototype.toLowerCase,Jb=RegExp.prototype.test,rx=Array.prototype.concat,Un=Array.prototype.join,d2=Array.prototype.slice,nx=Math.floor,xg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Gp=Object.getOwnPropertySymbols,wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,va=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Jt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===va||!0)?Symbol.toStringTag:null,eS=Object.prototype.propertyIsEnumerable,ix=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function sx(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Jb.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-nx(-t):nx(t);if(n!==t){var i=String(n),s=vy.call(e,i.length+1);return Yi.call(i,r,"$&_")+"."+Yi.call(Yi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yi.call(e,r,"$&_")}var Eg=n2,ox=Eg.custom,ax=rS(ox)?ox:null,f2=function t(e,r,n,i){var s=r||{};if(Gi(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Gi(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Gi(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Gi(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Gi(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return iS(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var h=String(e);return u?sx(e,h):h}if(typeof e=="bigint"){var c=String(e)+"n";return u?sx(e,c):c}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return bg(e)?"[Array]":"[Object]";var p=k2(s,n);if(typeof i>"u")i=[];else if(nS(i,e)>=0)return"[Circular]";function m(N,X,ee){if(X&&(i=d2.call(i),i.push(X)),ee){var le={depth:s.depth};return Gi(s,"quoteStyle")&&(le.quoteStyle=s.quoteStyle),t(N,le,n+1,i)}return t(N,s,n+1,i)}if(typeof e=="function"&&!lx(e)){var v=E2(e),_=Th(e,m);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(_.length>0?" { "+Un.call(_,", ")+" }":"")}if(rS(e)){var S=va?Yi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):wg.call(e);return typeof e=="object"&&!va?rl(S):S}if(P2(e)){for(var T="<"+tx.call(String(e.nodeName)),E=e.attributes||[],b=0;b<E.length;b++)T+=" "+E[b].name+"="+tS(p2(E[b].value),"double",s);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+tx.call(String(e.nodeName))+">",T}if(bg(e)){if(e.length===0)return"[]";var w=Th(e,m);return p&&!I2(w)?"["+Sg(w,p)+"]":"[ "+Un.call(w,", ")+" ]"}if(g2(e)){var A=Th(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!eS.call(e,"cause")?"{ ["+String(e)+"] "+Un.call(rx.call("[cause]: "+m(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Un.call(A,", ")+" }"}if(typeof e=="object"&&o){if(ax&&typeof e[ax]=="function"&&Eg)return Eg(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(b2(e)){var R=[];return Z_&&Z_.call(e,function(N,X){R.push(m(X,e,!0)+" => "+m(N,e))}),ux("Map",Xc.call(e),R,p)}if(A2(e)){var O=[];return J_&&J_.call(e,function(N){O.push(m(N,e))}),ux("Set",Yc.call(e),O,p)}if(S2(e))return Hp("WeakMap");if(C2(e))return Hp("WeakSet");if(T2(e))return Hp("WeakRef");if(v2(e))return rl(m(Number(e)));if(x2(e))return rl(m(xg.call(e)));if(_2(e))return rl(a2.call(e));if(y2(e))return rl(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof xl<"u"&&e===xl)return"{ [object globalThis] }";if(!m2(e)&&!lx(e)){var D=Th(e,m),k=ix?ix(e)===Object.prototype:e instanceof Object||e.constructor===Object,V=e instanceof Object?"":"null prototype",$=!k&&Jt&&Object(e)===e&&Jt in e?vy.call(fs(e),8,-1):V?"Object":"",ce=k||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",K=ce+($||V?"["+Un.call(rx.call([],$||[],V||[]),": ")+"] ":"");return D.length===0?K+"{}":p?K+"{"+Sg(D,p)+"}":K+"{ "+Un.call(D,", ")+" }"}return String(e)};function tS(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function p2(t){return Yi.call(String(t),/"/g,"&quot;")}function bg(t){return fs(t)==="[object Array]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function m2(t){return fs(t)==="[object Date]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function lx(t){return fs(t)==="[object RegExp]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function g2(t){return fs(t)==="[object Error]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function y2(t){return fs(t)==="[object String]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function v2(t){return fs(t)==="[object Number]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function _2(t){return fs(t)==="[object Boolean]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function rS(t){if(va)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!wg)return!1;try{return wg.call(t),!0}catch{}return!1}function x2(t){if(!t||typeof t!="object"||!xg)return!1;try{return xg.call(t),!0}catch{}return!1}var w2=Object.prototype.hasOwnProperty||function(t){return t in this};function Gi(t,e){return w2.call(t,e)}function fs(t){return l2.call(t)}function E2(t){if(t.name)return t.name;var e=h2.call(u2.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function nS(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function b2(t){if(!Xc||!t||typeof t!="object")return!1;try{Xc.call(t);try{Yc.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function S2(t){if(!Il||!t||typeof t!="object")return!1;try{Il.call(t,Il);try{kl.call(t,kl)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function T2(t){if(!ex||!t||typeof t!="object")return!1;try{return ex.call(t),!0}catch{}return!1}function A2(t){if(!Yc||!t||typeof t!="object")return!1;try{Yc.call(t);try{Xc.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function C2(t){if(!kl||!t||typeof t!="object")return!1;try{kl.call(t,kl);try{Il.call(t,Il)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function P2(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function iS(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return iS(vy.call(t,0,e.maxStringLength),e)+n}var i=Yi.call(Yi.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,R2);return tS(i,"single",e)}function R2(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+c2.call(e.toString(16))}function rl(t){return"Object("+t+")"}function Hp(t){return t+" { ? }"}function ux(t,e,r,n){var i=n?Sg(r,n):Un.call(r,", ");return t+" ("+e+") {"+i+"}"}function I2(t){for(var e=0;e<t.length;e++)if(nS(t[e],`
`)>=0)return!1;return!0}function k2(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Un.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Un.call(Array(e+1),r)}}function Sg(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Un.call(t,","+r)+`
`+e.prev}function Th(t,e){var r=bg(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Gi(t,i)?e(t[i],t):""}var s=typeof Gp=="function"?Gp(t):[],o;if(va){o={};for(var u=0;u<s.length;u++)o["$"+s[u]]=s[u]}for(var h in t)Gi(t,h)&&(r&&String(Number(h))===h&&h<t.length||va&&o["$"+h]instanceof Symbol||(Jb.call(/[^\w$]/,h)?n.push(e(h,t)+": "+e(t[h],t)):n.push(h+": "+e(t[h],t))));if(typeof Gp=="function")for(var c=0;c<s.length;c++)eS.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}var sS=Sa,Ta=e2,M2=f2,D2=du,Ah=sS("%WeakMap%",!0),Ch=sS("%Map%",!0),F2=Ta("WeakMap.prototype.get",!0),N2=Ta("WeakMap.prototype.set",!0),B2=Ta("WeakMap.prototype.has",!0),O2=Ta("Map.prototype.get",!0),L2=Ta("Map.prototype.set",!0),U2=Ta("Map.prototype.has",!0),_y=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},z2=function(t,e){var r=_y(t,e);return r&&r.value},G2=function(t,e,r){var n=_y(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},H2=function(t,e){return!!_y(t,e)},$2=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new D2("Side channel does not contain "+M2(s))},get:function(s){if(Ah&&s&&(typeof s=="object"||typeof s=="function")){if(e)return F2(e,s)}else if(Ch){if(r)return O2(r,s)}else if(n)return z2(n,s)},has:function(s){if(Ah&&s&&(typeof s=="object"||typeof s=="function")){if(e)return B2(e,s)}else if(Ch){if(r)return U2(r,s)}else if(n)return H2(n,s);return!1},set:function(s,o){Ah&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Ah),N2(e,s,o)):Ch?(r||(r=new Ch),L2(r,s,o)):(n||(n={key:{},next:null}),G2(n,s,o))}};return i},j2=String.prototype.replace,W2=/%20/g,$p={RFC1738:"RFC1738",RFC3986:"RFC3986"},xy={default:$p.RFC3986,formatters:{RFC1738:function(t){return j2.call(t,W2,"+")},RFC3986:function(t){return String(t)}},RFC1738:$p.RFC1738,RFC3986:$p.RFC3986},V2=xy,jp=Object.prototype.hasOwnProperty,Os=Array.isArray,In=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),X2=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Os(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},oS=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Y2=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Os(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!jp.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Os(e)&&!Os(r)&&(i=oS(e,n)),Os(e)&&Os(r)?(r.forEach(function(s,o){if(jp.call(e,o)){var u=e[o];u&&typeof u=="object"&&s&&typeof s=="object"?e[o]=t(u,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var u=r[o];return jp.call(s,o)?s[o]=t(s[o],u,n):s[o]=u,s},i)},Q2=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},K2=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Wp=1024,q2=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});for(var u="",h=0;h<o.length;h+=Wp){for(var c=o.length>=Wp?o.slice(h,h+Wp):o,f=[],p=0;p<c.length;++p){var m=c.charCodeAt(p);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===V2.RFC1738&&(m===40||m===41)){f[f.length]=c.charAt(p);continue}if(m<128){f[f.length]=In[m];continue}if(m<2048){f[f.length]=In[192|m>>6]+In[128|m&63];continue}if(m<55296||m>=57344){f[f.length]=In[224|m>>12]+In[128|m>>6&63]+In[128|m&63];continue}p+=1,m=65536+((m&1023)<<10|c.charCodeAt(p)&1023),f[f.length]=In[240|m>>18]+In[128|m>>12&63]+In[128|m>>6&63]+In[128|m&63]}u+=f.join("")}return u},Z2=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],u=Object.keys(o),h=0;h<u.length;++h){var c=u[h],f=o[c];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:c}),n.push(f))}return X2(r),e},J2=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ek=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},tk=function(e,r){return[].concat(e,r)},rk=function(e,r){if(Os(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},aS={arrayToObject:oS,assign:Q2,combine:tk,compact:Z2,decode:K2,encode:q2,isBuffer:ek,isRegExp:J2,maybeMap:rk,merge:Y2},lS=$2,cc=aS,Ml=xy,nk=Object.prototype.hasOwnProperty,uS={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},On=Array.isArray,ik=Array.prototype.push,hS=function(t,e){ik.apply(t,On(e)?e:[e])},sk=Date.prototype.toISOString,hx=Ml.default,Tt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:cc.encode,encodeValuesOnly:!1,format:hx,formatter:Ml.formatters[hx],indices:!1,serializeDate:function(e){return sk.call(e)},skipNulls:!1,strictNullHandling:!1},ok=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Vp={},ak=function t(e,r,n,i,s,o,u,h,c,f,p,m,v,_,S,T,E,b){for(var w=e,A=b,R=0,O=!1;(A=A.get(Vp))!==void 0&&!O;){var D=A.get(e);if(R+=1,typeof D<"u"){if(D===R)throw new RangeError("Cyclic object value");O=!0}typeof A.get(Vp)>"u"&&(R=0)}if(typeof f=="function"?w=f(r,w):w instanceof Date?w=v(w):n==="comma"&&On(w)&&(w=cc.maybeMap(w,function(F){return F instanceof Date?v(F):F})),w===null){if(o)return c&&!T?c(r,Tt.encoder,E,"key",_):r;w=""}if(ok(w)||cc.isBuffer(w)){if(c){var k=T?r:c(r,Tt.encoder,E,"key",_);return[S(k)+"="+S(c(w,Tt.encoder,E,"value",_))]}return[S(r)+"="+S(String(w))]}var V=[];if(typeof w>"u")return V;var $;if(n==="comma"&&On(w))T&&c&&(w=cc.maybeMap(w,c)),$=[{value:w.length>0?w.join(",")||null:void 0}];else if(On(f))$=f;else{var ce=Object.keys(w);$=p?ce.sort(p):ce}var K=h?r.replace(/\./g,"%2E"):r,N=i&&On(w)&&w.length===1?K+"[]":K;if(s&&On(w)&&w.length===0)return N+"[]";for(var X=0;X<$.length;++X){var ee=$[X],le=typeof ee=="object"&&typeof ee.value<"u"?ee.value:w[ee];if(!(u&&le===null)){var se=m&&h?ee.replace(/\./g,"%2E"):ee,I=On(w)?typeof n=="function"?n(N,se):N:N+(m?"."+se:"["+se+"]");b.set(e,R);var G=lS();G.set(Vp,b),hS(V,t(le,I,n,i,s,o,u,h,n==="comma"&&T&&On(w)?null:c,f,p,m,v,_,S,T,E,G))}}return V},lk=function(e){if(!e)return Tt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Tt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ml.default;if(typeof e.format<"u"){if(!nk.call(Ml.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Ml.formatters[n],s=Tt.filter;(typeof e.filter=="function"||On(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in uS?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Tt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Tt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Tt.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Tt.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Tt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Tt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Tt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Tt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Tt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Tt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Tt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Tt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Tt.strictNullHandling}},uk=function(t,e){var r=t,n=lk(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):On(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var u=uS[n.arrayFormat],h=u==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=lS(),f=0;f<i.length;++f){var p=i[f];n.skipNulls&&r[p]===null||hS(o,ak(r[p],p,u,h,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var m=o.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),m.length>0?v+m:""},_a=aS,Tg=Object.prototype.hasOwnProperty,hk=Array.isArray,ct={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:_a.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},ck=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},cS=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},dk="utf8=%26%2310003%3B",fk="utf8=%E2%9C%93",pk=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),u=-1,h,c=r.charset;if(r.charsetSentinel)for(h=0;h<o.length;++h)o[h].indexOf("utf8=")===0&&(o[h]===fk?c="utf-8":o[h]===dk&&(c="iso-8859-1"),u=h,h=o.length);for(h=0;h<o.length;++h)if(h!==u){var f=o[h],p=f.indexOf("]="),m=p===-1?f.indexOf("="):p+1,v,_;m===-1?(v=r.decoder(f,ct.decoder,c,"key"),_=r.strictNullHandling?null:""):(v=r.decoder(f.slice(0,m),ct.decoder,c,"key"),_=_a.maybeMap(cS(f.slice(m+1),r),function(T){return r.decoder(T,ct.decoder,c,"value")})),_&&r.interpretNumericEntities&&c==="iso-8859-1"&&(_=ck(_)),f.indexOf("[]=")>-1&&(_=hk(_)?[_]:_);var S=Tg.call(n,v);S&&r.duplicates==="combine"?n[v]=_a.combine(n[v],_):(!S||r.duplicates==="last")&&(n[v]=_)}return n},mk=function(t,e,r,n){for(var i=n?e:cS(e,r),s=t.length-1;s>=0;--s){var o,u=t[s];if(u==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var h=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,c=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,f=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(f)&&u!==c&&String(f)===c&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(o=[],o[f]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},gk=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,h=n.depth>0&&o.exec(s),c=h?s.slice(0,h.index):s,f=[];if(c){if(!n.plainObjects&&Tg.call(Object.prototype,c)&&!n.allowPrototypes)return;f.push(c)}for(var p=0;n.depth>0&&(h=u.exec(s))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&Tg.call(Object.prototype,h[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(h[1])}if(h){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");f.push("["+s.slice(h.index)+"]")}return mk(f,r,n,i)}},yk=function(e){if(!e)return ct;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ct.charset:e.charset,n=typeof e.duplicates>"u"?ct.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ct.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ct.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ct.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ct.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ct.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ct.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ct.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ct.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ct.decoder,delimiter:typeof e.delimiter=="string"||_a.isRegExp(e.delimiter)?e.delimiter:ct.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ct.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ct.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ct.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ct.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:ct.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ct.strictNullHandling}},vk=function(t,e){var r=yk(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?pk(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var u=s[o],h=gk(u,n[u],r,typeof t=="string");i=_a.merge(i,h,r)}return r.allowSparse===!0?i:_a.compact(i)},_k=uk,xk=vk,wk=xy,Ek={formats:wk,parse:xk,stringify:_k},bk=iI;function pi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Sk=/^([a-z0-9.+-]+:)/i,Tk=/:[0-9]*$/,Ak=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Ck=["<",">",'"',"`"," ","\r",`
`,"	"],Pk=["{","}","|","\\","^","`"].concat(Ck),Ag=["'"].concat(Pk),cx=["%","/","?",";","#"].concat(Ag),dx=["/","?","#"],Rk=255,fx=/^[+a-z0-9A-Z_-]{0,63}$/,Ik=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,kk={javascript:!0,"javascript:":!0},Cg={javascript:!0,"javascript:":!0},ia={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Pg=Ek;function Mk(t,e,r){if(t&&typeof t=="object"&&t instanceof pi)return t;var n=new pi;return n.parse(t,e,r),n}pi.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var u=t;if(u=u.trim(),!r&&t.split("#").length===1){var h=Ak.exec(u);if(h)return this.path=u,this.href=u,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=Pg.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=Sk.exec(u);if(c){c=c[0];var f=c.toLowerCase();this.protocol=f,u=u.substr(c.length)}if(r||c||u.match(/^\/\/[^@/]+@[^@/]+/)){var p=u.substr(0,2)==="//";p&&!(c&&Cg[c])&&(u=u.substr(2),this.slashes=!0)}if(!Cg[c]&&(p||c&&!ia[c])){for(var m=-1,v=0;v<dx.length;v++){var _=u.indexOf(dx[v]);_!==-1&&(m===-1||_<m)&&(m=_)}var S,T;m===-1?T=u.lastIndexOf("@"):T=u.lastIndexOf("@",m),T!==-1&&(S=u.slice(0,T),u=u.slice(T+1),this.auth=decodeURIComponent(S)),m=-1;for(var v=0;v<cx.length;v++){var _=u.indexOf(cx[v]);_!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=u.length),this.host=u.slice(0,m),u=u.slice(m),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var b=this.hostname.split(/\./),v=0,w=b.length;v<w;v++){var A=b[v];if(A&&!A.match(fx)){for(var R="",O=0,D=A.length;O<D;O++)A.charCodeAt(O)>127?R+="x":R+=A[O];if(!R.match(fx)){var k=b.slice(0,v),V=b.slice(v+1),$=A.match(Ik);$&&(k.push($[1]),V.unshift($[2])),V.length&&(u="/"+V.join(".")+u),this.hostname=k.join(".");break}}}this.hostname.length>Rk?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=bk.toASCII(this.hostname));var ce=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+ce,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!kk[f])for(var v=0,w=Ag.length;v<w;v++){var N=Ag[v];if(u.indexOf(N)!==-1){var X=encodeURIComponent(N);X===N&&(X=escape(N)),u=u.split(N).join(X)}}var ee=u.indexOf("#");ee!==-1&&(this.hash=u.substr(ee),u=u.slice(0,ee));var le=u.indexOf("?");if(le!==-1?(this.search=u.substr(le),this.query=u.substr(le+1),e&&(this.query=Pg.parse(this.query)),u=u.slice(0,le)):e&&(this.search="",this.query={}),u&&(this.pathname=u),ia[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ce=this.pathname||"",se=this.search||"";this.path=ce+se}return this.href=this.format(),this};pi.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Pg.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ia[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),o=o.replace("#","%23"),e+i+r+o+n};pi.prototype.resolve=function(t){return this.resolveObject(Mk(t,!1,!0)).format()};pi.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new pi;e.parse(t,!1,!0),t=e}for(var r=new pi,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),u=0;u<o.length;u++){var h=o[u];h!=="protocol"&&(r[h]=t[h])}return ia[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ia[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var p=c[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Cg[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",v=r.search||"";r.path=m+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",S=t.host||t.pathname&&t.pathname.charAt(0)==="/",T=S||_||r.host&&t.pathname,E=T,b=r.pathname&&r.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!ia[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),T=T&&(w[0]===""||b[0]==="")),S)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=w;else if(w.length)b||(b=[]),b.pop(),b=b.concat(w),r.search=t.search,r.query=t.query;else if(t.search!=null){if(A){r.host=b.shift(),r.hostname=r.host;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=b.slice(-1)[0],D=(r.host||t.host||b.length>1)&&(O==="."||O==="..")||O==="",k=0,V=b.length;V>=0;V--)O=b[V],O==="."?b.splice(V,1):O===".."?(b.splice(V,1),k++):k&&(b.splice(V,1),k--);if(!T&&!E)for(;k--;k)b.unshift("..");T&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),D&&b.join("/").substr(-1)!=="/"&&b.push("");var $=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(A){r.hostname=$?"":b.length?b.shift():"",r.host=r.hostname;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return T=T||r.host&&b.length,T&&!$&&b.unshift(""),b.length>0?r.pathname=b.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};pi.prototype.parseHost=function(){var t=this.host,e=Tk.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const px={};function Re(t,e,r=3){if(px[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),px[e]=!0}function rn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function nl(t){return t.split("?")[0].split("#")[0]}function Dk(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fk(t,e,r){return t.replace(new RegExp(Dk(e),"g"),r)}function Nk(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let u=0;u<=t.length;++u){if(u<t.length)o=t.charCodeAt(u);else{if(o===47)break;o=47}if(o===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const h=r.lastIndexOf("/");if(h!==r.length-1){h===-1?(r="",n=0):(r=r.slice(0,h),n=r.length-1-r.lastIndexOf("/")),i=u,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=u,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,u)}`:r=t.slice(i+1,u),n=u-i-1;i=u,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Ot={toPosix(t){return Fk(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){rn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(rn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=nl(this.toPosix(e??ae.ADAPTER.getBaseUrl())),i=nl(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Ot.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(rn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=Nk(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return rn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(rn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(rn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let u=t.length-1;u>=1;--u)if(e=t.charCodeAt(u),e===47){if(!i){n=u;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){rn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){rn(t),e&&rn(e),t=nl(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,u=-1;for(s=t.length-1;s>=0;--s){const h=t.charCodeAt(s);if(h===47){if(!i){r=s+1;break}}else u===-1&&(i=!1,u=s+1),o>=0&&(h===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=u))}return r===n?n=u:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){rn(t),t=nl(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const u=t.charCodeAt(o);if(u===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),u===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){rn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=nl(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,u=-1,h=!0,c=t.length-1,f=0;for(;c>=i;--c){if(r=t.charCodeAt(c),r===47){if(!h){o=c+1;break}continue}u===-1&&(h=!1,u=c+1),r===46?s===-1?s=c:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||u===-1||f===0||f===1&&s===u-1&&s===o+1?u!==-1&&(o===0&&n?e.base=e.name=t.slice(1,u):e.base=e.name=t.slice(o,u)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(o,s),e.base=t.slice(o,u)),e.ext=t.slice(s,u)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Xp;async function Bk(){return Xp??(Xp=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return pr.UNPACK;const e=await new Promise(o=>{const u=document.createElement("video");u.onloadeddata=()=>o(u),u.onerror=()=>o(null),u.autoplay=!1,u.crossOrigin="anonymous",u.preload="auto",u.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",u.load()});if(!e)return pr.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?pr.PMA:pr.UNPACK})()),Xp}let Yp;function Ok(){return typeof Yp>"u"&&(Yp=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ae.ADAPTER.getWebGLRenderingContext())return!1;const r=ae.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Yp}var Lk={grad:.9,turn:360,rad:360/(2*Math.PI)},ri=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Nt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Wr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},dS=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},mx=function(t){return{r:Wr(t.r,0,255),g:Wr(t.g,0,255),b:Wr(t.b,0,255),a:Wr(t.a)}},Qp=function(t){return{r:Nt(t.r),g:Nt(t.g),b:Nt(t.b),a:Nt(t.a,3)}},Uk=/^#([0-9a-f]{3,8})$/i,Ph=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},fS=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),u=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(u<0?u+6:u),s:s?o/s*100:0,v:s/255*100,a:i}},pS=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),u=n*(1-(e-s)*r),h=n*(1-(1-e+s)*r),c=s%6;return{r:255*[n,u,o,o,h,n][c],g:255*[h,n,n,u,o,o][c],b:255*[o,o,h,n,n,u][c],a:i}},gx=function(t){return{h:dS(t.h),s:Wr(t.s,0,100),l:Wr(t.l,0,100),a:Wr(t.a)}},yx=function(t){return{h:Nt(t.h),s:Nt(t.s),l:Nt(t.l),a:Nt(t.a,3)}},vx=function(t){return pS((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Dl=function(t){return{h:(e=fS(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},zk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Gk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hk=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$k=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Rg={string:[[function(t){var e=Uk.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Nt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Nt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Hk.exec(t)||$k.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:mx({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=zk.exec(t)||Gk.exec(t);if(!e)return null;var r,n,i=gx({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(Lk[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return vx(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return ri(e)&&ri(r)&&ri(n)?mx({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!ri(e)||!ri(r)||!ri(n))return null;var o=gx({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return vx(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!ri(e)||!ri(r)||!ri(n))return null;var o=function(u){return{h:dS(u.h),s:Wr(u.s,0,100),v:Wr(u.v,0,100),a:Wr(u.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return pS(o)},"hsv"]]},_x=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},jk=function(t){return typeof t=="string"?_x(t.trim(),Rg.string):typeof t=="object"&&t!==null?_x(t,Rg.object):[null,void 0]},Kp=function(t,e){var r=Dl(t);return{h:r.h,s:Wr(r.s+100*e,0,100),l:r.l,a:r.a}},qp=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},xx=function(t,e){var r=Dl(t);return{h:r.h,s:r.s,l:Wr(r.l+100*e,0,100),a:r.a}},Ig=function(){function t(e){this.parsed=jk(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Nt(qp(this.rgba),2)},t.prototype.isDark=function(){return qp(this.rgba)<.5},t.prototype.isLight=function(){return qp(this.rgba)>=.5},t.prototype.toHex=function(){return e=Qp(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Ph(Nt(255*s)):"","#"+Ph(r)+Ph(n)+Ph(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Qp(this.rgba)},t.prototype.toRgbString=function(){return e=Qp(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return yx(Dl(this.rgba))},t.prototype.toHslString=function(){return e=yx(Dl(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=fS(this.rgba),{h:Nt(e.h),s:Nt(e.s),v:Nt(e.v),a:Nt(e.a,3)};var e},t.prototype.invert=function(){return kn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),kn(Kp(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),kn(Kp(this.rgba,-e))},t.prototype.grayscale=function(){return kn(Kp(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),kn(xx(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),kn(xx(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?kn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Nt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Dl(this.rgba);return typeof e=="number"?kn({h:e,s:r.s,l:r.l,a:r.a}):Nt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===kn(e).toHex()},t}(),kn=function(t){return t instanceof Ig?t:new Ig(t)},wx=[],Wk=function(t){t.forEach(function(e){wx.indexOf(e)<0&&(e(Ig,Rg),wx.push(e))})};function Vk(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,h,c=n[this.toHex()];if(c)return c;if(o!=null&&o.closest){var f=this.toRgb(),p=1/0,m="black";if(!s.length)for(var v in r)s[v]=new t(r[v]).toRgb();for(var _ in r){var S=(u=f,h=s[_],Math.pow(u.r-h.r,2)+Math.pow(u.g-h.g,2)+Math.pow(u.b-h.b,2));S<p&&(p=S,m=_)}return m}},e.string.push([function(o){var u=o.toLowerCase(),h=u==="transparent"?"#0000":r[u];return h?new t(h).toRgb():null},"name"])}Wk([Vk]);const Ro=class dc{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof dc)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=dc.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const u=dc.HEX_PATTERN.exec(e);u&&(e=`#${u[2]}`)}const o=kn(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};Ro.shared=new Ro,Ro.temp=new Ro,Ro.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ve=Ro;function Xk(t){return Re("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Ve.shared.setValue(t).toHex()}function Yk(t){return Re("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Ve.shared.setValue(t).toNumber()}function Qk(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Ee.NORMAL_NPM]=Ee.NORMAL,t[Ee.ADD_NPM]=Ee.ADD,t[Ee.SCREEN_NPM]=Ee.SCREEN,e[Ee.NORMAL]=Ee.NORMAL_NPM,e[Ee.ADD]=Ee.ADD_NPM,e[Ee.SCREEN]=Ee.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const mS=Qk();function gS(t,e){return mS[e?1:0][t]}function Kk(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function yS(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Qc(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Ex(t){return!(t&t-1)&&!!t}function bx(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function sa(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Qi(t){return t===0?0:t<0?-1:1}let qk=0;function eo(){return++qk}const kg=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};kg.EMPTY=new kg(0,0,0,0);let Sx=kg;const Tx={},Mn=Object.create(null),Bi=Object.create(null);class Zk{constructor(e,r,n){this._canvas=ae.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||ae.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Ax(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function Cx(t,e,r,n,i){const s=4*e;for(let o=n,u=n*s+4*r;o<=i;++o,u+=s)if(t[u+3]!==0)return!1;return!0}function Jk(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,u=e-1,h=r-1;for(;o<r&&Ax(i,e,o);)++o;if(o===r)return Sx.EMPTY;for(;Ax(i,e,h);)--h;for(;Cx(i,e,s,o,h);)++s;for(;Cx(i,e,u,o,h);)--u;return++u,++h,new Sx(s,o,u,h)}function eM(t){const e=Jk(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function tM(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function _i(t,e=1){var n;const r=(n=ae.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ie=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ie||{});const Mg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Px=(t,e)=>Mg(t).priority??e,fe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Mg).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Mg).forEach(e=>{e.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,e):(i[r]=i[r]||[],(o=i[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(u=>e(u)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>Px(s,r)-Px(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Dg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const rM=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function nM(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function iM(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=rM.replace(/%forloop%/gi,nM(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Zp=0,Jp=1,em=2,tm=3,rm=4,nm=5;class Qn{constructor(){this.data=0,this.blendMode=Ee.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Zp)}set blend(e){!!(this.data&1<<Zp)!==e&&(this.data^=1<<Zp)}get offsets(){return!!(this.data&1<<Jp)}set offsets(e){!!(this.data&1<<Jp)!==e&&(this.data^=1<<Jp)}get culling(){return!!(this.data&1<<em)}set culling(e){!!(this.data&1<<em)!==e&&(this.data^=1<<em)}get depthTest(){return!!(this.data&1<<tm)}set depthTest(e){!!(this.data&1<<tm)!==e&&(this.data^=1<<tm)}get depthMask(){return!!(this.data&1<<nm)}set depthMask(e){!!(this.data&1<<nm)!==e&&(this.data^=1<<nm)}get clockwiseFrontFace(){return!!(this.data&1<<rm)}set clockwiseFrontFace(e){!!(this.data&1<<rm)!==e&&(this.data^=1<<rm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Ee.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Qn;return e.depthTest=!1,e.blend=!0,e}}Qn.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Fg=[];function vS(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Fg.length-1;n>=0;--n){const i=Fg[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class mn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,u,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:f}=this;this._aliasCount++;for(let p=0,m=f.length;p<m;p++)f[p][c](e,r,n,i,s,o,u,h);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(mn.prototype,{dispatch:{value:mn.prototype.emit},run:{value:mn.prototype.emit}});class tu{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new mn("setRealSize"),this.onUpdate=new mn("update"),this.onError=new mn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Md extends tu{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===pr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const sM={scaleMode:li.NEAREST,alphaMode:pr.NPM},Ng=class Io extends cu{constructor(e=null,r=null){super(),r=Object.assign({},Io.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:u,height:h,wrapMode:c,format:f,type:p,target:m,resolution:v,resourceOptions:_}=r;e&&!(e instanceof tu)&&(e=vS(e,_),e.internal=!0),this.resolution=v||ae.RESOLUTION,this.width=Math.round((u||0)*this.resolution)/this.resolution,this.height=Math.round((h||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=c,this._scaleMode=o,this.format=f,this.type=p,this.target=m,this.alphaMode=n,this.uid=eo(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=u>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Ex(this.realWidth)&&Ex(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Bi[this.cacheId],delete Mn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Io.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=ae.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${eo()}`}s=e._pixiId}let o=Bi[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Io(e,r),o.cacheId=s,Io.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new Md(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,u;return e instanceof Float32Array?(o=Z.RGBA,u=ye.FLOAT):e instanceof Int32Array?(o=Z.RGBA_INTEGER,u=ye.INT):e instanceof Uint32Array?(o=Z.RGBA_INTEGER,u=ye.UNSIGNED_INT):e instanceof Int16Array?(o=Z.RGBA_INTEGER,u=ye.SHORT):e instanceof Uint16Array?(o=Z.RGBA_INTEGER,u=ye.UNSIGNED_SHORT):e instanceof Int8Array?(o=Z.RGBA,u=ye.BYTE):(o=Z.RGBA,u=ye.UNSIGNED_BYTE),s.internal=!0,new Io(s,Object.assign({},sM,{type:u,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Bi[r]&&Bi[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),Bi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Bi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Bi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Bi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};Ng.defaultOptions={mipmap:Vn.POW2,anisotropicLevel:0,scaleMode:li.LINEAR,wrapMode:fi.CLAMP,alphaMode:pr.UNPACK,target:ra.TEXTURE_2D,format:Z.RGBA,type:ye.UNSIGNED_BYTE},Ng._globalBatch=0;let we=Ng;class Bg{constructor(){this.texArray=null,this.blend=0,this.type=cn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let oM=0;class vt{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=oM++,this.disposeRunner=new mn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?jn.ELEMENT_ARRAY_BUFFER:jn.ARRAY_BUFFER}get index(){return this.type===jn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new vt(e)}}class Kc{constructor(e,r=0,n=!1,i=ye.FLOAT,s,o,u,h=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=u,this.divisor=h}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Kc(e,r,n,i,s)}}const aM={Float32Array,Uint32Array,Int32Array,Uint8Array};function lM(t,e){let r=0,n=0;const i={};for(let h=0;h<t.length;h++)n+=e[h],r+=t[h].length;const s=new ArrayBuffer(r*4);let o=null,u=0;for(let h=0;h<t.length;h++){const c=e[h],f=t[h],p=yS(f);i[p]||(i[p]=new aM[p](s)),o=i[p];for(let m=0;m<f.length;m++){const v=(m/c|0)*n+u,_=m%c;o[v+_]=f[m]}u+=c}return new Float32Array(s)}const Rx={5126:4,5123:2,5121:1};let uM=0;const hM={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ls{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=uM++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new mn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,u,h=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof vt||(r instanceof Array&&(r=new Float32Array(r)),r=new vt(r));const c=e.split("|");if(c.length>1){for(let p=0;p<c.length;p++)this.addAttribute(c[p],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new Kc(f,n,i,s,o,u,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof vt||(e instanceof Array&&(e=new Uint16Array(e)),e=new vt(e)),e.type=jn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new vt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*Rx[s.type]/4),s.buffer=0}for(n.data=lM(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ls;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new vt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Kc(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=jn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ls,n=[],i=[],s=[];let o;for(let u=0;u<e.length;u++){o=e[u];for(let h=0;h<o.buffers.length;h++)i[h]=i[h]||0,i[h]+=o.buffers[h].data.length,s[h]=0}for(let u=0;u<o.buffers.length;u++)n[u]=new hM[yS(o.buffers[u].data)](i[u]),r.buffers[u]=new vt(n[u]);for(let u=0;u<e.length;u++){o=e[u];for(let h=0;h<o.buffers.length;h++)n[h].set(o.buffers[h].data,s[h]),s[h]+=o.buffers[h].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=jn.ELEMENT_ARRAY_BUFFER;let u=0,h=0,c=0,f=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){f=p;break}for(const p in o.attributes){const m=o.attributes[p];(m.buffer|0)===f&&(h+=m.size*Rx[m.type]/4)}for(let p=0;p<e.length;p++){const m=e[p].indexBuffer.data;for(let v=0;v<m.length;v++)r.indexBuffer.data[v+c]+=u;u+=e[p].buffers[f].data.length/h,c+=m.length}}return r}}class _S extends ls{constructor(e=!1){super(),this._buffer=new vt(null,e,!1),this._indexBuffer=new vt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ye.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ye.FLOAT).addAttribute("aColor",this._buffer,4,!0,ye.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ye.FLOAT).addIndex(this._indexBuffer)}}const qc=Math.PI*2,cM=180/Math.PI,dM=Math.PI/180;var Ht=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Ht||{});class Me{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Me(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Me.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Rh=[new Me,new Me,new Me,new Me];class be{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Ht.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new be(0,0,0,0)}clone(){return new be(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const k=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=k)return!1;const V=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>V}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const u=Rh[0].set(e.left,e.top),h=Rh[1].set(e.left,e.bottom),c=Rh[2].set(e.right,e.top),f=Rh[3].set(e.right,e.bottom);if(c.x<=u.x||h.y<=u.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(u,u),r.apply(h,h),r.apply(c,c),r.apply(f,f),Math.max(u.x,h.x,c.x,f.x)<=n||Math.min(u.x,h.x,c.x,f.x)>=i||Math.max(u.y,h.y,c.y,f.y)<=s||Math.min(u.y,h.y,c.y,f.y)>=o))return!1;const m=p*(h.y-u.y),v=p*(u.x-h.x),_=m*n+v*s,S=m*i+v*s,T=m*n+v*o,E=m*i+v*o;if(Math.max(_,S,T,E)<=m*u.x+v*u.y||Math.min(_,S,T,E)>=m*f.x+v*f.y)return!1;const b=p*(u.y-c.y),w=p*(c.x-u.x),A=b*n+w*s,R=b*i+w*s,O=b*n+w*o,D=b*i+w*o;return!(Math.max(A,R,O,D)<=b*u.x+w*u.y||Math.min(A,R,O,D)>=b*f.x+w*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}be.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Dd{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Ht.CIRC}clone(){return new Dd(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new be(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Dd.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Fd{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Ht.ELIP}clone(){return new Fd(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new be(this.x-this.width,this.y-this.height,this.width,this.height)}}Fd.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Vs{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Ht.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Vs(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const u=this.points[s*2],h=this.points[s*2+1],c=this.points[o*2],f=this.points[o*2+1];h>r!=f>r&&e<(c-u)*((r-h)/(f-h))+u&&(n=!n)}return n}}Vs.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class Nd{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Ht.RREC}clone(){return new Nd(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}Nd.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ke{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Me;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Me;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,u,h,c){return this.a=Math.cos(u+c)*s,this.b=Math.sin(u+c)*s,this.c=-Math.sin(u-h)*o,this.d=Math.cos(u-h)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,u=-Math.atan2(-i,s),h=Math.atan2(n,r),c=Math.abs(u+h);return c<1e-5||Math.abs(qc-c)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=h),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ke;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ke}static get TEMP_MATRIX(){return new Ke}}Ke.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ks=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ms=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ds=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Fs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Og=[],xS=[],Ih=Math.sign;function fM(){for(let t=0;t<16;t++){const e=[];Og.push(e);for(let r=0;r<16;r++){const n=Ih(ks[t]*ks[r]+Ds[t]*Ms[r]),i=Ih(Ms[t]*ks[r]+Fs[t]*Ms[r]),s=Ih(ks[t]*Ds[r]+Ds[t]*Fs[r]),o=Ih(Ms[t]*Ds[r]+Fs[t]*Fs[r]);for(let u=0;u<16;u++)if(ks[u]===n&&Ms[u]===i&&Ds[u]===s&&Fs[u]===o){e.push(u);break}}}for(let t=0;t<16;t++){const e=new Ke;e.set(ks[t],Ms[t],Ds[t],Fs[t],0,0),xS.push(e)}}fM();const st={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>ks[t],uY:t=>Ms[t],vX:t=>Ds[t],vY:t=>Fs[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Og[t][e],sub:(t,e)=>Og[t][st.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?st.S:st.N:Math.abs(e)*2<=Math.abs(t)?t>0?st.E:st.W:e>0?t>0?st.SE:st.SW:t>0?st.NE:st.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=xS[st.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Gn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Gn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Gn.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Lg=class{constructor(){this.worldTransform=new Ke,this.localTransform=new Ke,this.position=new Gn(this.onChange,this,0,0),this.scale=new Gn(this.onChange,this,1,1),this.pivot=new Gn(this.onChange,this,0,0),this.skew=new Gn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};Lg.IDENTITY=new Lg;let Bd=Lg;Bd.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var pM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,mM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Ix(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function im(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function wS(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return im(2*e);case"bvec3":return im(3*e);case"bvec4":return im(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const oa=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],gM={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},yM={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function vM(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let u=!1;for(let h=0;h<oa.length;h++)if(oa[h].test(s,o)){r.push(oa[h].code(i,o)),u=!0;break}if(!u){const h=(s.size===1&&!s.isArray?gM:yM)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const ES={};let To=ES;function _M(){if(To===ES||To!=null&&To.isContextLost()){const t=ae.ADAPTER.createCanvas();let e;ae.PREFER_ENV>=no.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),To=e}return To}let kh;function xM(){if(!kh){kh=jr.MEDIUM;const t=_M();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(kh=e.precision?jr.HIGH:jr.MEDIUM)}}return kh}function kx(t,e){const r=t.getShaderSource(e).split(`
`).map((c,f)=>`${f}: ${c}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),u=[""];o.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=r.join(`
`);u[0]=h,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function wM(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||kx(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||kx(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const EM={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function bS(t){return EM[t]}let Mh=null;const Mx={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function SS(t,e){if(!Mh){const r=Object.keys(Mx);Mh={};for(let n=0;n<r.length;++n){const i=r[n];Mh[t[i]]=Mx[i]}}return Mh[e]}function Dx(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===jr.HIGH&&r!==jr.HIGH&&(n=jr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==jr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let il;function bM(){if(typeof il=="boolean")return il;try{il=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{il=!1}return il}let SM=0;const Dh={},Ug=class ko{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=SM++,this.vertexSrc=e||ko.defaultVertexSrc,this.fragmentSrc=r||ko.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Dh[n]?(Dh[n]++,n+=`-${Dh[n]}`):Dh[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=Dx(this.vertexSrc,ko.defaultVertexPrecision,jr.HIGH),this.fragmentSrc=Dx(this.fragmentSrc,ko.defaultFragmentPrecision,xM())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return mM}static get defaultFragmentSrc(){return pM}static from(e,r,n){const i=e+r;let s=Tx[i];return s||(Tx[i]=s=new ko(e,r,n)),s}};Ug.defaultVertexPrecision=jr.HIGH,Ug.defaultFragmentPrecision=ui.apple.device?jr.HIGH:jr.MEDIUM;let hi=Ug,TM=0;class gn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=TM++,this.static=!!r,this.ubo=!!n,e instanceof vt?(this.buffer=e,this.buffer.type=jn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new vt(new Float32Array(1)),this.buffer.type=jn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new gn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new gn(e,r,n)}static uboFrom(e,r){return new gn(e,r??!0,!0)}}class Wn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof gn?this.uniformGroup=r:this.uniformGroup=new gn(r):this.uniformGroup=new gn({}),this.disposeRunner=new mn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=hi.from(e,r);return new Wn(i,n)}}class AM{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=gn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new hi(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ke,default:this.defaultGroupCache[e]};return new Wn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class zg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function CM(){return!ui.apple.device}function PM(t){let e=!0;const r=ae.ADAPTER.getNavigator();if(ui.tablet||ui.phone){if(ui.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(ui.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Od{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var RM=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,IM=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const dl=class sn extends Od{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=_S,this.vertexSize=6,this.state=Qn.for2d(),this.size=sn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??PM(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??CM(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Re("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return IM}static get defaultFragmentTemplate(){return RM}setShaderGenerator({vertex:e=sn.defaultVertexSrc,fragment:r=sn.defaultFragmentTemplate}={}){this.shaderGenerator=new AM(e,r)}contextChange(){const e=this.renderer.gl;ae.PREFER_ENV===no.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),sn.defaultMaxTextures),this.maxTextures=iM(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=sn,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new Bg);for(;r.length<i;)r.push(new zg);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=sn._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let u=++we._globalBatch,h=0,c=n[0],f=0;i.copyBoundTextures(s,r);for(let p=0;p<this._bufferSize;++p){const m=e[p];e[p]=null,m._batchEnabled!==u&&(c.count>=r&&(i.boundArray(c,s,u,r),this.buildDrawCalls(c,f,p),f=p,c=n[++h],++u),m._batchEnabled=u,m.touched=o,c.elements[c.count++]=m)}c.count>0&&(i.boundArray(c,s,u,r),this.buildDrawCalls(c,f,this._bufferSize),++h,++u);for(let p=0;p<s.length;p++)s[p]=null;we._globalBatch=u}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:u}=this,h=sn._drawCallPool;let c=this._dcIndex,f=this._aIndex,p=this._iIndex,m=h[c];m.start=this._iIndex,m.texArray=e;for(let v=r;v<n;++v){const _=i[v],S=_._texture.baseTexture,T=mS[S.alphaMode?1:0][_.blendMode];i[v]=null,r<v&&m.blend!==T&&(m.size=p-m.start,r=v,m=h[++c],m.texArray=e,m.start=p),this.packInterleavedGeometry(_,s,o,f,p),f+=_.vertexData.length/2*u,p+=_.indices.length,m.blend=T}r<n&&(m.size=p-m.start,++c),this._dcIndex=c,this._aIndex=f,this._iIndex=p}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;sn.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=sn._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:u,type:h,size:c,start:f,blend:p}=i[o];s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,n.set(this.state),r.drawElements(h,c,r.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),sn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Qc(Math.ceil(e/8)),n=bx(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new Dg(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Qc(Math.ceil(e/12)),n=bx(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:u}=r,h=i/this.vertexSize,c=e.uvs,f=e.indices,p=e.vertexData,m=e._texture.baseTexture._batchLocation,v=Math.min(e.worldAlpha,1),_=Ve.shared.setValue(e._tintRGB).toPremultiplied(v,e._texture.baseTexture.alphaMode>0);for(let S=0;S<p.length;S+=2)u[i++]=p[S],u[i++]=p[S+1],u[i++]=c[S],u[i++]=c[S+1],o[i++]=_,u[i++]=m;for(let S=0;S<f.length;S++)n[s++]=h+f[S]}};dl.defaultBatchSize=4096,dl.extension={name:"batch",type:ie.RendererPlugin},dl._drawCallPool=[],dl._textureArrayPool=[];let Ns=dl;fe.add(Ns);var kM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,MM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Gg=class fl extends Wn{constructor(e,r,n){const i=hi.from(e||fl.defaultVertexSrc,r||fl.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=fl.defaultResolution,this.multisample=fl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Qn}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return MM}static get defaultFragmentSrc(){return kM}};Gg.defaultResolution=1,Gg.defaultMultisample=wt.NONE;let nr=Gg;class Zc{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ve(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Zc.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Zc.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"background"};fe.add(Zc);class TS{constructor(e){this.renderer=e,this.emptyRenderer=new Od(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:u}=e;let h=0;for(let c=0;c<u;c++){const f=s[c],p=f._batchLocation;if(p>=0&&p<i&&r[p]===f){o[c]=p;continue}for(;h<i;){const m=r[h];if(m&&m._batchEnabled===n&&m._batchLocation===h){h++;continue}o[c]=h,f._batchLocation=h,r[h]=f;break}}}destroy(){this.renderer=null}}TS.extension={type:ie.RendererSystem,name:"batch"};fe.add(TS);let Fx=0;class Jc{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Fx++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Fx++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ae.PREFER_ENV>=no.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Jc.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Jc.extension={type:ie.RendererSystem,name:"context"};fe.add(Jc);class Hg{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new mn("disposeFramebuffer"),this.multisample=wt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new we(null,{scaleMode:li.NEAREST,resolution:1,mipmap:Vn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new we(null,{scaleMode:li.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Vn.OFF,format:Z.DEPTH_COMPONENT,type:ye.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class AS extends we{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=wt.NONE),super(null,e),this.mipmap=Vn.OFF,this.valid=!0,this._clear=new Ve([0,0,0,0]),this.framebuffer=new Hg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class xi extends tu{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=tM(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,u=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===pr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=u,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class CS extends xi{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;xi.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ae.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===pr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const u=s[o];if(u!==n&&u.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class wy{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,u=e.height/2/s,h=e.x/i+o,c=e.y/s+u;n=st.add(n,st.NW),this.x0=h+o*st.uX(n),this.y0=c+u*st.uY(n),n=st.add(n,2),this.x1=h+o*st.uX(n),this.y1=c+u*st.uY(n),n=st.add(n,2),this.x2=h+o*st.uX(n),this.y2=c+u*st.uY(n),n=st.add(n,2),this.x3=h+o*st.uX(n),this.y3=c+u*st.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}wy.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const Nx=new wy;function Fh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class J extends cu{constructor(e,r,n,i,s,o,u){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new be(0,0,1,1)),e instanceof J&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=Nx,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Me(o.x,o.y):new Me(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Mn[r.url]&&J.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,J.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new J(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===Nx&&(this._uvs=new wy),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ae.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof we){if(!e.cacheId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${u}-${eo()}`,we.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${eo()}`}s=e._pixiId}let o=Mn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof we)?(r.resolution||(r.resolution=_i(e)),o=new J(new we(e,r)),o.baseTexture.cacheId=s,we.addToCache(o.baseTexture,s),J.addToCache(o,s)):!o&&e instanceof we&&(o=new J(e),J.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=J.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new J(we.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new we(e,Object.assign({scaleMode:we.defaultOptions.scaleMode,resolution:_i(r)},i)),{resource:o}=s;o instanceof CS&&(o.url=r);const u=new J(s);return n||(n=r),we.addToCache(u.baseTexture,n),J.addToCache(u,n),n!==r&&(we.addToCache(u.baseTexture,r),J.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise(h=>{u.baseTexture.once("loaded",()=>h(u))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Mn[r]&&Mn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Mn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Mn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Mn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Mn[e.textureCacheIds[r]]===e&&delete Mn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,u=n+s>this.baseTexture.height;if(o||u){const h=o&&u?"and":"or",c=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${h} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return J._EMPTY||(J._EMPTY=new J(new we),Fh(J._EMPTY),Fh(J._EMPTY.baseTexture)),J._EMPTY}static get WHITE(){if(!J._WHITE){const e=ae.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),J._WHITE=new J(we.from(e)),Fh(J._WHITE),Fh(J._WHITE.baseTexture)}return J._WHITE}}class io extends J{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new io(new AS(e))}}class PS{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=wt.NONE){const i=new AS(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new io(i)}getOptimalTexture(e,r,n=1,i=wt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Qc(e),r=Qc(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||wt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}PS.SCREEN_KEY=-1;class DM extends ls{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class RS extends ls{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new vt(this.vertices),this.uvBuffer=new vt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class FM{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=wt.NONE,this.sourceFrame=new be,this.destinationFrame=new be,this.bindingSourceFrame=new be,this.bindingDestinationFrame=new be,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Nh=[new Me,new Me,new Me,new Me],sm=new Ke;class IS{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new PS,this.statePool=[],this.quad=new DM,this.quadUv=new RS,this.tempRect=new be,this.activeState={},this.globalUniforms=new gn({outputFrame:new be,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new FM,o=n.renderTexture;let u,h;if(o.current){const T=o.current;u=T.resolution,h=T.multisample}else u=n.resolution,h=n.multisample;let c=r[0].resolution||u,f=r[0].multisample??h,p=r[0].padding,m=r[0].autoFit,v=r[0].legacy??!0;for(let T=1;T<r.length;T++){const E=r[T];c=Math.min(c,E.resolution||u),f=Math.min(f,E.multisample??h),p=this.useMaxPadding?Math.max(p,E.padding):p+E.padding,m=m&&E.autoFit,v=v||(E.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=c,s.multisample=f,s.legacy=v,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(p);const _=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(sm.copyFrom(n.projection.transform).invert(),_),m?(s.sourceFrame.fit(_),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(_)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,f),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const S=this.tempRect;S.x=0,S.y=0,S.width=s.sourceFrame.width,S.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,S),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,u=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],u[0]=.5*o[2],u[1]=.5*o[3],u[2]=r.sourceFrame.width*s[2]-.5*o[2],u[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const h=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,h.renderTexture,Ln.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,f=this.getOptimalFilterTexture(c.width,c.height,r.resolution);f.filterFrame=c.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(c.width,c.height,r.resolution),f.filterFrame=c.filterFrame),n[p].apply(this,c,f,Ln.CLEAR,r);const m=c;c=f,f=m}n[p].apply(this,c,h.renderTexture,Ln.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Ln.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Ln.CLEAR||r===Ln.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(cn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(cn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),u=r.worldTransform.copyTo(Ke.TEMP_MATRIX);return u.invert(),o.prepend(u),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=wt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||wt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Nh[0],i=Nh[1],s=Nh[2],o=Nh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const u=Math.min(n.x,i.x,s.x,o.x),h=Math.min(n.y,i.y,s.y,o.y),c=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=u,r.y=h,r.width=c-u,r.height=f-h}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:u,c:h,d:c}=s;if((Math.abs(u)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?sm.copyFrom(s):sm.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}IS.extension={type:ie.RendererSystem,name:"filter"};fe.add(IS);class NM{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=wt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const BM=new be;class kS{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Hg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new be,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ae.PREFER_ENV===no.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const u=e.colorTextures[o];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,u=r.height>>n,h=o/r.width;this.setViewport(r.x*h,r.y*h,o,u)}else{const o=e.width>>n,u=e.height>>n;this.setViewport(0,0,o,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=mg.COLOR|mg.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new NM(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const u=i[o],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let h=0;h<o;h++){const c=s[h],f=c.parentTextureArray||c;this.renderer.texture.bind(f,0),h===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+h,c.target,f._glTextures[this.CONTEXT_UID].texture,r),u.push(n.COLOR_ATTACHMENT0+h))}if(u.length>1&&n.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let h,c;this.renderer.context.webGLVersion===1?(h=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH_STENCIL):e.depth&&e.stencil?(h=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH24_STENCIL8):e.depth?(h=n.DEPTH_ATTACHMENT,c=n.DEPTH_COMPONENT24):(h=n.STENCIL_ATTACHMENT,c=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,c,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,c,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,h,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=wt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=wt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const h=i.glFramebuffers[u];if(!h)return;if(!e){if(!h.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;h.blitFramebuffer||(h.blitFramebuffer=new Hg(i.width,i.height),h.blitFramebuffer.addColorTexture(0,f)),e=h.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=BM,r.width=i.width,r.height=i.height),n||(n=r);const c=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let u,h;this.renderer.context.webGLVersion===1?(u=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH_STENCIL):e.depth?(u=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH24_STENCIL8):(u=s.STENCIL_ATTACHMENT,h=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,h,n,i):s.renderbufferStorage(s.RENDERBUFFER,h,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,u,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new be}destroy(){this.renderer=null}}kS.extension={type:ie.RendererSystem,name:"framebuffer"};fe.add(kS);const om={5126:4,5123:2,5121:1};class MS{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ae.PREFER_ENV===no.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,u,h)=>n.drawElementsInstancedANGLE(i,s,o,u,h),e.drawArraysInstanced=(i,s,o,u)=>n.drawArraysInstancedANGLE(i,s,o,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,u=r.program;u.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,u);const h=this.getSignature(e,u),c=e.glVertexArrayObjects[this.CONTEXT_UID];let f=c[h];if(f)return c[u.id]=f,f;const p=e.buffers,m=e.attributes,v={},_={};for(const S in p)v[S]=0,_[S]=0;for(const S in m)!m[S].size&&u.attributeData[S]?m[S].size=u.attributeData[S].size:m[S].size||console.warn(`PIXI Geometry attribute '${S}' size cannot be determined (likely the bound shader does not have the attribute)`),v[m[S].buffer]+=m[S].size*om[m[S].type];for(const S in m){const T=m[S],E=T.size;T.stride===void 0&&(v[T.buffer]===E*om[T.type]?T.stride=0:T.stride=v[T.buffer]),T.start===void 0&&(T.start=_[T.buffer],_[T.buffer]+=E*om[T.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let S=0;S<p.length;S++){const T=p[S];o.bind(T),n&&T._glBuffers[s].refCount++}return this.activateVao(e,u),c[u.id]=f,c[h]=f,i.bindVertexArray(null),o.unbind(jn.ARRAY_BUFFER),f}disposeGeometry(e,r){var u;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(u=this.renderer)==null?void 0:u.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let h=0;h<s.length;h++){const c=s[h]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[h],r))}if(!r){for(const h in n)if(h[0]==="g"){const c=n[h];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,u=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let h=null;for(const c in u){const f=u[c],p=o[f.buffer],m=p._glBuffers[i];if(r.attributeData[c]){h!==m&&(s.bind(p),h=m);const v=r.attributeData[c].location;if(n.enableVertexAttribArray(v),n.vertexAttribPointer(v,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(v,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const u=o.indexBuffer.data.BYTES_PER_ELEMENT,h=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,h,(n||0)*u,i||1):s.drawElements(e,r||o.indexBuffer.data.length,h,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}MS.extension={type:ie.RendererSystem,name:"geometry"};fe.add(MS);const Bx=new Ke;class Ey{constructor(e,r){this._texture=e,this.mapCoord=new Ke,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(Bx.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Bx));const o=r.baseTexture,u=this.uClampFrame,h=this.clampMargin/o.resolution,c=this.clampOffset;return u[0]=(r._frame.x+h+c)/o.width,u[1]=(r._frame.y+h+c)/o.height,u[2]=(r._frame.x+r._frame.width-h+c)/o.width,u[3]=(r._frame.y+r._frame.height-h+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var OM=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,LM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class UM extends nr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||LM,r||OM,n),this.maskSprite=i,this.maskMatrix=new Ke}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Ey(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class zM{constructor(e=null){this.type=At.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=nr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=At.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class DS{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new zM;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==At.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case At.SCISSOR:this.renderer.scissor.push(n);break;case At.STENCIL:this.renderer.stencil.push(n);break;case At.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case At.COLOR:this.pushColorMask(n);break}n.type===At.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case At.SCISSOR:this.renderer.scissor.pop(r);break;case At.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case At.SPRITE:this.popSpriteMask(r);break;case At.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===At.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=At.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=At.SCISSOR:e.type=At.STENCIL:e.type=At.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new UM])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}DS.extension={type:ie.RendererSystem,name:"mask"};fe.add(DS);class FS{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Ox=new Ke,Lx=[],NS=class fc extends FS{constructor(e){super(e),this.glConst=ae.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,Lx.pop()??new be);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||fc.isMatrixRotated(r.worldTransform)||fc.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){fc.isMatrixRotated(s)||(s=s?Ox.copyFrom(s):Ox.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&Lx.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};NS.extension={type:ie.RendererSystem,name:"scissor"};let GM=NS;fe.add(GM);class BS extends FS{constructor(e){super(e),this.glConst=ae.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}BS.extension={type:ie.RendererSystem,name:"stencil"};fe.add(BS);class OS{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}OS.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"_plugin"};fe.add(OS);class LS{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ke,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}LS.extension={type:ie.RendererSystem,name:"projection"};fe.add(LS);const HM=new Bd,Ux=new be;class US{constructor(e){this.renderer=e,this._tempMatrix=new Ke}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(Ux))||e.getLocalBounds(Ux,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const u=io.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const h=e.transform;return e.transform=HM,this.renderer.render(e,{renderTexture:u,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=h,u}destroy(){}}US.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"textureGenerator"};fe.add(US);const As=new be,sl=new be;class zS{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new be,this.destinationFrame=new be,this.viewportFrame=new be}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,u;e?(s=e.baseTexture,u=s.resolution,r||(As.width=e.frame.width,As.height=e.frame.height,r=As),n||(sl.x=e.frame.x,sl.y=e.frame.y,sl.width=r.width,sl.height=r.height,n=sl),o=s.framebuffer):(u=i.resolution,r||(As.width=i._view.screen.width,As.height=i._view.screen.height,r=As),n||(n=As,n.width=r.width,n.height=r.height));const h=this.viewportFrame;h.x=n.x*u,h.y=n.y*u,h.width=n.width*u,h.height=n.height*u,e||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(n,r,u,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Ve.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==o.width||s.height!==o.height;if(u){let{x:h,y:c,width:f,height:p}=this.viewportFrame;h=Math.round(h),c=Math.round(c),f=Math.round(f),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,c,f,p)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}zS.extension={type:ie.RendererSystem,name:"renderTexture"};fe.add(zS);class $M{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function jM(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=SS(e,s.type),u={type:o,name:s.name,size:bS(o),location:e.getAttribLocation(t,s.name)};r[s.name]=u}return r}function WM(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),h=SS(e,s.type);r[o]={name:o,index:i,type:h,size:s.size,isArray:u,value:wS(h,s.size)}}return r}function VM(t,e){var u;const r=Ix(t,t.VERTEX_SHADER,e.vertexSrc),n=Ix(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(u=e.extra)==null?void 0:u.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||wM(t,i,r,n),e.attributeData=jM(i,t),e.uniformData=WM(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((c,f)=>c>f?1:-1);for(let c=0;c<h.length;c++)e.attributeData[h[c]].location=c,t.bindAttribLocation(i,c,h[c]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const h in e.uniformData){const c=e.uniformData[h];o[h]={location:t.getUniformLocation(i,h),value:wS(c.type,c.size)}}return new $M(i,o)}function XM(t,e,r,n,i){r.buffer.update(i)}const YM={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},GS={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function QM(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=GS[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const u=n%r%16;n+=u,i+=u}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function KM(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function qM(t,e){if(!t.autoManage)return{size:0,syncFunc:XM};const r=KM(t.uniforms,e),{uboElements:n,size:i}=QM(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const u=n[o],h=t.uniforms[u.data.name],c=u.data.name;let f=!1;for(let p=0;p<oa.length;p++){const m=oa[p];if(m.codeUbo&&m.test(u.data,h)){s.push(`offset = ${u.offset/4};`,oa[p].codeUbo(u.data.name,h)),f=!0;break}}if(!f)if(u.data.size>1){const p=bS(u.data.type),m=Math.max(GS[u.data.type]/16,1),v=p/m,_=(4-v%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*m}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${_};
                }

                `)}else{const p=YM[u.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${u.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let ZM=0;const Bh={textureCount:0,uboCount:0};class HS{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=ZM++}systemCheck(){if(!bM())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Bh.textureCount=0,Bh.uboCount=0,this.syncUniformGroup(e.uniformGroup,Bh)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=vM(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Bh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[o];if(u||(u=this._uboCache[o]=qM(e,this.shader.program.uniformData)),e.autoManage){const h=new Float32Array(u.size/4);e.buffer.update(h)}return r.uniformGroups[e.id]=u.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=VM(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}HS.extension={type:ie.RendererSystem,name:"shader"};fe.add(HS);class ed{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}ed.defaultOptions={hello:!1},ed.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"startup"};fe.add(ed);function JM(t,e=[]){return e[Ee.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.ADD]=[t.ONE,t.ONE],e[Ee.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.NONE]=[0,0],e[Ee.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Ee.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ee.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Ee.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Ee.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ee.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Ee.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Ee.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Ee.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Ee.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ee.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const e3=0,t3=1,r3=2,n3=3,i3=4,s3=5,$S=class $g{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ee.NONE,this._blendEq=!1,this.map=[],this.map[e3]=this.setBlend,this.map[t3]=this.setOffset,this.map[r3]=this.setCullFace,this.map[n3]=this.setDepthTest,this.map[i3]=this.setFrontFace,this.map[s3]=this.setDepthMask,this.checks=[],this.defaultState=new Qn,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=JM(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck($g.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck($g.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};$S.extension={type:ie.RendererSystem,name:"state"};let o3=$S;fe.add(o3);class a3 extends cu{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new mn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const pl=class pc{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=pc.defaultMaxIdle,this.checkCountMax=pc.defaultCheckCountMax,this.mode=pc.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==dy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};pl.defaultMode=dy.AUTO,pl.defaultMaxIdle=60*60,pl.defaultCheckCountMax=60*10,pl.extension={type:ie.RendererSystem,name:"textureGC"};let Bs=pl;fe.add(Bs);class am{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ye.UNSIGNED_BYTE,this.internalFormat=Z.RGBA,this.samplerType=0}}function l3(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:oe.FLOAT,[t.RGBA]:oe.FLOAT,[t.ALPHA]:oe.FLOAT,[t.LUMINANCE]:oe.FLOAT,[t.LUMINANCE_ALPHA]:oe.FLOAT,[t.R8]:oe.FLOAT,[t.R8_SNORM]:oe.FLOAT,[t.RG8]:oe.FLOAT,[t.RG8_SNORM]:oe.FLOAT,[t.RGB8]:oe.FLOAT,[t.RGB8_SNORM]:oe.FLOAT,[t.RGB565]:oe.FLOAT,[t.RGBA4]:oe.FLOAT,[t.RGB5_A1]:oe.FLOAT,[t.RGBA8]:oe.FLOAT,[t.RGBA8_SNORM]:oe.FLOAT,[t.RGB10_A2]:oe.FLOAT,[t.RGB10_A2UI]:oe.FLOAT,[t.SRGB8]:oe.FLOAT,[t.SRGB8_ALPHA8]:oe.FLOAT,[t.R16F]:oe.FLOAT,[t.RG16F]:oe.FLOAT,[t.RGB16F]:oe.FLOAT,[t.RGBA16F]:oe.FLOAT,[t.R32F]:oe.FLOAT,[t.RG32F]:oe.FLOAT,[t.RGB32F]:oe.FLOAT,[t.RGBA32F]:oe.FLOAT,[t.R11F_G11F_B10F]:oe.FLOAT,[t.RGB9_E5]:oe.FLOAT,[t.R8I]:oe.INT,[t.R8UI]:oe.UINT,[t.R16I]:oe.INT,[t.R16UI]:oe.UINT,[t.R32I]:oe.INT,[t.R32UI]:oe.UINT,[t.RG8I]:oe.INT,[t.RG8UI]:oe.UINT,[t.RG16I]:oe.INT,[t.RG16UI]:oe.UINT,[t.RG32I]:oe.INT,[t.RG32UI]:oe.UINT,[t.RGB8I]:oe.INT,[t.RGB8UI]:oe.UINT,[t.RGB16I]:oe.INT,[t.RGB16UI]:oe.UINT,[t.RGB32I]:oe.INT,[t.RGB32UI]:oe.UINT,[t.RGBA8I]:oe.INT,[t.RGBA8UI]:oe.UINT,[t.RGBA16I]:oe.INT,[t.RGBA16UI]:oe.UINT,[t.RGBA32I]:oe.INT,[t.RGBA32UI]:oe.UINT,[t.DEPTH_COMPONENT16]:oe.FLOAT,[t.DEPTH_COMPONENT24]:oe.FLOAT,[t.DEPTH_COMPONENT32F]:oe.FLOAT,[t.DEPTH_STENCIL]:oe.FLOAT,[t.DEPTH24_STENCIL8]:oe.FLOAT,[t.DEPTH32F_STENCIL8]:oe.FLOAT}:e={[t.RGB]:oe.FLOAT,[t.RGBA]:oe.FLOAT,[t.ALPHA]:oe.FLOAT,[t.LUMINANCE]:oe.FLOAT,[t.LUMINANCE_ALPHA]:oe.FLOAT,[t.DEPTH_STENCIL]:oe.FLOAT},e}function u3(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ye.UNSIGNED_BYTE]:{[Z.RGBA]:t.RGBA8,[Z.RGB]:t.RGB8,[Z.RG]:t.RG8,[Z.RED]:t.R8,[Z.RGBA_INTEGER]:t.RGBA8UI,[Z.RGB_INTEGER]:t.RGB8UI,[Z.RG_INTEGER]:t.RG8UI,[Z.RED_INTEGER]:t.R8UI,[Z.ALPHA]:t.ALPHA,[Z.LUMINANCE]:t.LUMINANCE,[Z.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ye.BYTE]:{[Z.RGBA]:t.RGBA8_SNORM,[Z.RGB]:t.RGB8_SNORM,[Z.RG]:t.RG8_SNORM,[Z.RED]:t.R8_SNORM,[Z.RGBA_INTEGER]:t.RGBA8I,[Z.RGB_INTEGER]:t.RGB8I,[Z.RG_INTEGER]:t.RG8I,[Z.RED_INTEGER]:t.R8I},[ye.UNSIGNED_SHORT]:{[Z.RGBA_INTEGER]:t.RGBA16UI,[Z.RGB_INTEGER]:t.RGB16UI,[Z.RG_INTEGER]:t.RG16UI,[Z.RED_INTEGER]:t.R16UI,[Z.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ye.SHORT]:{[Z.RGBA_INTEGER]:t.RGBA16I,[Z.RGB_INTEGER]:t.RGB16I,[Z.RG_INTEGER]:t.RG16I,[Z.RED_INTEGER]:t.R16I},[ye.UNSIGNED_INT]:{[Z.RGBA_INTEGER]:t.RGBA32UI,[Z.RGB_INTEGER]:t.RGB32UI,[Z.RG_INTEGER]:t.RG32UI,[Z.RED_INTEGER]:t.R32UI,[Z.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ye.INT]:{[Z.RGBA_INTEGER]:t.RGBA32I,[Z.RGB_INTEGER]:t.RGB32I,[Z.RG_INTEGER]:t.RG32I,[Z.RED_INTEGER]:t.R32I},[ye.FLOAT]:{[Z.RGBA]:t.RGBA32F,[Z.RGB]:t.RGB32F,[Z.RG]:t.RG32F,[Z.RED]:t.R32F,[Z.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ye.HALF_FLOAT]:{[Z.RGBA]:t.RGBA16F,[Z.RGB]:t.RGB16F,[Z.RG]:t.RG16F,[Z.RED]:t.R16F},[ye.UNSIGNED_SHORT_5_6_5]:{[Z.RGB]:t.RGB565},[ye.UNSIGNED_SHORT_4_4_4_4]:{[Z.RGBA]:t.RGBA4},[ye.UNSIGNED_SHORT_5_5_5_1]:{[Z.RGBA]:t.RGB5_A1},[ye.UNSIGNED_INT_2_10_10_10_REV]:{[Z.RGBA]:t.RGB10_A2,[Z.RGBA_INTEGER]:t.RGB10_A2UI},[ye.UNSIGNED_INT_10F_11F_11F_REV]:{[Z.RGB]:t.R11F_G11F_B10F},[ye.UNSIGNED_INT_5_9_9_9_REV]:{[Z.RGB]:t.RGB9_E5},[ye.UNSIGNED_INT_24_8]:{[Z.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ye.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Z.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ye.UNSIGNED_BYTE]:{[Z.RGBA]:t.RGBA,[Z.RGB]:t.RGB,[Z.ALPHA]:t.ALPHA,[Z.LUMINANCE]:t.LUMINANCE,[Z.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ye.UNSIGNED_SHORT_5_6_5]:{[Z.RGB]:t.RGB},[ye.UNSIGNED_SHORT_4_4_4_4]:{[Z.RGBA]:t.RGBA},[ye.UNSIGNED_SHORT_5_5_5_1]:{[Z.RGBA]:t.RGBA}},e}class jS{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new we,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=u3(e),this.samplerTypes=l3(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new am(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new am(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==oe.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new am(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??oe.FLOAT,this.webGLVersion===2&&e.type===ye.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==oe.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,u=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,u.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&sa(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Vn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=fi.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Vn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===li.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===li.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===li.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===li.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}jS.extension={type:ie.RendererSystem,name:"texture"};fe.add(jS);class WS{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];u&&(n.buffer.update(u),u._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,u._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];if(!u)continue;const h=u._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&s.dispose(u,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}WS.extension={type:ie.RendererSystem,name:"transformFeedback"};fe.add(WS);class td{constructor(e){this.renderer=e}init(e){this.screen=new be(0,0,e.width,e.height),this.element=e.view||ae.ADAPTER.createCanvas(),this.resolution=e.resolution||ae.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}td.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},td.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"_view"};fe.add(td);ae.PREFER_ENV=no.WEBGL2;ae.STRICT_TEXTURE_CACHE=!1;ae.RENDER_OPTIONS={...Jc.defaultOptions,...Zc.defaultOptions,...td.defaultOptions,...ed.defaultOptions};Object.defineProperties(ae,{WRAP_MODE:{get(){return we.defaultOptions.wrapMode},set(t){Re("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),we.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return we.defaultOptions.scaleMode},set(t){Re("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),we.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return we.defaultOptions.mipmap},set(t){Re("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),we.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return we.defaultOptions.anisotropicLevel},set(t){Re("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),we.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Re("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),nr.defaultResolution},set(t){nr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Re("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),nr.defaultMultisample},set(t){nr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Ns.defaultMaxTextures},set(t){Re("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Ns.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Ns.defaultBatchSize},set(t){Re("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Ns.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Ns.canUploadSameBuffer},set(t){Re("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Ns.canUploadSameBuffer=t}},GC_MODE:{get(){return Bs.defaultMode},set(t){Re("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Bs.defaultMode=t}},GC_MAX_IDLE:{get(){return Bs.defaultMaxIdle},set(t){Re("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Bs.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Bs.defaultCheckCountMax},set(t){Re("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Bs.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return hi.defaultVertexPrecision},set(t){Re("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),hi.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return hi.defaultFragmentPrecision},set(t){Re("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),hi.defaultFragmentPrecision=t}}});var us=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(us||{});class lm{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const VS=class Sr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new lm(null,null,1/0),this.deltaMS=1/Sr.targetFPMS,this.elapsedMS=1/Sr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=us.NORMAL){return this._addListener(new lm(e,r,n))}addOnce(e,r,n=us.NORMAL){return this._addListener(new lm(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Sr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Sr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Sr._shared){const e=Sr._shared=new Sr;e.autoStart=!0,e._protected=!0}return Sr._shared}static get system(){if(!Sr._system){const e=Sr._system=new Sr;e.autoStart=!0,e._protected=!0}return Sr._system}};VS.targetFPMS=.06;let bt=VS;Object.defineProperties(ae,{TARGET_FPMS:{get(){return bt.targetFPMS},set(t){Re("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),bt.targetFPMS=t}}});class XS{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,us.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?bt.shared:new bt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}XS.extension=ie.Application;fe.add(XS);const YS=[];fe.handleByList(ie.Renderer,YS);function h3(t){for(const e of YS)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var c3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,d3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const f3=c3,QS=d3;class KS{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=wt.HIGH?this.multisample=wt.HIGH:r>=wt.MEDIUM?this.multisample=wt.MEDIUM:r>=wt.LOW?this.multisample=wt.LOW:this.multisample=wt.NONE}destroy(){}}KS.extension={type:ie.RendererSystem,name:"_multisample"};fe.add(KS);class p3{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class qS{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new p3(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}qS.extension={type:ie.RendererSystem,name:"buffer"};fe.add(qS);class ZS{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,u;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,u=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!u){const h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ZS.extension={type:ie.RendererSystem,name:"objectRenderer"};fe.add(ZS);const mc=class jg extends a3{constructor(e){super(),this.type=Gb.WEBGL,e=Object.assign({},ae.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new gn({projectionMatrix:new Ke},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:jg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Re("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=jg.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:Ok()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Re("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Re("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Re("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Re("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Re("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Re("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Re("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Re("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};mc.extension={type:ie.Renderer,priority:1},mc.__plugins={},mc.__systems={};let by=mc;fe.handleByMap(ie.RendererPlugin,by.__plugins);fe.handleByMap(ie.RendererSystem,by.__systems);fe.add(by);class JS extends tu{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new we;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof tu?this.addResourceAt(e[n],n):this.addResourceAt(vS(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class m3 extends JS{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ra.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:u}=e;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let h=0;h<i;h++){const c=o[h];s[h]<c.dirtyId&&(s[h]=c.dirtyId,c.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,h,c.resource.width,c.resource.height,1,r.format,n.type,c.resource.source))}return!0}}class g3 extends xi{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const eT=class ml extends JS{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==ml.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let u=0;u<ml.SIDES;u++)this.items[u].target=ra.TEXTURE_CUBE_MAP_POSITIVE_X+u;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=ra.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=ra.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<ml.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===ml.SIDES}};eT.SIDES=6;let y3=eT;class Yo extends xi{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=Yo.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ae.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===pr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Yo._EMPTY=Yo._EMPTY??ae.ADAPTER.createCanvas(0,0),Yo._EMPTY}}const Wg=class gc extends xi{constructor(e,r){r=r||{},super(ae.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},gc.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;xi.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${eo()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=gc.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&gc.SVG_XML.test(e)}};Wg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Wg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Vg=Wg;class v3 extends xi{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const Xg=class Yg extends xi{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];xi.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:u,mime:h}=e[s];if(u=u||e[s],u.startsWith("data:"))h=u.slice(5,u.indexOf(";"));else if(!u.startsWith("blob:")){const c=u.split("?").shift().toLowerCase(),f=c.slice(c.lastIndexOf(".")+1);h=h||Yg.MIME_TYPES[f]||`video/${f}`}o.src=u,h&&(o.type=h),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=bt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(bt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(bt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(bt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||Yg.TYPES.includes(r)}};Xg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Xg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let tT=Xg;Fg.push(Yo,CS,g3,tT,v3,Vg,Md,y3,m3);class rd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?be.EMPTY:(e=e||new be(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:u,ty:h}=e,c=n*r.x+s*r.y+u,f=i*r.x+o*r.y+h;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],u=e[1];r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[2],u=e[3],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[4],u=e[5],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[6],u=e[7],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,u=e.b,h=e.c,c=e.d,f=e.tx,p=e.ty;let m=this.minX,v=this.minY,_=this.maxX,S=this.maxY,T=o*r+h*n+f,E=u*r+c*n+p;m=T<m?T:m,v=E<v?E:v,_=T>_?T:_,S=E>S?E:S,T=o*i+h*n+f,E=u*i+c*n+p,m=T<m?T:m,v=E<v?E:v,_=T>_?T:_,S=E>S?E:S,T=o*r+h*s+f,E=u*r+c*s+p,m=T<m?T:m,v=E<v?E:v,_=T>_?T:_,S=E>S?E:S,T=o*i+h*s+f,E=u*i+c*s+p,m=T<m?T:m,v=E<v?E:v,_=T>_?T:_,S=E>S?E:S,this.minX=m,this.minY=v,this.maxX=_,this.maxY=S}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,u=this.maxY;for(let h=r;h<n;h+=2){const c=e[h],f=e[h+1];i=c<i?c:i,s=f<s?f:s,o=c>o?c:o,u=f>u?f:u}this.minX=i,this.minY=s,this.maxX=o,this.maxY=u}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const u=e.a,h=e.b,c=e.c,f=e.d,p=e.tx,m=e.ty;let v=this.minX,_=this.minY,S=this.maxX,T=this.maxY;for(let E=n;E<i;E+=2){const b=r[E],w=r[E+1],A=u*b+c*w+p,R=f*w+h*b+m;v=Math.min(v,A-s),S=Math.max(S,A+s),_=Math.min(_,R-o),T=Math.max(T,R+o)}this.minX=v,this.minY=_,this.maxX=S,this.maxY=T}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const u=this.minX,h=this.minY,c=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>c?s:c,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const u=this.minX,h=this.minY,c=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>c?s:c,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class rt extends cu{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Bd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new rd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(rt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new be),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new be),e=this._localBoundsRect),this._localBounds||(this._localBounds=new rd);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,u=0,h=0,c=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=u,this.pivot.x=h,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new _3),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*cM}set angle(e){this.transform.rotation=e*dM}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class _3 extends rt{constructor(){super(...arguments),this.sortDirty=null}}rt.prototype.displayObjectUpdateTransform=rt.prototype.updateTransform;const x3=new Ke;function w3(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const rT=class Qg extends rt{constructor(){super(),this.children=[],this.sortableChildren=Qg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);sa(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,sa(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,sa(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let u=0;u<o.length;++u)o[u].parent=null,o[u].transform&&(o[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let u=0;u<o.length;++u)o[u].emit("removed",this),this.emit("childRemoved",o[u],this,u);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(w3),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==Qg.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=x3.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,u=this.children.length;o<u;++o){const h=this.children[o],c=h.cullable;h.cullable=c||!this.cullArea,h.render(e),h.cullable=c}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,u;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let h=0;h<r.length;h++)r[h].enabled&&this._enabledFilters.push(r[h])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==At.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let h=0,c=this.children.length;h<c;++h)this.children[h].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((u=this._enabledFilters)!=null&&u.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};rT.defaultSortableChildren=!1;let sr=rT;sr.prototype.containerUpdateTransform=sr.prototype.updateTransform;Object.defineProperties(ae,{SORTABLE_CHILDREN:{get(){return sr.defaultSortableChildren},set(t){Re("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),sr.defaultSortableChildren=t}}});var Ld=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Ld||{});const ol=new Me,E3=new Uint16Array([0,1,2,0,2,3]);class Kn extends sr{constructor(e){super(),this._anchor=new Gn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Ve(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Ee.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||J.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=E3,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ae.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Qi(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Qi(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,u=r.tx,h=r.ty,c=this.vertexData,f=e.trim,p=e.orig,m=this._anchor;let v=0,_=0,S=0,T=0;if(f?(_=f.x-m._x*p.width,v=_+f.width,T=f.y-m._y*p.height,S=T+f.height):(_=-m._x*p.width,v=_+p.width,T=-m._y*p.height,S=T+p.height),c[0]=n*_+s*T+u,c[1]=o*T+i*_+h,c[2]=n*v+s*T+u,c[3]=o*T+i*v+h,c[4]=n*v+s*S+u,c[5]=o*S+i*v+h,c[6]=n*_+s*S+u,c[7]=o*S+i*_+h,this._roundPixels){const E=ae.RESOLUTION;for(let b=0;b<c.length;++b)c[b]=Math.round(c[b]*E)/E}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,u=s.b,h=s.c,c=s.d,f=s.tx,p=s.ty,m=-i._x*n.width,v=m+n.width,_=-i._y*n.height,S=_+n.height;if(r[0]=o*m+h*_+f,r[1]=c*_+u*m+p,r[2]=o*v+h*_+f,r[3]=c*_+u*v+p,r[4]=o*v+h*S+f,r[5]=c*S+u*v+p,r[6]=o*m+h*S+f,r[7]=c*S+u*m+p,this._roundPixels){const T=ae.RESOLUTION;for(let E=0;E<r.length;++E)r[E]=Math.round(r[E]*T)/T}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new rd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new be),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ol);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return ol.x>=i&&ol.x<i+r&&(s=-n*this.anchor.y,ol.y>=s&&ol.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof J?e:J.from(e,r);return new Kn(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Qi(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Qi(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||J.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Oh={willReadFrequently:!0},Dn=class me{static get experimentalLetterSpacingSupported(){let e=me._experimentalLetterSpacingSupported;if(e!==void 0){const r=ae.ADAPTER.getCanvasRenderingContext2D().prototype;e=me._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,u,h,c){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=u,this.maxLineWidth=h,this.fontProperties=c}static measureText(e,r,n,i=me._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=me.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const u=i.getContext("2d",Oh);u.font=s;const h=(n?me.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),c=new Array(h.length);let f=0;for(let _=0;_<h.length;_++){const S=me._measureText(h[_],r.letterSpacing,u);c[_]=S,f=Math.max(f,S)}let p=f+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);const m=r.lineHeight||o.fontSize+r.strokeThickness;let v=Math.max(m,o.fontSize+r.strokeThickness*2)+r.leading+(h.length-1)*(m+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new me(e,r,p,v,h,c,m+r.leading,f,o)}static _measureText(e,r,n){let i=!1;me.experimentalLetterSpacingSupported&&(me.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(me.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=me._canvas){const i=n.getContext("2d",Oh);let s=0,o="",u="";const h=Object.create(null),{letterSpacing:c,whiteSpace:f}=r,p=me.collapseSpaces(f),m=me.collapseNewlines(f);let v=!p;const _=r.wordWrapWidth+c,S=me.tokenize(e);for(let T=0;T<S.length;T++){let E=S[T];if(me.isNewline(E)){if(!m){u+=me.addLine(o),v=!p,o="",s=0;continue}E=" "}if(p){const w=me.isBreakingSpace(E),A=me.isBreakingSpace(o[o.length-1]);if(w&&A)continue}const b=me.getFromCache(E,c,h,i);if(b>_)if(o!==""&&(u+=me.addLine(o),o="",s=0),me.canBreakWords(E,r.breakWords)){const w=me.wordWrapSplit(E);for(let A=0;A<w.length;A++){let R=w[A],O=R,D=1;for(;w[A+D];){const V=w[A+D];if(!me.canBreakChars(O,V,E,A,r.breakWords))R+=V;else break;O=V,D++}A+=D-1;const k=me.getFromCache(R,c,h,i);k+s>_&&(u+=me.addLine(o),v=!1,o="",s=0),o+=R,s+=k}}else{o.length>0&&(u+=me.addLine(o),o="",s=0);const w=T===S.length-1;u+=me.addLine(E,!w),v=!1,o="",s=0}else b+s>_&&(v=!1,u+=me.addLine(o),o="",s=0),(o.length>0||!me.isBreakingSpace(E)||v)&&(o+=E,s+=b)}return u+=me.addLine(o,!1),u}static addLine(e,r=!0){return e=me.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=me._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!me.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:me._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:me._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(me.isBreakingSpace(s,o)||me.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return me.graphemeSegmenter(e)}static measureFont(e){if(me._fonts[e])return me._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=me._canvas,i=me._context;i.font=e;const s=me.METRICS_STRING+me.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let u=Math.ceil(i.measureText(me.BASELINE_SYMBOL).width);const h=Math.ceil(me.HEIGHT_MULTIPLIER*u);if(u=u*me.BASELINE_MULTIPLIER|0,o===0||h===0)return me._fonts[e]=r,r;n.width=o,n.height=h,i.fillStyle="#f00",i.fillRect(0,0,o,h),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,u);const c=i.getImageData(0,0,o,h).data,f=c.length,p=o*4;let m=0,v=0,_=!1;for(m=0;m<u;++m){for(let S=0;S<p;S+=4)if(c[v+S]!==255){_=!0;break}if(!_)v+=p;else break}for(r.ascent=u-m,v=f-p,_=!1,m=h;m>u;--m){for(let S=0;S<p;S+=4)if(c[v+S]!==255){_=!0;break}if(!_)v-=p;else break}return r.descent=m-u,r.fontSize=r.ascent+r.descent,me._fonts[e]=r,r}static clearMetrics(e=""){e?delete me._fonts[e]:me._fonts={}}static get _canvas(){var e;if(!me.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",Oh))!=null&&e.measureText)return me.__canvas=n,n;r=ae.ADAPTER.createCanvas()}catch{r=ae.ADAPTER.createCanvas()}r.width=r.height=10,me.__canvas=r}return me.__canvas}static get _context(){return me.__context||(me.__context=me._canvas.getContext("2d",Oh)),me.__context}};Dn.METRICS_STRING="|q",Dn.BASELINE_SYMBOL="M",Dn.BASELINE_MULTIPLIER=1.4,Dn.HEIGHT_MULTIPLIER=2,Dn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Dn.experimentalLetterSpacing=!1,Dn._fonts={},Dn._newlines=[10,13],Dn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Hi=Dn;const b3=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],nT=class gl{constructor(e){this.styleID=0,this.reset(),hm(this,e,e)}clone(){const e={};return hm(e,this,gl.defaultStyle),new gl(e)}reset(){hm(this,gl.defaultStyle,gl.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=um(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=um(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){S3(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=um(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!b3.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};nT.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ld.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Qr=nT;function um(t){const e=Ve.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function S3(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function hm(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const T3={texture:!0,children:!1,baseTexture:!0},iT=class Kg extends Kn{constructor(e,r,n){let i=!1;n||(n=ae.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=J.from(n);s.orig=new be,s.trim=new be,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=Kg.defaultResolution??ae.RESOLUTION,this._autoResolution=Kg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return Hi.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Re("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Hi.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Hi.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,u=i.lines,h=i.lineHeight,c=i.lineWidths,f=i.maxLineWidth,p=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let m,v;const _=r.dropShadow?2:1;for(let S=0;S<_;++S){const T=r.dropShadow&&S===0,E=T?Math.ceil(Math.max(1,o)+r.padding*2):0,b=E*this._resolution;if(T){n.fillStyle="black",n.strokeStyle="black";const A=r.dropShadowColor,R=r.dropShadowBlur*this._resolution,O=r.dropShadowDistance*this._resolution;n.shadowColor=Ve.shared.setValue(A).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=R,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*O,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*O+b}else n.fillStyle=this._generateFillStyle(r,u,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let w=(h-p.fontSize)/2;h-p.fontSize<0&&(w=0);for(let A=0;A<u.length;A++)m=r.strokeThickness/2,v=r.strokeThickness/2+A*h+p.ascent+w,r.align==="right"?m+=f-c[A]:r.align==="center"&&(m+=(f-c[A])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(u[A],m+r.padding,v+r.padding-E,!0),r.fill&&this.drawLetterSpacing(u[A],m+r.padding,v+r.padding-E)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(Hi.experimentalLetterSpacingSupported&&(Hi.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let u=r;const h=Hi.graphemeSegmenter(e);let c=this.context.measureText(e).width,f=0;for(let p=0;p<h.length;++p){const m=h[p];i?this.context.strokeText(m,u,n):this.context.fillText(m,u,n);let v="";for(let _=p+1;_<h.length;++_)v+=h[_];f=this.context.measureText(v).width,u+=c-f+s,c=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=eM(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,h=this.canvas.width/this._resolution-o-u*2,c=this.canvas.height/this._resolution-o-u*2,f=i.slice(),p=e.fillGradientStops.slice();if(!p.length){const m=f.length+1;for(let v=1;v<m;++v)p.push(v/m)}if(f.unshift(i[0]),p.unshift(0),f.push(i[i.length-1]),p.push(1),e.fillGradientType===Ld.LINEAR_VERTICAL){s=this.context.createLinearGradient(h/2,u,h/2,c+u);const m=n.fontProperties.fontSize+e.strokeThickness;for(let v=0;v<r.length;v++){const _=n.lineHeight*(v-1)+m,S=n.lineHeight*v;let T=S;v>0&&_>S&&(T=(S+_)/2);const E=S+m,b=n.lineHeight*(v+1);let w=E;v+1<r.length&&b<E&&(w=(E+b)/2);const A=(w-T)/c;for(let R=0;R<f.length;R++){let O=0;typeof p[R]=="number"?O=p[R]:O=R/f.length;let D=Math.min(1,Math.max(0,T/c+O*A));D=Number(D.toFixed(5)),s.addColorStop(D,f[R])}}}else{s=this.context.createLinearGradient(u,c/2,h+u,c/2);const m=f.length+1;let v=1;for(let _=0;_<f.length;_++){let S;typeof p[_]=="number"?S=p[_]:S=v/m,s.addColorStop(S,f[_]),v++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},T3,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Qi(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Qi(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Qr?this._style=e:this._style=new Qr(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};iT.defaultAutoResolution=!0;let Sy=iT;class nd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class yc{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],u=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const c in u){const f=u[c].split("="),p=f[0],m=f[1].replace(/"/gm,""),v=parseFloat(m),_=isNaN(v)?m:v;h[p]=_}n[o].push(h)}const i=new nd;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class qg{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new nd,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),h=e.getElementsByTagName("distanceField");for(let c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const f=o[c];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let c=0;c<u.length;c++)r.kerning.push({first:parseInt(u[c].getAttribute("first"),10),second:parseInt(u[c].getAttribute("second"),10),amount:parseInt(u[c].getAttribute("amount"),10)});for(let c=0;c<h.length;c++)r.distanceField.push({fieldType:h[c].getAttribute("fieldType"),distanceRange:parseInt(h[c].getAttribute("distanceRange"),10)});return r}}class Zg{static test(e){return typeof e=="string"&&e.includes("<font>")?qg.test(ae.ADAPTER.parseXML(e)):!1}static parse(e){return qg.parse(ae.ADAPTER.parseXML(e))}}const cm=[yc,qg,Zg];function A3(t){for(let e=0;e<cm.length;e++)if(cm[e].test(t))return cm[e];return null}function C3(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let u;const h=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,f=t.width/n-h-c*2,p=t.height/n-h-c*2,m=o.slice(),v=r.fillGradientStops.slice();if(!v.length){const _=m.length+1;for(let S=1;S<_;++S)v.push(S/_)}if(m.unshift(o[0]),v.unshift(0),m.push(o[o.length-1]),v.push(1),r.fillGradientType===Ld.LINEAR_VERTICAL){u=e.createLinearGradient(f/2,c,f/2,p+c);let _=0;const S=(s.fontProperties.fontSize+r.strokeThickness)/p;for(let T=0;T<i.length;T++){const E=s.lineHeight*T;for(let b=0;b<m.length;b++){let w=0;typeof v[b]=="number"?w=v[b]:w=b/m.length;const A=E/p+w*S;let R=Math.max(_,A);R=Math.min(R,1),u.addColorStop(R,m[b]),_=R}}}else{u=e.createLinearGradient(c,p/2,f+c,p/2);const _=m.length+1;let S=1;for(let T=0;T<m.length;T++){let E;typeof v[T]=="number"?E=v[T]:E=S/_,u.addColorStop(E,m[T]),S++}}return u}function P3(t,e,r,n,i,s,o){const u=r.text,h=r.fontProperties;e.translate(n,i),e.scale(s,s);const c=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=C3(t,e,o,s,[u],r),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,m=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=Ve.shared.setValue(p).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(u,c,f+r.lineHeight-h.descent),o.fill&&e.fillText(u,c,f+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function vc(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function sT(t){return Array.from?Array.from(t):t.split("")}function R3(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,h=o;u<=h;u++)e.push(String.fromCharCode(u))}else e.push(...sT(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Oi=class Fn{constructor(e,r,n){var f;const[i]=e.info,[s]=e.common,[o]=e.page,[u]=e.distanceField,h=_i(o.file),c={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=c;for(let p=0;p<e.page.length;p++){const{id:m,file:v}=e.page[p];c[m]=r instanceof Array?r[p]:r[v],u!=null&&u.fieldType&&u.fieldType!=="none"&&(c[m].baseTexture.alphaMode=pr.NO_PREMULTIPLIED_ALPHA,c[m].baseTexture.mipmap=Vn.OFF)}for(let p=0;p<e.char.length;p++){const{id:m,page:v}=e.char[p];let{x:_,y:S,width:T,height:E,xoffset:b,yoffset:w,xadvance:A}=e.char[p];_/=h,S/=h,T/=h,E/=h,b/=h,w/=h,A/=h;const R=new be(_+c[v].frame.x/h,S+c[v].frame.y/h,T,E);this.chars[m]={xOffset:b,yOffset:w,xAdvance:A,kerning:{},texture:new J(c[v].baseTexture,R),page:v}}for(let p=0;p<e.kerning.length;p++){let{first:m,second:v,amount:_}=e.kerning[p];m/=h,v/=h,_/=h,this.chars[v]&&(this.chars[v].kerning[m]=_)}this.distanceFieldRange=u==null?void 0:u.distanceRange,this.distanceFieldType=((f=u==null?void 0:u.fieldType)==null?void 0:f.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof nd)i=e;else{const o=A3(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof J&&(r=[r]);const s=new Fn(i,r,n);return Fn.available[s.font]=s,s}static uninstall(e){const r=Fn.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Fn.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:u,textureHeight:h,...c}=Object.assign({},Fn.defaultOptions,n),f=R3(i),p=r instanceof Qr?r:new Qr(r),m=u,v=new nd;v.info[0]={face:p.fontFamily,size:p.fontSize},v.common[0]={lineHeight:p.fontSize};let _=0,S=0,T,E,b,w=0;const A=[];for(let O=0;O<f.length;O++){T||(T=ae.ADAPTER.createCanvas(),T.width=u,T.height=h,E=T.getContext("2d"),b=new we(T,{resolution:o,...c}),A.push(new J(b)),v.page.push({id:A.length-1,file:""}));const D=f[O],k=Hi.measureText(D,p,!1,T),V=k.width,$=Math.ceil(k.height),ce=Math.ceil((p.fontStyle==="italic"?2:1)*V);if(S>=h-$*o){if(S===0)throw new Error(`[BitmapFont] textureHeight ${h}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${D}')`);--O,T=null,E=null,b=null,S=0,_=0,w=0;continue}if(w=Math.max($+k.fontProperties.descent,w),ce*o+_>=m){if(_===0)throw new Error(`[BitmapFont] textureWidth ${u}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${D}')`);--O,S+=w*o,S=Math.ceil(S),_=0,w=0;continue}P3(T,E,k,_,S,o,p);const K=vc(k.text);v.char.push({id:K,page:A.length-1,x:_/o,y:S/o,width:ce,height:$,xoffset:0,yoffset:0,xadvance:V-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0)}),_+=(ce+2*s)*o,_=Math.ceil(_)}if(!(n!=null&&n.skipKerning))for(let O=0,D=f.length;O<D;O++){const k=f[O];for(let V=0;V<D;V++){const $=f[V],ce=E.measureText(k).width,K=E.measureText($).width,N=E.measureText(k+$).width-(ce+K);N&&v.kerning.push({first:vc(k),second:vc($),amount:N})}}const R=new Fn(v,A,!0);return Fn.available[e]!==void 0&&Fn.uninstall(e),Fn.available[e]=R,R}};Oi.ALPHA=[["a","z"],["A","Z"]," "],Oi.NUMERIC=[["0","9"]],Oi.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Oi.ASCII=[[" ","~"]],Oi.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Oi.ALPHANUMERIC},Oi.available={};let Li=Oi;class I3{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const dm=new Me,zx=new Vs,oT=class aT extends sr{constructor(e,r,n,i=cn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Qn.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ae.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===cn.TRIANGLES&&r.length<aT.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,u=i.c,h=i.d,c=i.tx,f=i.ty,p=this.vertexData;for(let m=0;m<p.length/2;m++){const v=r[m*2],_=r[m*2+1];p[m*2]=s*v+u*_+c,p[m*2+1]=o*v+h*_+f}if(this._roundPixels){const m=ae.RESOLUTION;for(let v=0;v<p.length;++v)p[v]=Math.round(p[v]*m)/m}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new I3(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,dm);const r=this.geometry.getBuffer("aVertexPosition").data,n=zx.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let u=0;u+2<s;u+=o){const h=i[u]*2,c=i[u+1]*2,f=i[u+2]*2;if(n[0]=r[h],n[1]=r[h+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[f],n[5]=r[f+1],zx.contains(dm.x,dm.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};oT.BATCHABLE_SIZE=100;let ru=oT;class Ud extends ls{constructor(e,r,n){super();const i=new vt(e),s=new vt(r,!0),o=new vt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ye.FLOAT).addAttribute("aTextureCoord",s,2,!1,ye.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var k3=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,M3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class nu extends Wn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Ke.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||hi.from(M3,k3),n),this._colorDirty=!1,this.uvMatrix=new Ey(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Ve(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Ve.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var D3=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,F3=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Gx=[],Hx=[],$x=[],lT=class uT extends sr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:u,fontSize:h}=Object.assign({},uT.styleDefaults,r);if(!Li.available[u])throw new Error(`Missing BitmapFont "${u}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new Ve(i),this._font=void 0,this._fontName=u,this._fontSize=h,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Gn(()=>{this.dirty=!0},this,0,0),this._roundPixels=ae.ROUND_PIXELS,this.dirty=!0,this._resolution=ae.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var ce;const e=Li.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Me,s=[],o=[],u=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=sT(h),f=this._maxWidth*e.size/r,p=e.distanceFieldType==="none"?Gx:Hx;let m=null,v=0,_=0,S=0,T=-1,E=0,b=0,w=0,A=0;for(let K=0;K<c.length;K++){const N=c[K],X=vc(N);if(/(?:\s)/.test(N)&&(T=K,E=v,A++),N==="\r"||N===`
`){o.push(v),u.push(-1),_=Math.max(_,v),++S,++b,i.x=0,i.y+=e.lineHeight,m=null,A=0;continue}const ee=e.chars[X];if(!ee)continue;m&&ee.kerning[m]&&(i.x+=ee.kerning[m]);const le=$x.pop()||{texture:J.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Me};le.texture=ee.texture,le.line=S,le.charCode=X,le.position.x=Math.round(i.x+ee.xOffset+this._letterSpacing/2),le.position.y=Math.round(i.y+ee.yOffset),le.prevSpaces=A,s.push(le),v=le.position.x+Math.max(ee.xAdvance-ee.xOffset,ee.texture.orig.width),i.x+=ee.xAdvance+this._letterSpacing,w=Math.max(w,ee.yOffset+ee.texture.height),m=X,T!==-1&&f>0&&i.x>f&&(++b,sa(s,1+T-b,1+K-T),K=T,T=-1,o.push(E),u.push(s.length>0?s[s.length-1].prevSpaces:0),_=Math.max(_,E),S++,i.x=0,i.y+=e.lineHeight,m=null,A=0)}const R=c[c.length-1];R!=="\r"&&R!==`
`&&(/(?:\s)/.test(R)&&(v=E),o.push(v),_=Math.max(_,v),u.push(-1));const O=[];for(let K=0;K<=S;K++){let N=0;this._align==="right"?N=_-o[K]:this._align==="center"?N=(_-o[K])/2:this._align==="justify"&&(N=u[K]<0?0:(_-o[K])/u[K]),O.push(N)}const D=s.length,k={},V=[],$=this._activePagesMeshData;p.push(...$);for(let K=0;K<D;K++){const N=s[K].texture,X=N.baseTexture.uid;if(!k[X]){let ee=p.pop();if(!ee){const se=new Ud;let I,G;e.distanceFieldType==="none"?(I=new nu(J.EMPTY),G=Ee.NORMAL):(I=new nu(J.EMPTY,{program:hi.from(F3,D3),uniforms:{uFWidth:0}}),G=Ee.NORMAL_NPM);const F=new ru(se,I);F.blendMode=G,ee={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:F,vertices:null,uvs:null,indices:null}}ee.index=0,ee.indexCount=0,ee.vertexCount=0,ee.uvsCount=0,ee.total=0;const{_textureCache:le}=this;le[X]=le[X]||new J(N.baseTexture),ee.mesh.texture=le[X],ee.mesh.tint=this._tintColor.value,V.push(ee),k[X]=ee}k[X].total++}for(let K=0;K<$.length;K++)V.includes($[K])||this.removeChild($[K].mesh);for(let K=0;K<V.length;K++)V[K].mesh.parent!==this&&this.addChild(V[K].mesh);this._activePagesMeshData=V;for(const K in k){const N=k[K],X=N.total;if(!(((ce=N.indices)==null?void 0:ce.length)>6*X)||N.vertices.length<ru.BATCHABLE_SIZE*2)N.vertices=new Float32Array(4*2*X),N.uvs=new Float32Array(4*2*X),N.indices=new Uint16Array(6*X);else{const ee=N.total,le=N.vertices;for(let se=ee*4*2;se<le.length;se++)le[se]=0}N.mesh.size=6*X}for(let K=0;K<D;K++){const N=s[K];let X=N.position.x+O[N.line]*(this._align==="justify"?N.prevSpaces:1);this._roundPixels&&(X=Math.round(X));const ee=X*n,le=N.position.y*n,se=N.texture,I=k[se.baseTexture.uid],G=se.frame,F=se._uvs,L=I.index++;I.indices[L*6+0]=0+L*4,I.indices[L*6+1]=1+L*4,I.indices[L*6+2]=2+L*4,I.indices[L*6+3]=0+L*4,I.indices[L*6+4]=2+L*4,I.indices[L*6+5]=3+L*4,I.vertices[L*8+0]=ee,I.vertices[L*8+1]=le,I.vertices[L*8+2]=ee+G.width*n,I.vertices[L*8+3]=le,I.vertices[L*8+4]=ee+G.width*n,I.vertices[L*8+5]=le+G.height*n,I.vertices[L*8+6]=ee,I.vertices[L*8+7]=le+G.height*n,I.uvs[L*8+0]=F.x0,I.uvs[L*8+1]=F.y0,I.uvs[L*8+2]=F.x1,I.uvs[L*8+3]=F.y1,I.uvs[L*8+4]=F.x2,I.uvs[L*8+5]=F.y2,I.uvs[L*8+6]=F.x3,I.uvs[L*8+7]=F.y3}this._textWidth=_*n,this._textHeight=(i.y+e.lineHeight)*n;for(const K in k){const N=k[K];if(this.anchor.x!==0||this.anchor.y!==0){let se=0;const I=this._textWidth*this.anchor.x,G=this._textHeight*this.anchor.y;for(let F=0;F<N.total;F++)N.vertices[se++]-=I,N.vertices[se++]-=G,N.vertices[se++]-=I,N.vertices[se++]-=G,N.vertices[se++]-=I,N.vertices[se++]-=G,N.vertices[se++]-=I,N.vertices[se++]-=G}this._maxLineHeight=w*n;const X=N.mesh.geometry.getBuffer("aVertexPosition"),ee=N.mesh.geometry.getBuffer("aTextureCoord"),le=N.mesh.geometry.getIndex();X.data=N.vertices,ee.data=N.uvs,le.data=N.indices,X.update(),ee.update(),le.update()}for(let K=0;K<s.length;K++)$x.push(s[K]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=Li.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:u,d:h}=this.worldTransform,c=Math.sqrt(s*s+o*o),f=Math.sqrt(u*u+h*h),p=(Math.abs(c)+Math.abs(f))/2,m=this.fontSize/i,v=e._view.resolution;for(const _ of this._activePagesMeshData)_.mesh.shader.uniforms.uFWidth=p*r*m*v}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Li.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Li.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Li.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Li.available[this._fontName].distanceFieldType==="none"?Gx:Hx;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=J.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};lT.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let N3=lT;const jx={loader:ie.LoadParser,resolver:ie.ResolveParser,cache:ie.CacheParser,detection:ie.DetectionParser};fe.handle(ie.Asset,t=>{const e=t.ref;Object.entries(jx).filter(([r])=>!!e[r]).forEach(([r,n])=>fe.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(jx).filter(r=>!!e[r]).forEach(r=>fe.remove(e[r]))});class B3{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Aa(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function ps(t,e){const r=t.split("?")[0],n=Ot.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const hn=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),Jg=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function hT(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const u=s[o];r<e.length-1?hT(t.replace(n[r],u),e,r+1,n,i):i.push(t.replace(n[r],u))}}function O3(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),hT(t,i,0,r,n)}else n.push(t);return n}const id=t=>!Array.isArray(t);class L3{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=hn(e);let i;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.test(r)){i=h.getCacheableAssets(n,r);break}}i||(i={},n.forEach(u=>{i[u]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(u=>{this._cacheMap.set(u,o)}),s.forEach(u=>{this._cache.has(u)&&this._cache.get(u)!==r&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),r instanceof J){const u=r;n.forEach(h=>{u.baseTexture!==J.EMPTY.baseTexture&&we.addToCache(u.baseTexture,h),J.addToCache(u,h)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Ls=new L3;class U3{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,u;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];if(c.load&&((o=c.test)!=null&&o.call(c,e,r,this))){s=c;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];c.parse&&c.parse&&await((u=c.testParse)==null?void 0:u.call(c,i,r,this))&&(i=await c.parse(i,r,this)||i,n.parser=c)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=id(e),o=hn(e,c=>({alias:[c],src:c})),u=o.length,h=o.map(async c=>{const f=Ot.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,c)),i[c.src]=await this.promiseCache[f].promise,r&&r(++n/u)}catch(p){throw delete this.promiseCache[f],delete i[c.src],new Error(`[Loader.load] Failed to load ${f}.
${p}`)}});return await Promise.all(h),s?i[o[0].src]:i}async unload(e){const r=hn(e,n=>({alias:[n],src:n})).map(async n=>{var o,u;const i=Ot.toAbsolute(n.src),s=this.promiseCache[i];if(s){const h=await s.promise;delete this.promiseCache[i],(u=(o=s.parser)==null?void 0:o.unload)==null||u.call(o,h,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var vn=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(vn||{});const z3=".json",G3="application/json",H3={extension:{type:ie.LoadParser,priority:vn.Low},name:"loadJson",test(t){return Aa(t,G3)||ps(t,z3)},async load(t){return await(await ae.ADAPTER.fetch(t)).json()}};fe.add(H3);const $3=".txt",j3="text/plain",W3={name:"loadTxt",extension:{type:ie.LoadParser,priority:vn.Low},test(t){return Aa(t,j3)||ps(t,$3)},async load(t){return await(await ae.ADAPTER.fetch(t)).text()}};fe.add(W3);const V3=["normal","bold","100","200","300","400","500","600","700","800","900"],X3=[".ttf",".otf",".woff",".woff2"],Y3=["font/ttf","font/otf","font/woff","font/woff2"],Q3=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function K3(t){const e=Ot.extname(t),r=Ot.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(Q3)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const q3=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Z3(t){return q3.test(t)?t:encodeURI(t)}const J3={extension:{type:ie.LoadParser,priority:vn.Low},name:"loadWebFont",test(t){return Aa(t,Y3)||ps(t,X3)},async load(t,e){var n,i,s;const r=ae.ADAPTER.getFontFaceSet();if(r){const o=[],u=((n=e.data)==null?void 0:n.family)??K3(t),h=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>V3.includes(f)))??["normal"],c=e.data??{};for(let f=0;f<h.length;f++){const p=h[f],m=new FontFace(u,`url(${Z3(t)})`,{...c,weight:p});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ae.ADAPTER.getFontFaceSet().delete(e))}};fe.add(J3);const eD=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let aa=null,e0=class{constructor(){aa||(aa=URL.createObjectURL(new Blob([eD],{type:"application/javascript"}))),this.worker=new Worker(aa)}};e0.revokeObjectURL=function(){aa&&(URL.revokeObjectURL(aa),aa=null)};const tD=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let la=null;class cT{constructor(){la||(la=URL.createObjectURL(new Blob([tD],{type:"application/javascript"}))),this.worker=new Worker(la)}}cT.revokeObjectURL=function(){la&&(URL.revokeObjectURL(la),la=null)};let Wx=0,fm;class rD{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new e0;r.addEventListener("message",n=>{r.terminate(),e0.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){fm===void 0&&(fm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<fm&&(this._createdWorkers++,e=new cT().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[Wx]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:Wx++,id:n})}}const Vx=new rD;function pu(t,e,r){t.resource.internal=!0;const n=new J(t),i=()=>{delete e.promiseCache[r],Ls.has(r)&&Ls.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const nD=[".jpeg",".jpg",".png",".webp",".avif"],iD=["image/jpeg","image/png","image/webp","image/avif"];async function sD(t){const e=await ae.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const zd={name:"loadTextures",extension:{type:ie.LoadParser,priority:vn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Aa(t,iD)||ps(t,nD)},async load(t,e,r){var u;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await Vx.isImageBitmapSupported()?i=await Vx.loadImageBitmap(t):i=await sD(t):i=await new Promise((h,c)=>{const f=new Image;f.crossOrigin=this.config.crossOrigin,f.src=t,f.complete?h(f):(f.onload=()=>h(f),f.onerror=p=>c(p))});const s={...e.data};s.resolution??(s.resolution=_i(t)),n&&((u=s.resourceOptions)==null?void 0:u.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new we(i,s);return o.resource.src=t,pu(o,r,t)},unload(t){t.destroy(!0)}};fe.add(zd);const oD=".svg",aD="image/svg+xml",lD={extension:{type:ie.LoadParser,priority:vn.High},name:"loadSVG",test(t){return Aa(t,aD)||ps(t,oD)},async testParse(t){return Vg.test(t)},async parse(t,e,r){var s;const n=new Vg(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new we(n,{resolution:_i(t),...e==null?void 0:e.data});return i.resource.src=e.src,pu(i,r,e.src)},async load(t,e){return(await ae.ADAPTER.fetch(t)).text()},unload:zd.unload};fe.add(lD);const uD=[".mp4",".m4v",".webm",".ogv"],hD=["video/mp4","video/webm","video/ogg"],cD={name:"loadVideo",extension:{type:ie.LoadParser,priority:vn.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return Aa(t,hD)||ps(t,uD)},async load(t,e,r){var o;let n;const i=await(await ae.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const u={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},h=new tT(s,u);await h.load();const c=new we(h,{alphaMode:await Bk(),resolution:_i(t),...e==null?void 0:e.data});c.resource.src=t,n=pu(c,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(u){throw URL.revokeObjectURL(s),u}return n},unload(t){t.destroy(!0)}};fe.add(cD);class dD{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return hn(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(u=>(u==null?void 0:u.src)??(u==null?void 0:u.srcs)??u):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let u;if(typeof o=="string"){const h=this._createBundleAssetId(e,o);n.push(h),u=[o,h]}else{const h=o.map(c=>this._createBundleAssetId(e,c));n.push(...h),u=[...o,...h]}this.add({...i,alias:u,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],u=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(u)?u:[u]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Re("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let u;u=h=>{this.hasKey(h)&&console.warn(`[Resolver] already has key: ${h} overwriting`)},hn(o).forEach(h=>{const{src:c,srcs:f}=h;let{data:p,format:m,loadParser:v}=h;const _=hn(c||f).map(E=>typeof E=="string"?O3(E):Array.isArray(E)?E:[E]),S=this.getAlias(h);Array.isArray(S)?S.forEach(u):u(S);const T=[];_.forEach(E=>{E.forEach(b=>{let w={};if(typeof b!="object"){w.src=b;for(let A=0;A<this._parsers.length;A++){const R=this._parsers[A];if(R.test(b)){w=R.parse(b);break}}}else p=b.data??p,m=b.format??m,v=b.loadParser??v,w={...w,...b};if(!S)throw new Error(`[Resolver] alias is undefined for this asset: ${w.src}`);w=this.buildResolvedAsset(w,{aliases:S,data:p,format:m,loadParser:v}),T.push(w)})}),S.forEach(E=>{this._assetMap[E]=T})})}resolveBundle(e){const r=id(e);e=hn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),u={};for(const h in o){const c=o[h];u[this._extractAssetIdFromBundle(i,h)]=c}n[i]=u}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=id(e);e=hn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],u=this._getPreferredOrder(s);u==null||u.priority.forEach(h=>{u.params[h].forEach(c=>{const f=s.filter(p=>p[h]?p[h]===c:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Ot.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??Ot.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class fD{constructor(){this._detections=[],this._initialized=!1,this.resolver=new dD,this.loader=new U3,this.cache=Ls,this._backgroundLoader=new B3(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let u=e.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=id(e),i=hn(e).map(u=>{if(typeof u!="string"){const h=this.resolver.getAlias(u);return h.some(c=>!this.resolver.hasKey(c))&&this.add(u),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(u)||this.add({alias:u,src:u}),u}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let u=0,h=0;const c=()=>{r==null||r(++u/h)},f=o.map(p=>{const m=i[p];return h+=Object.keys(m).length,this._mapLoadToResolve(m,c).then(v=>{s[p]=v})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Ls.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Ls.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((u,h)=>{const c=s[u.src],f=[u.src];u.alias&&f.push(...u.alias),o[i[h]]=c,Ls.set(f,c)}),o}async unload(e){this._initialized||await this.init();const r=hn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=hn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Ls.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return zd.config.preferWorkers}set preferWorkers(e){Re("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Lh=new fD;fe.handleByList(ie.LoadParser,Lh.loader.parsers).handleByList(ie.ResolveParser,Lh.resolver.parsers).handleByList(ie.CacheParser,Lh.cache.parsers).handleByList(ie.DetectionParser,Lh.detections);const pD={extension:ie.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof J),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};fe.add(pD);async function dT(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const mD={extension:{type:ie.DetectionParser,priority:1},test:async()=>dT("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};fe.add(mD);const gD={extension:{type:ie.DetectionParser,priority:0},test:async()=>dT("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};fe.add(gD);const Xx=["png","jpg","jpeg"],yD={extension:{type:ie.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Xx],remove:async t=>t.filter(e=>!Xx.includes(e))};fe.add(yD);const vD="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Ty(t){return vD?!1:document.createElement("video").canPlayType(t)!==""}const _D={extension:{type:ie.DetectionParser,priority:0},test:async()=>Ty("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};fe.add(_D);const xD={extension:{type:ie.DetectionParser,priority:0},test:async()=>Ty("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};fe.add(xD);const wD={extension:{type:ie.DetectionParser,priority:0},test:async()=>Ty("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};fe.add(wD);const ED={extension:ie.ResolveParser,test:zd.test,parse:t=>{var e;return{resolution:parseFloat(((e=ae.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Ot.extname(t).slice(1),src:t}}};fe.add(ED);const bD=[".xml",".fnt"],SD={extension:{type:ie.LoadParser,priority:vn.Normal},name:"loadBitmapFont",test(t){return bD.includes(Ot.extname(t).toLowerCase())},async testParse(t){return yc.test(t)||Zg.test(t)},async parse(t,e,r){const n=yc.test(t)?yc.parse(t):Zg.parse(t),{src:i}=e,{page:s}=n,o=[];for(let c=0;c<s.length;++c){const f=s[c].file;let p=Ot.join(Ot.dirname(i),f);p=Jg(p,i),o.push(p)}const u=await r.load(o),h=o.map(c=>u[c]);return Li.install(n,h,!0)},async load(t,e){return(await ae.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};fe.add(SD);const sd={build(t){const e=t.points;let r,n,i,s,o,u;if(t.type===Ht.CIRC){const _=t.shape;r=_.x,n=_.y,o=u=_.radius,i=s=0}else if(t.type===Ht.ELIP){const _=t.shape;r=_.x,n=_.y,o=_.width,u=_.height,i=s=0}else{const _=t.shape,S=_.width/2,T=_.height/2;r=_.x+S,n=_.y+T,o=u=Math.max(0,Math.min(_.radius,Math.min(S,T))),i=S-o,s=T-u}if(!(o>=0&&u>=0&&i>=0&&s>=0)){e.length=0;return}const h=Math.ceil(2.3*Math.sqrt(o+u)),c=h*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(h===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,p=h*4+(i?2:0)+2,m=p,v=c;{const _=i+o,S=s,T=r+_,E=r-_,b=n+S;if(e[f++]=T,e[f++]=b,e[--p]=b,e[--p]=E,s){const w=n-S;e[m++]=E,e[m++]=w,e[--v]=w,e[--v]=T}}for(let _=1;_<h;_++){const S=Math.PI/2*(_/h),T=i+Math.cos(S)*o,E=s+Math.sin(S)*u,b=r+T,w=r-T,A=n+E,R=n-E;e[f++]=b,e[f++]=A,e[--p]=A,e[--p]=w,e[m++]=w,e[m++]=R,e[--v]=R,e[--v]=b}{const _=i,S=s+u,T=r+_,E=r-_,b=n+S,w=n-S;e[f++]=T,e[f++]=b,e[--v]=w,e[--v]=T,i&&(e[f++]=E,e[f++]=b,e[--v]=w,e[--v]=E)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let u,h;if(t.type!==Ht.RREC){const f=t.shape;u=f.x,h=f.y}else{const f=t.shape;u=f.x+f.width/2,h=f.y+f.height/2}const c=t.matrix;n.push(t.matrix?c.a*u+c.c*h+c.tx:u,t.matrix?c.b*u+c.d*h+c.ty:h),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function Yx(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const u=t[i],h=t[i+1];n+=(u-s)*(h+o),s=u,o=h}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,u=r-s-1,h=s,c=s+1;[t[o],t[h]]=[t[h],t[o]],[t[u],t[c]]=[t[c],t[u]]}}}const fT={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){Yx(r,!1);const o=[];for(let c=0;c<n.length;c++){const f=n[c];Yx(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const u=nI(r,o,2);if(!u)return;const h=i.length/2;for(let c=0;c<u.length;c+=3)s.push(u[c]+h),s.push(u[c+1]+h),s.push(u[c+2]+h);for(let c=0;c<r.length;c++)i.push(r[c])}}},TD={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},AD={build(t){sd.build(t)},triangulate(t,e){sd.triangulate(t,e)}};var zr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(zr||{}),Ki=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ki||{});const xa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Qx{static curveTo(e,r,n,i,s,o){const u=o[o.length-2],h=o[o.length-1]-r,c=u-e,f=i-r,p=n-e,m=Math.abs(h*p-c*f);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const v=h*h+c*c,_=f*f+p*p,S=h*f+c*p,T=s*Math.sqrt(v)/m,E=s*Math.sqrt(_)/m,b=T*S/v,w=E*S/_,A=T*p+E*c,R=T*f+E*h,O=c*(E+b),D=h*(E+b),k=p*(T+w),V=f*(T+w),$=Math.atan2(D-R,O-A),ce=Math.atan2(V-R,k-A);return{cx:A+e,cy:R+r,radius:s,startAngle:$,endAngle:ce,anticlockwise:c*f>p*h}}static arc(e,r,n,i,s,o,u,h,c){const f=u-o,p=xa._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/qc)*40),m=f/(p*2),v=m*2,_=Math.cos(m),S=Math.sin(m),T=p-1,E=T%1/T;for(let b=0;b<=T;++b){const w=b+E*b,A=m+o+v*w,R=Math.cos(A),O=-Math.sin(A);c.push((_*R+S*O)*s+n,(_*-O+S*R)*s+i)}}}class CD{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Ay{static curveLength(e,r,n,i,s,o,u,h){let c=0,f=0,p=0,m=0,v=0,_=0,S=0,T=0,E=0,b=0,w=0,A=e,R=r;for(let O=1;O<=10;++O)f=O/10,p=f*f,m=p*f,v=1-f,_=v*v,S=_*v,T=S*e+3*_*f*n+3*v*p*s+m*u,E=S*r+3*_*f*i+3*v*p*o+m*h,b=A-T,w=R-E,A=T,R=E,c+=Math.sqrt(b*b+w*w);return c}static curveTo(e,r,n,i,s,o,u){const h=u[u.length-2],c=u[u.length-1];u.length-=2;const f=xa._segmentsCount(Ay.curveLength(h,c,e,r,n,i,s,o));let p=0,m=0,v=0,_=0,S=0;u.push(h,c);for(let T=1,E=0;T<=f;++T)E=T/f,p=1-E,m=p*p,v=m*p,_=E*E,S=_*E,u.push(v*h+3*m*E*e+3*p*_*n+S*s,v*c+3*m*E*r+3*p*_*i+S*o)}}function Kx(t,e,r,n,i,s,o,u){const h=t-r*i,c=e-n*i,f=t+r*s,p=e+n*s;let m,v;o?(m=n,v=-r):(m=-n,v=r);const _=h+m,S=c+v,T=f+m,E=p+v;return u.push(_,S,T,E),2}function Cs(t,e,r,n,i,s,o,u){const h=r-t,c=n-e;let f=Math.atan2(h,c),p=Math.atan2(i-t,s-e);u&&f<p?f+=Math.PI*2:!u&&f>p&&(p+=Math.PI*2);let m=f;const v=p-f,_=Math.abs(v),S=Math.sqrt(h*h+c*c),T=(15*_*Math.sqrt(S)/Math.PI>>0)+1,E=v/T;if(m+=E,u){o.push(t,e,r,n);for(let b=1,w=m;b<T;b++,w+=E)o.push(t,e,t+Math.sin(w)*S,e+Math.cos(w)*S);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let b=1,w=m;b<T;b++,w+=E)o.push(t+Math.sin(w)*S,e+Math.cos(w)*S,t,e);o.push(i,s,t,e)}return T*2}function PD(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Me(n[0],n[1]),u=new Me(n[n.length-2],n[n.length-1]),h=r.type!==Ht.POLY||r.closeStroke,c=Math.abs(o.x-u.x)<i&&Math.abs(o.y-u.y)<i;if(h){n=n.slice(),c&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const se=(o.x+u.x)*.5,I=(u.y+o.y)*.5;n.unshift(se,I),n.push(se,I)}const f=e.points,p=n.length/2;let m=n.length;const v=f.length/2,_=s.width/2,S=_*_,T=s.miterLimit*s.miterLimit;let E=n[0],b=n[1],w=n[2],A=n[3],R=0,O=0,D=-(b-A),k=E-w,V=0,$=0,ce=Math.sqrt(D*D+k*k);D/=ce,k/=ce,D*=_,k*=_;const K=s.alignment,N=(1-K)*2,X=K*2;h||(s.cap===Ki.ROUND?m+=Cs(E-D*(N-X)*.5,b-k*(N-X)*.5,E-D*N,b-k*N,E+D*X,b+k*X,f,!0)+2:s.cap===Ki.SQUARE&&(m+=Kx(E,b,D,k,N,X,!0,f))),f.push(E-D*N,b-k*N,E+D*X,b+k*X);for(let se=1;se<p-1;++se){E=n[(se-1)*2],b=n[(se-1)*2+1],w=n[se*2],A=n[se*2+1],R=n[(se+1)*2],O=n[(se+1)*2+1],D=-(b-A),k=E-w,ce=Math.sqrt(D*D+k*k),D/=ce,k/=ce,D*=_,k*=_,V=-(A-O),$=w-R,ce=Math.sqrt(V*V+$*$),V/=ce,$/=ce,V*=_,$*=_;const I=w-E,G=b-A,F=w-R,L=O-A,te=I*F+G*L,Ae=G*F-L*I,xe=Ae<0;if(Math.abs(Ae)<.001*Math.abs(te)){f.push(w-D*N,A-k*N,w+D*X,A+k*X),te>=0&&(s.join===zr.ROUND?m+=Cs(w,A,w-D*N,A-k*N,w-V*N,A-$*N,f,!1)+4:m+=2,f.push(w-V*X,A-$*X,w+V*N,A+$*N));continue}const Pe=(-D+E)*(-k+A)-(-D+w)*(-k+b),Se=(-V+R)*(-$+A)-(-V+w)*(-$+O),De=(I*Se-F*Pe)/Ae,qe=(L*Pe-G*Se)/Ae,pt=(De-w)*(De-w)+(qe-A)*(qe-A),$e=w+(De-w)*N,Te=A+(qe-A)*N,Ue=w-(De-w)*X,re=A-(qe-A)*X,mt=Math.min(I*I+G*G,F*F+L*L),nt=xe?N:X,_r=mt+nt*nt*S,Ca=pt<=_r;let bi=s.join;if(bi===zr.MITER&&pt/S>T&&(bi=zr.BEVEL),Ca)switch(bi){case zr.MITER:{f.push($e,Te,Ue,re);break}case zr.BEVEL:{xe?f.push($e,Te,w+D*X,A+k*X,$e,Te,w+V*X,A+$*X):f.push(w-D*N,A-k*N,Ue,re,w-V*N,A-$*N,Ue,re),m+=2;break}case zr.ROUND:{xe?(f.push($e,Te,w+D*X,A+k*X),m+=Cs(w,A,w+D*X,A+k*X,w+V*X,A+$*X,f,!0)+4,f.push($e,Te,w+V*X,A+$*X)):(f.push(w-D*N,A-k*N,Ue,re),m+=Cs(w,A,w-D*N,A-k*N,w-V*N,A-$*N,f,!1)+4,f.push(w-V*N,A-$*N,Ue,re));break}}else{switch(f.push(w-D*N,A-k*N,w+D*X,A+k*X),bi){case zr.MITER:{xe?f.push(Ue,re,Ue,re):f.push($e,Te,$e,Te),m+=2;break}case zr.ROUND:{xe?m+=Cs(w,A,w+D*X,A+k*X,w+V*X,A+$*X,f,!0)+2:m+=Cs(w,A,w-D*N,A-k*N,w-V*N,A-$*N,f,!1)+2;break}}f.push(w-V*N,A-$*N,w+V*X,A+$*X),m+=2}}E=n[(p-2)*2],b=n[(p-2)*2+1],w=n[(p-1)*2],A=n[(p-1)*2+1],D=-(b-A),k=E-w,ce=Math.sqrt(D*D+k*k),D/=ce,k/=ce,D*=_,k*=_,f.push(w-D*N,A-k*N,w+D*X,A+k*X),h||(s.cap===Ki.ROUND?m+=Cs(w-D*(N-X)*.5,A-k*(N-X)*.5,w-D*N,A-k*N,w+D*X,A+k*X,f,!1)+2:s.cap===Ki.SQUARE&&(m+=Kx(w,A,D,k,N,X,!1,f)));const ee=e.indices,le=xa.epsilon*xa.epsilon;for(let se=v;se<m+v-2;++se)E=f[se*2],b=f[se*2+1],w=f[(se+1)*2],A=f[(se+1)*2+1],R=f[(se+2)*2],O=f[(se+2)*2+1],!(Math.abs(E*(A-O)+w*(O-b)+R*(b-A))<le)&&ee.push(se,se+1,se+2)}function RD(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Ht.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,u=e.indices,h=i.length/2,c=o.length/2;let f=c;for(o.push(i[0],i[1]),r=1;r<h;r++)o.push(i[r*2],i[r*2+1]),u.push(f,f+1),f++;s&&u.push(f,c)}function qx(t,e){t.lineStyle.native?RD(t,e):PD(t,e)}class Cy{static curveLength(e,r,n,i,s,o){const u=e-2*n+s,h=r-2*i+o,c=2*n-2*e,f=2*i-2*r,p=4*(u*u+h*h),m=4*(u*c+h*f),v=c*c+f*f,_=2*Math.sqrt(p+m+v),S=Math.sqrt(p),T=2*p*S,E=2*Math.sqrt(v),b=m/S;return(T*_+S*m*(_-E)+(4*v*p-m*m)*Math.log((2*S+b+_)/(b+E)))/(4*T)}static curveTo(e,r,n,i,s){const o=s[s.length-2],u=s[s.length-1],h=xa._segmentsCount(Cy.curveLength(o,u,e,r,n,i));let c=0,f=0;for(let p=1;p<=h;++p){const m=p/h;c=o+(e-o)*m,f=u+(r-u)*m,s.push(c+(e+(n-e)*m-c)*m,f+(r+(i-r)*m-f)*m)}}}const pm={[Ht.POLY]:fT,[Ht.CIRC]:sd,[Ht.ELIP]:sd,[Ht.RECT]:TD,[Ht.RREC]:AD},Zx=[],Uh=[];class od{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new od(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Ao=new Me,pT=class mT extends _S{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new rd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Uh.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),Zx.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new od(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new od(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,Ao):Ao.copyFrom(e),i.shape.contains(Ao.x,Ao.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(Ao.x,Ao.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let h=this.shapeIndex;h<r.length;h++){this.shapeIndex++;const c=r[h],f=c.fillStyle,p=c.lineStyle;pm[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(f.visible||p.visible)&&this.processHoles(c.holes);for(let m=0;m<2;m++){const v=m===0?f:p;if(!v.visible)continue;const _=v.texture.baseTexture,S=this.indices.length,T=this.points.length/2;_.wrapMode=fi.REPEAT,m===0?this.processFill(c):this.processLine(c);const E=this.points.length/2-T;E!==0&&(n&&!this._compareStyles(i,v)&&(n.end(S,T),n=null),n||(n=Zx.pop()||new CD,n.begin(v,S,T),this.batches.push(n),i=v),this.addUvs(this.points,e,v.texture,T,E,v.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const u=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&u===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=u?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<mT.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++we._globalBatch;for(let p=0;p<this.drawCalls.length;p++)this.drawCalls[p].texArray.clear(),Uh.push(this.drawCalls[p]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Uh.pop();i||(i=new Bg,i.texArray=new zg),i.texArray.count=0,i.start=0,i.size=0,i.type=cn.TRIANGLES;let s=0,o=null,u=0,h=!1,c=cn.TRIANGLES,f=0;this.drawCalls.push(i);for(let p=0;p<this.batches.length;p++){const m=this.batches[p],v=8,_=m.style,S=_.texture.baseTexture;h!==!!_.native&&(h=!!_.native,c=h?cn.LINES:cn.TRIANGLES,o=null,s=v,e++),o!==S&&(o=S,S._batchEnabled!==e&&(s===v&&(e++,s=0,i.size>0&&(i=Uh.pop(),i||(i=new Bg,i.texArray=new zg),this.drawCalls.push(i)),i.start=f,i.size=0,i.texArray.count=0,i.type=c),S.touched=1,S._batchEnabled=e,S._batchLocation=s,S.wrapMode=fi.REPEAT,i.texArray.elements[i.texArray.count++]=S,s++)),i.size+=m.size,f+=m.size,u=S._batchLocation,this.addColors(r,_.color,_.alpha,m.attribSize,m.attribStart),this.addTextureIds(n,u,m.attribSize,m.attribStart)}we._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),u=new Uint32Array(s);let h=0;for(let c=0;c<e.length/2;c++)o[h++]=e[c*2],o[h++]=e[c*2+1],o[h++]=r[c*2],o[h++]=r[c*2+1],u[h++]=n[c],o[h++]=i[c];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?fT.triangulate(e,this):pm[e.type].triangulate(e,this)}processLine(e){qx(e,this);for(let r=0;r<e.holes.length;r++)qx(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];pm[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=Ve.shared.setValue(r).toLittleEndianNumber(),u=Ve.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let h=0;h<i;h++)e[s+h]=u}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let u=0;const h=r.length,c=n.frame;for(;u<s;){let p=e[(i+u)*2],m=e[(i+u)*2+1];if(o){const v=o.a*p+o.c*m+o.tx;m=o.b*p+o.d*m+o.ty,p=v}u++,r.push(p/c.width,m/c.height)}const f=n.baseTexture;(c.width<f.width||c.height<f.height)&&this.adjustUvs(r,n,h,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,u=n+i*2,h=r.frame,c=h.width/s.width,f=h.height/s.height;let p=h.x/h.width,m=h.y/h.height,v=Math.floor(e[n]+o),_=Math.floor(e[n+1]+o);for(let S=n+2;S<u;S+=2)v=Math.min(v,Math.floor(e[S]+o)),_=Math.min(_,Math.floor(e[S+1]+o));p-=v,m-=_;for(let S=n;S<u;S+=2)e[S]=(e[S]+p)*c,e[S+1]=(e[S+1]+m)*f}};pT.BATCHABLE_SIZE=100;let ID=pT;class Gd{constructor(){this.color=16777215,this.alpha=1,this.texture=J.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Gd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=J.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Py extends Gd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ki.BUTT,this.join=zr.MITER,this.miterLimit=10}clone(){const e=new Py;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Ki.BUTT,this.join=zr.MITER,this.miterLimit=10}}const mm={},t0=class _c extends sr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Gd,this._lineStyle=new Py,this._matrix=null,this._holeMode=!1,this.state=Qn.for2d(),this._geometry=e||new ID,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Ve(16777215),this.blendMode=Ee.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new _c(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:J.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ki.BUTT,join:zr.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Vs,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Vs,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Cy.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),Ay.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,u=Qx.curveTo(e,r,n,i,s,o);if(u){const{cx:h,cy:c,radius:f,startAngle:p,endAngle:m,anticlockwise:v}=u;this.arc(h,c,f,p,m,v)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=qc:o&&i<=s&&(i+=qc),s-i===0)return this;const u=e+Math.cos(i)*n,h=r+Math.sin(i)*n,c=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const p=Math.abs(f[f.length-2]-u),m=Math.abs(f[f.length-1]-h);p<c&&m<c||f.push(u,h)}else this.moveTo(u,h),f=this.currentPath.points;return Qx.arc(u,h,e,r,n,i,s,o,f),this}beginFill(e=0,r){return this.beginTextureFill({texture:J.WHITE,color:e,alpha:r})}normalizeColor(e){const r=Ve.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:J.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new be(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new Nd(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new Dd(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new Fd(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Vs(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Ht.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,u=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),h=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),c=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),f={vertexData:u,blendMode:r,indices:c,uvs:h,_batchRGB:Ve.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=f}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,Ve.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let u=0,h=o.length;u<h;u++)this._renderDrawCallDirect(e,n.drawCalls[u])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,u=n.count;for(let h=0;h<u;h++)e.texture.bind(n.elements[h],h);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!mm[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let h=0;h<i;h++)s[h]=h;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ke,default:gn.from({uSamplers:s},!0)},u=e.plugins[n]._shader.program;mm[n]=new Wn(u,o)}r=mm[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,_c._TEMP_POINT),this._geometry.containsPoint(_c._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=Ve.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,u=r.tx,h=r.ty,c=this._geometry.points,f=this.vertexData;let p=0;for(let m=0;m<c.length;m+=2){const v=c[m],_=c[m+1];f[p++]=n*v+s*_+u,f[p++]=o*_+i*v+h}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};t0.curves=xa,t0._TEMP_POINT=new Me;let Fl=t0;class kD extends Ud{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,u=this.width/s,h=this.height/o;for(let f=0;f<e;f++){const p=f%this.segWidth,m=f/this.segWidth|0;r.push(p*u,m*h),n.push(p/s,m/o)}const c=s*o;for(let f=0;f<c;f++){const p=f%s,m=f/s|0,v=m*this.segWidth+p,_=m*this.segWidth+p+1,S=(m+1)*this.segWidth+p,T=(m+1)*this.segWidth+p+1;i.push(v,_,S,_,T,S)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class MD extends Ud{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,h=e[0];const c=this._width*this.textureScale,f=e.length;for(let m=0;m<f;m++){const v=m*4;if(this.textureScale>0){const _=h.x-e[m].x,S=h.y-e[m].y,T=Math.sqrt(_*_+S*S);h=e[m],u+=T/c}else u=m/(f-1);s[v]=u,s[v+1]=0,s[v+2]=u,s[v+3]=1}let p=0;for(let m=0;m<f-1;m++){const v=m*2;o[p++]=v,o[p++]=v+1,o[p++]=v+2,o[p++]=v+2,o[p++]=v+1,o[p++]=v+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,u=e.length,h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<u;c++){const f=e[c],p=c*4;c<e.length-1?n=e[c+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=h,s*=h),o[p]=f.x+i,o[p+1]=f.y+s,o[p+2]=f.x-i,o[p+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class DD extends ru{constructor(e,r,n){const i=new kD(e.width,e.height,r,n),s=new nu(J.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const zh=10;class FD extends DD{constructor(e,r,n,i,s){var o,u,h,c;super(J.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??zh,this._rightWidth=i??((u=e.defaultBorders)==null?void 0:u.right)??zh,this._topHeight=n??((h=e.defaultBorders)==null?void 0:h.top)??zh,this._bottomHeight=s??((c=e.defaultBorders)==null?void 0:c.bottom)??zh,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class ND extends ru{constructor(e=J.EMPTY,r,n,i,s){const o=new Ud(r,n,i);o.getBuffer("aVertexPosition").static=!1;const u=new nu(e);super(o,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class BD extends ru{constructor(e,r,n=0){const i=new MD(e.height,r,n),s=new nu(e);n>0&&(e.baseTexture.wrapMode=fi.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class OD extends sr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Ee.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Ve(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Jx{constructor(e,r,n){this.geometry=new ls,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ye.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new vt(Kk(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];u.offset=r,r+=u.size,this.dynamicStride+=u.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new vt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new vt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===ye.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===ye.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ye.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ye.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var LD=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,UD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class gT extends Od{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ke,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ye.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Wn.from(UD,LD,{}),this.state=Qn.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const h=r[0]._texture.baseTexture,c=h.alphaMode>0;this.state.blendMode=gS(e.blendMode,c),s.state.set(this.state);const f=s.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=Ve.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let m=!1;for(let v=0,_=0;v<o;v+=i,_+=1){let S=o-v;S>i&&(S=i),_>=u.length&&u.push(this._generateOneMoreBuffer(e));const T=u[_];T.uploadDynamic(r,v,S);const E=e._bufferUpdateIDs[_]||0;m=m||T._updateID<E,m&&(T._updateID=e._updateID,T.uploadStatic(r,v,S)),s.geometry.bind(T.geometry),f.drawElements(f.TRIANGLES,S*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new Jx(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Jx(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let u=0,h=0,c=0,f=0;for(let p=0;p<n;++p){const m=e[r+p],v=m._texture,_=m.scale.x,S=m.scale.y,T=v.trim,E=v.orig;T?(h=T.x-m.anchor.x*E.width,u=h+T.width,f=T.y-m.anchor.y*E.height,c=f+T.height):(u=E.width*(1-m.anchor.x),h=E.width*-m.anchor.x,c=E.height*(1-m.anchor.y),f=E.height*-m.anchor.y),i[o]=h*_,i[o+1]=f*S,i[o+s]=u*_,i[o+s+1]=f*S,i[o+s*2]=u*_,i[o+s*2+1]=c*S,i[o+s*3]=h*_,i[o+s*3+1]=c*S,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let u=0;u<n;u++){const h=e[r+u].position;i[o]=h.x,i[o+1]=h.y,i[o+s]=h.x,i[o+s+1]=h.y,i[o+s*2]=h.x,i[o+s*2+1]=h.y,i[o+s*3]=h.x,i[o+s*3+1]=h.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let u=0;u<n;u++){const h=e[r+u].rotation;i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let u=0;u<n;++u){const h=e[r+u]._texture._uvs;h?(i[o]=h.x0,i[o+1]=h.y0,i[o+s]=h.x1,i[o+s+1]=h.y1,i[o+s*2]=h.x2,i[o+s*2+1]=h.y2,i[o+s*3]=h.x3,i[o+s*3+1]=h.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let u=0;u<n;++u){const h=e[r+u],c=Ve.shared.setValue(h._tintRGB).toPremultiplied(h.alpha,h.texture.baseTexture.alphaMode>0);i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}gT.extension={name:"particle",type:ie.RendererPlugin};fe.add(gT);class iu extends Kn{constructor(e,r=!0){super(e[0]instanceof J?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(bt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(bt.shared.add(this.update,this,us.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(J.from(e[n]));return new iu(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(J.from(e[n]));return new iu(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof J)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(bt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(bt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const al=new Me;class Ry extends Kn{constructor(e,r=100,n=100){super(e),this.tileTransform=new Bd,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Ey(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new be),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,al);const r=this._width,n=this._height,i=-r*this.anchor._x;if(al.x>=i&&al.x<i+r){const s=-n*this.anchor._y;if(al.y>=s&&al.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof J?e:J.from(e,r);return new Ry(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var zD=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,GD=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,HD=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,ew=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,$D=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Gh=new Ke;class yT extends Od{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new RS,this.state=Qn.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Wn.from(ew,$D,r),this.shader=e.context.webGLVersion>1?Wn.from(GD,zD,r):Wn.from(ew,HD,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const u=e._texture,h=u.baseTexture,c=h.alphaMode>0,f=e.tileTransform.localTransform,p=e.uvMatrix;let m=h.isPowerOfTwo&&u.frame.width===h.width&&u.frame.height===h.height;m&&(h._glTextures[r.CONTEXT_UID]?m=h.wrapMode!==fi.CLAMP:h.wrapMode===fi.CLAMP&&(h.wrapMode=fi.REPEAT));const v=m?this.simpleShader:this.shader,_=u.width,S=u.height,T=e._width,E=e._height;Gh.set(f.a*_/T,f.b*_/E,f.c*S/T,f.d*S/E,f.tx/T,f.ty/E),Gh.invert(),m?Gh.prepend(p.mapCoord):(v.uniforms.uMapCoord=p.mapCoord.toArray(!0),v.uniforms.uClampFrame=p.uClampFrame,v.uniforms.uClampOffset=p.uClampOffset),v.uniforms.uTransform=Gh.toArray(!0),v.uniforms.uColor=Ve.shared.setValue(e.tint).premultiply(e.worldAlpha,c).toArray(v.uniforms.uColor),v.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),v.uniforms.uSampler=u,r.shader.bind(v),r.geometry.bind(n),this.state.blendMode=gS(e.blendMode,c),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}yT.extension={name:"tilingSprite",type:ie.RendererPlugin};fe.add(yT);const vT=class r0{constructor(e){this.stage=new sr,e=Object.assign({forceCanvas:!1},e),this.renderer=h3(e),r0._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=r0._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};vT._plugins=[];let Hd=vT;fe.handleByList(ie.Application,Hd._plugins);class _T{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}_T.extension=ie.Application;fe.add(_T);var xT={exports:{}},jD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WD=jD,VD=WD;function wT(){}function ET(){}ET.resetWarningCache=wT;var XD=function(){function t(n,i,s,o,u,h){if(h!==VD){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ET,resetWarningCache:wT};return r.PropTypes=r,r};xT.exports=XD();var YD=xT.exports;const Ye=dd(YD);function Pr(t){return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(t)}function bT(t){var e=function(r,n){if(Pr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Pr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Pr(e)==="symbol"?e:String(e)}function yt(t,e,r){return(e=bT(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gm(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wi(t){return function(e){if(Array.isArray(e))return gm(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return gm(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gm(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ft(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var QD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qD=function(t){return t==null};function yl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=wi(t);else{if(t===null||Pr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!qD(r)&&!isNaN(r)}).map(Number)}function tw(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function ym(t){return t instanceof Me||t instanceof Gn}var ad=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function vm(t,e,r){if(ym(t[e])&&ym(r))t[e].copyFrom(r);else if(ym(t[e])){var n=yl(r);ft(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(r),Pr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Co,ST=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},TT=function(t){return function(){return!t.apply(void 0,arguments)}},n0="children",ZD=(yt(Co={},n0,!0),yt(Co,"parent",!0),yt(Co,"worldAlpha",!0),yt(Co,"worldTransform",!0),yt(Co,"worldVisible",!0),Co),i0={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Xn=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(u){return requestAnimationFrame(function(){var h,c;u==null||(h=u.__reactpixi)===null||h===void 0||(c=h.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,h){if(r.hasOwnProperty(u))return ft(h.typeofs.some(function(c){return Pr(r[u])===c})||h.instanceofs.some(function(c){return r[u]instanceof c}),"".concat(t," ").concat(u," prop is invalid")),r[u]};if(r.texture)return ft(r.texture instanceof J,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,J]});ft(!!s,"".concat(t," could not get texture from props"));var o=J.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},JD=TT(ST([].concat(wi(Object.keys(ZD)),wi(ad))));function Yn(t,e,r){var n=!1;if(ft(rt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Pr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<ad.length;o++){var u=ad[o];e[u]!==r[u]&&(n=!0,typeof e[u]=="function"&&i&&t.removeListener(u,e[u]),typeof r[u]=="function"&&s&&t.on(u,r[u]))}var h=Object.keys(r||{});if(r.overwriteProps){for(var c=0;c<h.length;c++){var f=h[c];e[f]!==r[f]&&(n=!0,vm(t,f,r[f]))}return n}for(var p=h.filter(JD),m=0;m<p.length;m++){var v=p[m],_=r[v];r[v]!==e[v]&&(n=!0),_!==void 0?vm(t,v,_):v in i0?(console.warn("setting default value: ".concat(v,", from: ").concat(t[v]," to: ").concat(_," for"),t),n=!0,vm(t,v,i0[v])):console.warn("ignoring prop: ".concat(v,", from ").concat(t[v]," to ").concat(_," for"),t)}return n}var eF=function(t,e){var r=e.text,n=e.style;return new N3(r,n)},tF=function(){return new sr};function ms(t,e){if(t==null)return{};var r,n,i=function(o,u){if(o==null)return{};var h,c,f={},p=Object.keys(o);for(c=0;c<p.length;c++)h=p[c],u.indexOf(h)>=0||(f[h]=o[h]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var rF=["draw","geometry"],nF=function(t,e){var r=e.geometry;ft(!r||r instanceof Fl,"Graphics geometry needs to be a `Graphics`");var n=r?new Fl(r.geometry):new Fl;return n.applyProps=function(i,s,o){var u=o.draw;o.geometry;var h=Yn(i,s,ms(o,rF));return s.draw!==u&&typeof u=="function"&&(h=!0,u.call(n,n)),h},n},iF=["image","texture"],sF=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,u=o===void 0?10:o,h=e.bottomHeight,c=h===void 0?10:h,f=Xn("NineSlicePlane",t,e),p=new FD(f,n,s,u,c);return p.applyProps=function(m,v,_){var S=_.image,T=_.texture,E=Yn(m,v,ms(_,iF));return(S||T)&&(T!==v.texture&&(E=!0),m.texture=Xn("NineSlicePlane",t,_)),E},p};function rw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rw(Object(r),!0).forEach(function(n){yt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oF=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,u=o!==void 0&&o,h=Hh(Hh({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),c=Hh(Hh({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new OD(n,h,s,u);return f.willUnmount=function(p,m,v){p.destroy(c)},f},aF=["image","texture"],lF=function(t,e){var r=new Kn(Xn("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,u=s.texture,h=Yn(n,i,ms(s,aF));return(u&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(h=!0),n.texture=Xn("Sprite",t,s)),h},r},uF=["textures","isPlaying","initialFrame","images"],hF=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,u=function(c){return c.map(function(f){return ft(f instanceof J||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),f})},h=n?iu.fromImages(n):new iu(u(r));return h[s?"gotoAndPlay":"gotoAndStop"](o||0),h.applyProps=function(c,f,p){var m=p.textures,v=p.isPlaying,_=p.initialFrame,S=p.images,T=Yn(c,f,ms(p,uF));if(S&&f.images!==S){for(var E=[],b=0;b<S.length;++b)E.push(J.from(S[b]));c.textures=E,T=!0}if(m&&f.textures!==m&&(c.textures=u(m),T=!0),v!==f.isPlaying||_!==f.initialFrame){var w=typeof _=="number"?_:h.currentFrame||0;h[v?"gotoAndPlay":"gotoAndStop"](w),T=!0}return T},h},cF=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,u=new Sy(n,s);return o?(u.updateText(),new Kn(u.texture)):u},dF=["tileScale","tilePosition","image","texture"],fF=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=Xn("TilingSprite",t,e),u=new Ry(o,n,s);return u.applyProps=function(h,c,f){var p=f.tileScale,m=f.tilePosition,v=f.image,_=f.texture,S=Yn(h,c,ms(f,dF));if(m){var T,E=yl(m);(T=h.tilePosition).set.apply(T,wi(E)),S=!tw(yl(c.tilePosition),E)||S}if(p){var b,w=yl(p);(b=h.tileScale).set.apply(b,wi(w)),S=!tw(yl(c.tileScale),w)||S}return(v||_)&&(_!==c.texture&&(S=!0),h.texture=Xn("Sprite",t,f)),S},u},pF=["image","texture"],mF=function(t,e){var r=Xn("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,u=o===void 0?cn.TRIANGLES:o,h=new ND(r,n,i,s,u);return h.applyProps=function(c,f,p){var m=p.image,v=p.texture,_=Yn(c,f,ms(p,pF));return(m||v)&&(v!==f.texture&&(_=!0),c.texture=Xn("Mesh",t,p)),_},h},gF=["image","texture"],yF=function(t,e){var r=Xn("SimpleRope",t,e),n=e.points,i=new BD(r,n);return i.applyProps=function(s,o,u){var h=u.image,c=u.texture,f=ms(u,gF);ft(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<Point>");var p=Yn(s,o,f);return(h||c)&&(c!==o.texture&&(p=!0),s.texture=Xn("SimpleRope",t,u)),p},i},vF=Object.freeze({__proto__:null,BitmapText:eF,Container:tF,Graphics:nF,NineSlicePlane:sF,ParticleContainer:oF,Sprite:lF,Text:cF,TilingSprite:fF,SimpleMesh:mF,SimpleRope:yF,AnimatedSprite:hF});function nw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nw(Object(r),!0).forEach(function(n){yt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var vr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},_F=Object.keys(vr).reduce(function(t,e){return iw(iw({},t),{},yt({},e,vF[e]))},{}),AT={};function xF(t,e){return ft(!!t,"Expect type to be defined, got `%s`",t),ft(!vr[t],"Component `%s` could not be created, already exists in default components.",t),AT[t]=e,t}var sw,ow,aw,lw,s0={},o0={},wF={get exports(){return o0},set exports(t){o0=t}},uw={};function EF(){return ow||(ow=1,wF.exports=(sw||(sw=1,function(t){function e(I,G){var F=I.length;I.push(G);e:for(;0<F;){var L=F-1>>>1,te=I[L];if(!(0<i(te,G)))break e;I[L]=G,I[F]=te,F=L}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var G=I[0],F=I.pop();if(F!==G){I[0]=F;e:for(var L=0,te=I.length,Ae=te>>>1;L<Ae;){var xe=2*(L+1)-1,Pe=I[xe],Se=xe+1,De=I[Se];if(0>i(Pe,F))Se<te&&0>i(De,Pe)?(I[L]=De,I[Se]=F,L=Se):(I[L]=Pe,I[xe]=F,L=xe);else{if(!(Se<te&&0>i(De,F)))break e;I[L]=De,I[Se]=F,L=Se}}}return G}function i(I,G){var F=I.sortIndex-G.sortIndex;return F!==0?F:I.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],c=[],f=1,p=null,m=3,v=!1,_=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function w(I){for(var G=r(c);G!==null;){if(G.callback===null)n(c);else{if(!(G.startTime<=I))break;n(c),G.sortIndex=G.expirationTime,e(h,G)}G=r(c)}}function A(I){if(S=!1,w(I),!_)if(r(h)!==null)_=!0,le(R);else{var G=r(c);G!==null&&se(A,G.startTime-I)}}function R(I,G){_=!1,S&&(S=!1,E(V),V=-1),v=!0;var F=m;try{for(w(G),p=r(h);p!==null&&(!(p.expirationTime>G)||I&&!K());){var L=p.callback;if(typeof L=="function"){p.callback=null,m=p.priorityLevel;var te=L(p.expirationTime<=G);G=t.unstable_now(),typeof te=="function"?p.callback=te:p===r(h)&&n(h),w(G)}else n(h);p=r(h)}if(p!==null)var Ae=!0;else{var xe=r(c);xe!==null&&se(A,xe.startTime-G),Ae=!1}return Ae}finally{p=null,m=F,v=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,D=!1,k=null,V=-1,$=5,ce=-1;function K(){return!(t.unstable_now()-ce<$)}function N(){if(k!==null){var I=t.unstable_now();ce=I;var G=!0;try{G=k(!0,I)}finally{G?O():(D=!1,k=null)}}else D=!1}if(typeof b=="function")O=function(){b(N)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ee=X.port2;X.port1.onmessage=N,O=function(){ee.postMessage(null)}}else O=function(){T(N,0)};function le(I){k=I,D||(D=!0,O())}function se(I,G){V=T(function(){I(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,le(R))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(I){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var F=m;m=G;try{return I()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var F=m;m=I;try{return G()}finally{m=F}},t.unstable_scheduleCallback=function(I,G,F){var L=t.unstable_now();switch(F=typeof F=="object"&&F!==null&&typeof(F=F.delay)=="number"&&0<F?L+F:L,I){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return I={id:f++,callback:G,priorityLevel:I,startTime:F,expirationTime:te=F+te,sortIndex:-1},F>L?(I.sortIndex=F,e(c,I),r(h)===null&&I===r(c)&&(S?(E(V),V=-1):S=!0,se(A,F-L))):(I.sortIndex=te,e(h,I),_||v||(_=!0,le(R))),I},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(I){var G=m;return function(){var F=m;m=G;try{return I.apply(this,arguments)}finally{m=F}}}}(uw)),uw)),o0}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function bF(){return lw||(lw=1,aw=function(t){var e={},r=ci,n=EF(),i=Object.assign;function s(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),h=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),A=Symbol.iterator;function R(a){return a===null||typeof a!="object"?null:typeof(a=A&&a[A]||a["@@iterator"])=="function"?a:null}function O(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case c:return"Fragment";case h:return"Portal";case p:return"Profiler";case f:return"StrictMode";case S:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case v:return(a.displayName||"Context")+".Consumer";case m:return(a._context.displayName||"Context")+".Provider";case _:var l=a.render;return(a=a.displayName)||(a=(a=l.displayName||l.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case E:return(l=a.displayName||null)!==null?l:O(a.type)||"Memo";case b:l=a._payload,a=a._init;try{return O(a(l))}catch{}}return null}function D(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=l.render).displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(l);case 8:return l===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function k(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do 4098&(l=a).flags&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function V(a){if(k(a)!==a)throw Error(s(188))}function $(a){var l=a.alternate;if(!l){if((l=k(a))===null)throw Error(s(188));return l!==a?null:a}for(var d=a,g=l;;){var y=d.return;if(y===null)break;var x=y.alternate;if(x===null){if((g=y.return)!==null){d=g;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===d)return V(y),a;if(x===g)return V(y),l;x=x.sibling}throw Error(s(188))}if(d.return!==g.return)d=y,g=x;else{for(var C=!1,P=y.child;P;){if(P===d){C=!0,d=y,g=x;break}if(P===g){C=!0,g=y,d=x;break}P=P.sibling}if(!C){for(P=x.child;P;){if(P===d){C=!0,d=x,g=y;break}if(P===g){C=!0,g=x,d=y;break}P=P.sibling}if(!C)throw Error(s(189))}}if(d.alternate!==g)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?a:l}function ce(a){return(a=$(a))!==null?K(a):null}function K(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=K(a);if(l!==null)return l;a=a.sibling}return null}function N(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var l=N(a);if(l!==null)return l}a=a.sibling}return null}var X,ee=Array.isArray,le=t.getPublicInstance,se=t.getRootHostContext,I=t.getChildHostContext,G=t.prepareForCommit,F=t.resetAfterCommit,L=t.createInstance,te=t.appendInitialChild,Ae=t.finalizeInitialChildren,xe=t.prepareUpdate,Pe=t.shouldSetTextContent,Se=t.createTextInstance,De=t.scheduleTimeout,qe=t.cancelTimeout,pt=t.noTimeout,$e=t.isPrimaryRenderer,Te=t.supportsMutation,Ue=t.supportsPersistence,re=t.supportsHydration,mt=t.getInstanceFromNode,nt=t.preparePortalMount,_r=t.getCurrentEventPriority,Ca=t.detachDeletedInstance,bi=t.supportsMicrotasks,jd=t.scheduleMicrotask,gs=t.supportsTestSelectors,Wd=t.findFiberRoot,jT=t.getBoundingRect,WT=t.getTextContent,Pa=t.isHiddenSubtree,VT=t.matchAccessibilityRole,XT=t.setFocusIfFocusable,YT=t.setupIntersectionObserver,QT=t.appendChild,KT=t.appendChildToContainer,qT=t.commitTextUpdate,ZT=t.commitMount,JT=t.commitUpdate,eA=t.insertBefore,tA=t.insertInContainerBefore,rA=t.removeChild,nA=t.removeChildFromContainer,Iy=t.resetTextContent,iA=t.hideInstance,sA=t.hideTextInstance,oA=t.unhideInstance,aA=t.unhideTextInstance,lA=t.clearContainer,uA=t.cloneInstance,ky=t.createContainerChildSet,My=t.appendChildToContainerChildSet,hA=t.finalizeContainerChildren,Vd=t.replaceContainerChildren,Dy=t.cloneHiddenInstance,Fy=t.cloneHiddenTextInstance,cA=t.canHydrateInstance,dA=t.canHydrateTextInstance,fA=t.canHydrateSuspenseInstance,Ny=t.isSuspenseInstancePending,Xd=t.isSuspenseInstanceFallback,pA=t.getSuspenseInstanceFallbackErrorDetails,mA=t.registerSuspenseInstanceRetry,gu=t.getNextHydratableSibling,gA=t.getFirstHydratableChild,yA=t.getFirstHydratableChildWithinContainer,vA=t.getFirstHydratableChildWithinSuspenseInstance,_A=t.hydrateInstance,xA=t.hydrateTextInstance,wA=t.hydrateSuspenseInstance,EA=t.getNextHydratableInstanceAfterSuspenseInstance,bA=t.commitHydratedContainer,SA=t.commitHydratedSuspenseInstance,TA=t.clearSuspenseBoundary,AA=t.clearSuspenseBoundaryFromContainer,CA=t.shouldDeleteUnhydratedTailInstances,PA=t.didNotMatchHydratedContainerTextInstance,RA=t.didNotMatchHydratedTextInstance;function Ra(a){if(X===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);X=l&&l[1]||""}return`
`+X+a}var Yd=!1;function Qd(a,l){if(!a||Yd)return"";Yd=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(z){var g=z}Reflect.construct(a,[],l)}else{try{l.call()}catch(z){g=z}a.call(l.prototype)}else{try{throw Error()}catch(z){g=z}a()}}catch(z){if(z&&g&&typeof z.stack=="string"){for(var y=z.stack.split(`
`),x=g.stack.split(`
`),C=y.length-1,P=x.length-1;1<=C&&0<=P&&y[C]!==x[P];)P--;for(;1<=C&&0<=P;C--,P--)if(y[C]!==x[P]){if(C!==1||P!==1)do if(C--,0>--P||y[C]!==x[P]){var B=`
`+y[C].replace(" at new "," at ");return a.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",a.displayName)),B}while(1<=C&&0<=P);break}}}finally{Yd=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?Ra(a):""}var IA=Object.prototype.hasOwnProperty,Kd=[],so=-1;function Si(a){return{current:a}}function Ze(a){0>so||(a.current=Kd[so],Kd[so]=null,so--)}function je(a,l){so++,Kd[so]=a.current,a.current=l}var Ti={},Wt=Si(Ti),lr=Si(!1),ys=Ti;function oo(a,l){var d=a.type.contextTypes;if(!d)return Ti;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var y,x={};for(y in d)x[y]=l[y];return g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=x),x}function xr(a){return(a=a.childContextTypes)!=null}function qd(){Ze(lr),Ze(Wt)}function By(a,l,d){if(Wt.current!==Ti)throw Error(s(168));je(Wt,l),je(lr,d)}function Oy(a,l,d){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;for(var y in g=g.getChildContext())if(!(y in l))throw Error(s(108,D(a)||"Unknown",y));return i({},d,g)}function yu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ti,ys=Wt.current,je(Wt,a),je(lr,lr.current),!0}function Ly(a,l,d){var g=a.stateNode;if(!g)throw Error(s(169));d?(a=Oy(a,l,ys),g.__reactInternalMemoizedMergedChildContext=a,Ze(lr),Ze(Wt),je(Wt,a)):Ze(lr),je(lr,d)}var Kr=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(kA(a)/MA|0)|0},kA=Math.log,MA=Math.LN2,Zd=64,Jd=4194304;function Ia(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function vu(a,l){var d=a.pendingLanes;if(d===0)return 0;var g=0,y=a.suspendedLanes,x=a.pingedLanes,C=268435455&d;if(C!==0){var P=C&~y;P!==0?g=Ia(P):(x&=C)!==0&&(g=Ia(x))}else(C=d&~y)!==0?g=Ia(C):x!==0&&(g=Ia(x));if(g===0)return 0;if(l!==0&&l!==g&&!(l&y)&&((y=g&-g)>=(x=l&-l)||y===16&&4194240&x))return l;if(4&g&&(g|=16&d),(l=a.entangledLanes)!==0)for(a=a.entanglements,l&=g;0<l;)y=1<<(d=31-Kr(l)),g|=a[d],l&=~y;return g}function DA(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;default:return-1}}function ef(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function Uy(){var a=Zd;return!(4194240&(Zd<<=1))&&(Zd=64),a}function tf(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function ka(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[l=31-Kr(l)]=d}function rf(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-Kr(d),y=1<<g;y&l|a[g]&l&&(a[g]|=l),d&=~y}}var Be=0;function zy(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var nf=n.unstable_scheduleCallback,Gy=n.unstable_cancelCallback,FA=n.unstable_shouldYield,NA=n.unstable_requestPaint,Rt=n.unstable_now,sf=n.unstable_ImmediatePriority,BA=n.unstable_UserBlockingPriority,Hy=n.unstable_NormalPriority,OA=n.unstable_IdlePriority,_u=null,_n=null,qr=typeof Object.is=="function"?Object.is:function(a,l){return a===l&&(a!==0||1/a==1/l)||a!=a&&l!=l},qn=null,xu=!1,of=!1;function $y(a){qn===null?qn=[a]:qn.push(a)}function xn(){if(!of&&qn!==null){of=!0;var a=0,l=Be;try{var d=qn;for(Be=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}qn=null,xu=!1}catch(y){throw qn!==null&&(qn=qn.slice(a+1)),nf(sf,xn),y}finally{Be=l,of=!1}}return null}var ao=[],lo=0,wu=null,Eu=0,Mr=[],Dr=0,vs=null,wn=1,Zn="";function _s(a,l){ao[lo++]=Eu,ao[lo++]=wu,wu=a,Eu=l}function jy(a,l,d){Mr[Dr++]=wn,Mr[Dr++]=Zn,Mr[Dr++]=vs,vs=a;var g=wn;a=Zn;var y=32-Kr(g)-1;g&=~(1<<y),d+=1;var x=32-Kr(l)+y;if(30<x){var C=y-y%5;x=(g&(1<<C)-1).toString(32),g>>=C,y-=C,wn=1<<32-Kr(l)+y|d<<y|g,Zn=x+a}else wn=1<<x|d<<y|g,Zn=a}function af(a){a.return!==null&&(_s(a,1),jy(a,1,0))}function lf(a){for(;a===wu;)wu=ao[--lo],ao[lo]=null,Eu=ao[--lo],ao[lo]=null;for(;a===vs;)vs=Mr[--Dr],Mr[Dr]=null,Zn=Mr[--Dr],Mr[Dr]=null,wn=Mr[--Dr],Mr[Dr]=null}var wr=null,Fr=null,Je=!1,Ma=!1,Zr=null;function Wy(a,l){var d=Ur(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,(l=a.deletions)===null?(a.deletions=[d],a.flags|=16):l.push(d)}function Vy(a,l){switch(a.tag){case 5:return(l=cA(l,a.type,a.pendingProps))!==null&&(a.stateNode=l,wr=a,Fr=gA(l),!0);case 6:return(l=dA(l,a.pendingProps))!==null&&(a.stateNode=l,wr=a,Fr=null,!0);case 13:if((l=fA(l))!==null){var d=vs!==null?{id:wn,overflow:Zn}:null;return a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},(d=Ur(18,null,null,0)).stateNode=l,d.return=a,a.child=d,wr=a,Fr=null,!0}return!1;default:return!1}}function uf(a){return(1&a.mode)!=0&&(128&a.flags)==0}function hf(a){if(Je){var l=Fr;if(l){var d=l;if(!Vy(a,l)){if(uf(a))throw Error(s(418));l=gu(d);var g=wr;l&&Vy(a,l)?Wy(g,d):(a.flags=-4097&a.flags|2,Je=!1,wr=a)}}else{if(uf(a))throw Error(s(418));a.flags=-4097&a.flags|2,Je=!1,wr=a}}}function Xy(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;wr=a}function bu(a){if(!re||a!==wr)return!1;if(!Je)return Xy(a),Je=!0,!1;if(a.tag!==3&&(a.tag!==5||CA(a.type)&&!Pe(a.type,a.memoizedProps))){var l=Fr;if(l){if(uf(a))throw Yy(),Error(s(418));for(;l;)Wy(a,l),l=gu(l)}}if(Xy(a),a.tag===13){if(!re)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Fr=EA(a)}else Fr=wr?gu(a.stateNode):null;return!0}function Yy(){for(var a=Fr;a;)a=gu(a)}function uo(){re&&(Fr=wr=null,Ma=Je=!1)}function cf(a){Zr===null?Zr=[a]:Zr.push(a)}var LA=o.ReactCurrentBatchConfig;function Su(a,l){if(qr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var y=d[g];if(!IA.call(l,y)||!qr(a[y],l[y]))return!1}return!0}function UA(a){switch(a.tag){case 5:return Ra(a.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return a=Qd(a.type,!1);case 11:return a=Qd(a.type.render,!1);case 1:return a=Qd(a.type,!0);default:return""}}function Jr(a,l){if(a&&a.defaultProps){for(var d in l=i({},l),a=a.defaultProps)l[d]===void 0&&(l[d]=a[d]);return l}return l}var Tu=Si(null),Au=null,ho=null,df=null;function ff(){df=ho=Au=null}function Qy(a,l,d){$e?(je(Tu,l._currentValue),l._currentValue=d):(je(Tu,l._currentValue2),l._currentValue2=d)}function pf(a){var l=Tu.current;Ze(Tu),$e?a._currentValue=l:a._currentValue2=l}function mf(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function co(a,l){Au=a,df=ho=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&l&&(ur=!0),a.firstContext=null)}function Nr(a){var l=$e?a._currentValue:a._currentValue2;if(df!==a)if(a={context:a,memoizedValue:l,next:null},ho===null){if(Au===null)throw Error(s(308));ho=a,Au.dependencies={lanes:0,firstContext:a}}else ho=ho.next=a;return l}var xs=null;function gf(a){xs===null?xs=[a]:xs.push(a)}function Ky(a,l,d,g){var y=l.interleaved;return y===null?(d.next=d,gf(l)):(d.next=y.next,y.next=d),l.interleaved=d,En(a,g)}function En(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,(d=a.alternate)!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Ai=!1;function yf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qy(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Jn(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Ci(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(2&Fe)!=0){var y=g.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),g.pending=l,En(a,d)}return(y=g.interleaved)===null?(l.next=l,gf(g)):(l.next=y.next,y.next=l),g.interleaved=l,En(a,d)}function Cu(a,l,d){if((l=l.updateQueue)!==null&&(l=l.shared,(4194240&d)!=0)){var g=l.lanes;d|=g&=a.pendingLanes,l.lanes=d,rf(a,d)}}function Zy(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&d===(g=g.updateQueue)){var y=null,x=null;if((d=d.firstBaseUpdate)!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};x===null?y=x=C:x=x.next=C,d=d.next}while(d!==null);x===null?y=x=l:x=x.next=l}else y=x=l;return d={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:g.shared,effects:g.effects},void(a.updateQueue=d)}(a=d.lastBaseUpdate)===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function Pu(a,l,d,g){var y=a.updateQueue;Ai=!1;var x=y.firstBaseUpdate,C=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var B=P,z=B.next;B.next=null,C===null?x=z:C.next=z,C=B;var j=a.alternate;j!==null&&(P=(j=j.updateQueue).lastBaseUpdate)!==C&&(P===null?j.firstBaseUpdate=z:P.next=z,j.lastBaseUpdate=B)}if(x!==null){var ne=y.baseState;for(C=0,j=z=B=null,P=x;;){var H=P.lane,q=P.eventTime;if((g&H)===H){j!==null&&(j=j.next={eventTime:q,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var de=a,Ce=P;switch(H=l,q=d,Ce.tag){case 1:if(typeof(de=Ce.payload)=="function"){ne=de.call(q,ne,H);break e}ne=de;break e;case 3:de.flags=-65537&de.flags|128;case 0:if((H=typeof(de=Ce.payload)=="function"?de.call(q,ne,H):de)==null)break e;ne=i({},ne,H);break e;case 2:Ai=!0}}P.callback!==null&&P.lane!==0&&(a.flags|=64,(H=y.effects)===null?y.effects=[P]:H.push(P))}else q={eventTime:q,lane:H,tag:P.tag,payload:P.payload,callback:P.callback,next:null},j===null?(z=j=q,B=ne):j=j.next=q,C|=H;if((P=P.next)===null){if((P=y.shared.pending)===null)break;P=(H=P).next,H.next=null,y.lastBaseUpdate=H,y.shared.pending=null}}if(j===null&&(B=ne),y.baseState=B,y.firstBaseUpdate=z,y.lastBaseUpdate=j,(l=y.shared.interleaved)!==null){y=l;do C|=y.lane,y=y.next;while(y!==l)}else x===null&&(y.shared.lanes=0);Es|=C,a.lanes=C,a.memoizedState=ne}}function Jy(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],y=g.callback;if(y!==null){if(g.callback=null,g=d,typeof y!="function")throw Error(s(191,y));y.call(g)}}}var ev=new r.Component().refs;function vf(a,l,d,g){d=(d=d(g,l=a.memoizedState))==null?l:i({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Ru={isMounted:function(a){return!!(a=a._reactInternals)&&k(a)===a},enqueueSetState:function(a,l,d){a=a._reactInternals;var g=Yt(),y=ki(a),x=Jn(g,y);x.payload=l,d!=null&&(x.callback=d),(l=Ci(a,x,y))!==null&&(Lr(l,a,y,g),Cu(l,a,y))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=Yt(),y=ki(a),x=Jn(g,y);x.tag=1,x.payload=l,d!=null&&(x.callback=d),(l=Ci(a,x,y))!==null&&(Lr(l,a,y,g),Cu(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Yt(),g=ki(a),y=Jn(d,g);y.tag=2,l!=null&&(y.callback=l),(l=Ci(a,y,g))!==null&&(Lr(l,a,g,d),Cu(l,a,g))}};function tv(a,l,d,g,y,x,C){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,x,C):!l.prototype||!l.prototype.isPureReactComponent||!Su(d,g)||!Su(y,x)}function rv(a,l,d){var g=!1,y=Ti,x=l.contextType;return typeof x=="object"&&x!==null?x=Nr(x):(y=xr(l)?ys:Wt.current,x=(g=(g=l.contextTypes)!=null)?oo(a,y):Ti),l=new l(d,x),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ru,a.stateNode=l,l._reactInternals=a,g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=x),l}function nv(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&Ru.enqueueReplaceState(l,l.state,null)}function _f(a,l,d,g){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs=ev,yf(a);var x=l.contextType;typeof x=="object"&&x!==null?y.context=Nr(x):(x=xr(l)?ys:Wt.current,y.context=oo(a,x)),y.state=a.memoizedState,typeof(x=l.getDerivedStateFromProps)=="function"&&(vf(a,l,x,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Ru.enqueueReplaceState(y,y.state,null),Pu(a,d,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Da(a,l,d){if((a=d.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner){if(d.tag!==1)throw Error(s(309));var g=d.stateNode}if(!g)throw Error(s(147,a));var y=g,x=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===x?l.ref:(l=function(C){var P=y.refs;P===ev&&(P=y.refs={}),C===null?delete P[x]:P[x]=C},l._stringRef=x,l)}if(typeof a!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,a))}return a}function Iu(a,l){throw a=Object.prototype.toString.call(l),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function iv(a){return(0,a._init)(a._payload)}function sv(a){function l(W,M){if(a){var U=W.deletions;U===null?(W.deletions=[M],W.flags|=16):U.push(M)}}function d(W,M){if(!a)return null;for(;M!==null;)l(W,M),M=M.sibling;return null}function g(W,M){for(W=new Map;M!==null;)M.key!==null?W.set(M.key,M):W.set(M.index,M),M=M.sibling;return W}function y(W,M){return(W=Di(W,M)).index=0,W.sibling=null,W}function x(W,M,U){return W.index=U,a?(U=W.alternate)!==null?(U=U.index)<M?(W.flags|=2,M):U:(W.flags|=2,M):(W.flags|=1048576,M)}function C(W){return a&&W.alternate===null&&(W.flags|=2),W}function P(W,M,U,Y){return M===null||M.tag!==6?((M=sp(U,W.mode,Y)).return=W,M):((M=y(M,U)).return=W,M)}function B(W,M,U,Y){var _e=U.type;return _e===c?j(W,M,U.props.children,Y,U.key):M!==null&&(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===b&&iv(_e)===M.type)?((Y=y(M,U.props)).ref=Da(W,M,U),Y.return=W,Y):((Y=rh(U.type,U.key,U.props,null,W.mode,Y)).ref=Da(W,M,U),Y.return=W,Y)}function z(W,M,U,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?((M=op(U,W.mode,Y)).return=W,M):((M=y(M,U.children||[])).return=W,M)}function j(W,M,U,Y,_e){return M===null||M.tag!==7?((M=Ts(U,W.mode,Y,_e)).return=W,M):((M=y(M,U)).return=W,M)}function ne(W,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return(M=sp(""+M,W.mode,U)).return=W,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case u:return(U=rh(M.type,M.key,M.props,null,W.mode,U)).ref=Da(W,null,M),U.return=W,U;case h:return(M=op(M,W.mode,U)).return=W,M;case b:return ne(W,(0,M._init)(M._payload),U)}if(ee(M)||R(M))return(M=Ts(M,W.mode,U,null)).return=W,M;Iu(W,M)}return null}function H(W,M,U,Y){var _e=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return _e!==null?null:P(W,M,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case u:return U.key===_e?B(W,M,U,Y):null;case h:return U.key===_e?z(W,M,U,Y):null;case b:return H(W,M,(_e=U._init)(U._payload),Y)}if(ee(U)||R(U))return _e!==null?null:j(W,M,U,Y,null);Iu(W,U)}return null}function q(W,M,U,Y,_e){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return P(M,W=W.get(U)||null,""+Y,_e);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case u:return B(M,W=W.get(Y.key===null?U:Y.key)||null,Y,_e);case h:return z(M,W=W.get(Y.key===null?U:Y.key)||null,Y,_e);case b:return q(W,M,U,(0,Y._init)(Y._payload),_e)}if(ee(Y)||R(Y))return j(M,W=W.get(U)||null,Y,_e,null);Iu(M,Y)}return null}function de(W,M,U,Y){for(var _e=null,ze=null,pe=M,Oe=M=0,Ut=null;pe!==null&&Oe<U.length;Oe++){pe.index>Oe?(Ut=pe,pe=null):Ut=pe.sibling;var Ge=H(W,pe,U[Oe],Y);if(Ge===null){pe===null&&(pe=Ut);break}a&&pe&&Ge.alternate===null&&l(W,pe),M=x(Ge,M,Oe),ze===null?_e=Ge:ze.sibling=Ge,ze=Ge,pe=Ut}if(Oe===U.length)return d(W,pe),Je&&_s(W,Oe),_e;if(pe===null){for(;Oe<U.length;Oe++)(pe=ne(W,U[Oe],Y))!==null&&(M=x(pe,M,Oe),ze===null?_e=pe:ze.sibling=pe,ze=pe);return Je&&_s(W,Oe),_e}for(pe=g(W,pe);Oe<U.length;Oe++)(Ut=q(pe,W,Oe,U[Oe],Y))!==null&&(a&&Ut.alternate!==null&&pe.delete(Ut.key===null?Oe:Ut.key),M=x(Ut,M,Oe),ze===null?_e=Ut:ze.sibling=Ut,ze=Ut);return a&&pe.forEach(function(Fi){return l(W,Fi)}),Je&&_s(W,Oe),_e}function Ce(W,M,U,Y){var _e=R(U);if(typeof _e!="function")throw Error(s(150));if((U=_e.call(U))==null)throw Error(s(151));for(var ze=_e=null,pe=M,Oe=M=0,Ut=null,Ge=U.next();pe!==null&&!Ge.done;Oe++,Ge=U.next()){pe.index>Oe?(Ut=pe,pe=null):Ut=pe.sibling;var Fi=H(W,pe,Ge.value,Y);if(Fi===null){pe===null&&(pe=Ut);break}a&&pe&&Fi.alternate===null&&l(W,pe),M=x(Fi,M,Oe),ze===null?_e=Fi:ze.sibling=Fi,ze=Fi,pe=Ut}if(Ge.done)return d(W,pe),Je&&_s(W,Oe),_e;if(pe===null){for(;!Ge.done;Oe++,Ge=U.next())(Ge=ne(W,Ge.value,Y))!==null&&(M=x(Ge,M,Oe),ze===null?_e=Ge:ze.sibling=Ge,ze=Ge);return Je&&_s(W,Oe),_e}for(pe=g(W,pe);!Ge.done;Oe++,Ge=U.next())(Ge=q(pe,W,Oe,Ge.value,Y))!==null&&(a&&Ge.alternate!==null&&pe.delete(Ge.key===null?Oe:Ge.key),M=x(Ge,M,Oe),ze===null?_e=Ge:ze.sibling=Ge,ze=Ge);return a&&pe.forEach(function(uC){return l(W,uC)}),Je&&_s(W,Oe),_e}return function W(M,U,Y,_e){if(typeof Y=="object"&&Y!==null&&Y.type===c&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case u:e:{for(var ze=Y.key,pe=U;pe!==null;){if(pe.key===ze){if((ze=Y.type)===c){if(pe.tag===7){d(M,pe.sibling),(U=y(pe,Y.props.children)).return=M,M=U;break e}}else if(pe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===b&&iv(ze)===pe.type){d(M,pe.sibling),(U=y(pe,Y.props)).ref=Da(M,pe,Y),U.return=M,M=U;break e}d(M,pe);break}l(M,pe),pe=pe.sibling}Y.type===c?((U=Ts(Y.props.children,M.mode,_e,Y.key)).return=M,M=U):((_e=rh(Y.type,Y.key,Y.props,null,M.mode,_e)).ref=Da(M,U,Y),_e.return=M,M=_e)}return C(M);case h:e:{for(pe=Y.key;U!==null;){if(U.key===pe){if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){d(M,U.sibling),(U=y(U,Y.children||[])).return=M,M=U;break e}d(M,U);break}l(M,U),U=U.sibling}(U=op(Y,M.mode,_e)).return=M,M=U}return C(M);case b:return W(M,U,(pe=Y._init)(Y._payload),_e)}if(ee(Y))return de(M,U,Y,_e);if(R(Y))return Ce(M,U,Y,_e);Iu(M,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,U!==null&&U.tag===6?(d(M,U.sibling),(U=y(U,Y)).return=M,M=U):(d(M,U),(U=sp(Y,M.mode,_e)).return=M,M=U),C(M)):d(M,U)}}var fo=sv(!0),ov=sv(!1),Fa={},Br=Si(Fa),Na=Si(Fa),po=Si(Fa);function bn(a){if(a===Fa)throw Error(s(174));return a}function xf(a,l){je(po,l),je(Na,a),je(Br,Fa),a=se(l),Ze(Br),je(Br,a)}function mo(){Ze(Br),Ze(Na),Ze(po)}function av(a){var l=bn(po.current),d=bn(Br.current);d!==(l=I(d,a.type,l))&&(je(Na,a),je(Br,l))}function wf(a){Na.current===a&&(Ze(Br),Ze(Na))}var ht=Si(0);function ku(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&((d=d.dehydrated)===null||Ny(d)||Xd(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(128&l.flags)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ef=[];function bf(){for(var a=0;a<Ef.length;a++){var l=Ef[a];$e?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}Ef.length=0}var Mu=o.ReactCurrentDispatcher,Sf=o.ReactCurrentBatchConfig,ws=0,it=null,It=null,kt=null,Du=!1,Ba=!1,Oa=0,zA=0;function Vt(){throw Error(s(321))}function Tf(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!qr(a[d],l[d]))return!1;return!0}function Af(a,l,d,g,y,x){if(ws=x,it=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Mu.current=a===null||a.memoizedState===null?jA:WA,a=d(g,y),Ba){x=0;do{if(Ba=!1,Oa=0,25<=x)throw Error(s(301));x+=1,kt=It=null,l.updateQueue=null,Mu.current=VA,a=d(g,y)}while(Ba)}if(Mu.current=Bu,l=It!==null&&It.next!==null,ws=0,kt=It=it=null,Du=!1,l)throw Error(s(300));return a}function Cf(){var a=Oa!==0;return Oa=0,a}function Sn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?it.memoizedState=kt=a:kt=kt.next=a,kt}function Or(){if(It===null){var a=it.alternate;a=a!==null?a.memoizedState:null}else a=It.next;var l=kt===null?it.memoizedState:kt.next;if(l!==null)kt=l,It=a;else{if(a===null)throw Error(s(310));a={memoizedState:(It=a).memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},kt===null?it.memoizedState=kt=a:kt=kt.next=a}return kt}function La(a,l){return typeof l=="function"?l(a):l}function Pf(a){var l=Or(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=It,y=g.baseQueue,x=d.pending;if(x!==null){if(y!==null){var C=y.next;y.next=x.next,x.next=C}g.baseQueue=y=x,d.pending=null}if(y!==null){x=y.next,g=g.baseState;var P=C=null,B=null,z=x;do{var j=z.lane;if((ws&j)===j)B!==null&&(B=B.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),g=z.hasEagerState?z.eagerState:a(g,z.action);else{var ne={lane:j,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};B===null?(P=B=ne,C=g):B=B.next=ne,it.lanes|=j,Es|=j}z=z.next}while(z!==null&&z!==x);B===null?C=g:B.next=P,qr(g,l.memoizedState)||(ur=!0),l.memoizedState=g,l.baseState=C,l.baseQueue=B,d.lastRenderedState=g}if((a=d.interleaved)!==null){y=a;do x=y.lane,it.lanes|=x,Es|=x,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Rf(a){var l=Or(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=d.dispatch,y=d.pending,x=l.memoizedState;if(y!==null){d.pending=null;var C=y=y.next;do x=a(x,C.action),C=C.next;while(C!==y);qr(x,l.memoizedState)||(ur=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),d.lastRenderedState=x}return[x,g]}function lv(){}function uv(a,l){var d=it,g=Or(),y=l(),x=!qr(g.memoizedState,y);if(x&&(g.memoizedState=y,ur=!0),g=g.queue,If(dv.bind(null,d,g,a),[a]),g.getSnapshot!==l||x||kt!==null&&1&kt.memoizedState.tag){if(d.flags|=2048,Ua(9,cv.bind(null,d,g,y,l),void 0,null),Mt===null)throw Error(s(349));30&ws||hv(d,l,y)}return y}function hv(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},(l=it.updateQueue)===null?(l={lastEffect:null,stores:null},it.updateQueue=l,l.stores=[a]):(d=l.stores)===null?l.stores=[a]:d.push(a)}function cv(a,l,d,g){l.value=d,l.getSnapshot=g,fv(l)&&pv(a)}function dv(a,l,d){return d(function(){fv(l)&&pv(a)})}function fv(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!qr(a,d)}catch{return!0}}function pv(a){var l=En(a,1);l!==null&&Lr(l,a,1,-1)}function mv(a){var l=Sn();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:a},l.queue=a,a=a.dispatch=$A.bind(null,it,a),[l.memoizedState,a]}function Ua(a,l,d,g){return a={tag:a,create:l,destroy:d,deps:g,next:null},(l=it.updateQueue)===null?(l={lastEffect:null,stores:null},it.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect)===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a),a}function gv(){return Or().memoizedState}function Fu(a,l,d,g){var y=Sn();it.flags|=a,y.memoizedState=Ua(1|l,d,void 0,g===void 0?null:g)}function Nu(a,l,d,g){var y=Or();g=g===void 0?null:g;var x=void 0;if(It!==null){var C=It.memoizedState;if(x=C.destroy,g!==null&&Tf(g,C.deps))return void(y.memoizedState=Ua(l,d,x,g))}it.flags|=a,y.memoizedState=Ua(1|l,d,x,g)}function yv(a,l){return Fu(8390656,8,a,l)}function If(a,l){return Nu(2048,8,a,l)}function vv(a,l){return Nu(4,2,a,l)}function _v(a,l){return Nu(4,4,a,l)}function xv(a,l){return typeof l=="function"?(a=a(),l(a),function(){l(null)}):l!=null?(a=a(),l.current=a,function(){l.current=null}):void 0}function wv(a,l,d){return d=d!=null?d.concat([a]):null,Nu(4,4,xv.bind(null,l,a),d)}function kf(){}function Ev(a,l){var d=Or();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Tf(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function bv(a,l){var d=Or();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Tf(l,g[1])?g[0]:(a=a(),d.memoizedState=[a,l],a)}function Sv(a,l,d){return 21&ws?(qr(d,l)||(d=Uy(),it.lanes|=d,Es|=d,a.baseState=!0),l):(a.baseState&&(a.baseState=!1,ur=!0),a.memoizedState=d)}function GA(a,l){var d=Be;Be=d!==0&&4>d?d:4,a(!0);var g=Sf.transition;Sf.transition={};try{a(!1),l()}finally{Be=d,Sf.transition=g}}function Tv(){return Or().memoizedState}function HA(a,l,d){var g=ki(a);d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},Av(a)?Cv(l,d):(d=Ky(a,l,d,g))!==null&&(Lr(d,a,g,Yt()),Pv(d,l,g))}function $A(a,l,d){var g=ki(a),y={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(Av(a))Cv(l,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer)!==null)try{var C=l.lastRenderedState,P=x(C,d);if(y.hasEagerState=!0,y.eagerState=P,qr(P,C)){var B=l.interleaved;return B===null?(y.next=y,gf(l)):(y.next=B.next,B.next=y),void(l.interleaved=y)}}catch{}(d=Ky(a,l,y,g))!==null&&(Lr(d,a,g,y=Yt()),Pv(d,l,g))}}function Av(a){var l=a.alternate;return a===it||l!==null&&l===it}function Cv(a,l){Ba=Du=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function Pv(a,l,d){if(4194240&d){var g=l.lanes;d|=g&=a.pendingLanes,l.lanes=d,rf(a,d)}}var Bu={readContext:Nr,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},jA={readContext:Nr,useCallback:function(a,l){return Sn().memoizedState=[a,l===void 0?null:l],a},useContext:Nr,useEffect:yv,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,Fu(4194308,4,xv.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Fu(4194308,4,a,l)},useInsertionEffect:function(a,l){return Fu(4,2,a,l)},useMemo:function(a,l){var d=Sn();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var g=Sn();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=HA.bind(null,it,a),[g.memoizedState,a]},useRef:function(a){return a={current:a},Sn().memoizedState=a},useState:mv,useDebugValue:kf,useDeferredValue:function(a){return Sn().memoizedState=a},useTransition:function(){var a=mv(!1),l=a[0];return a=GA.bind(null,a[1]),Sn().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var g=it,y=Sn();if(Je){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),Mt===null)throw Error(s(349));30&ws||hv(g,l,d)}y.memoizedState=d;var x={value:d,getSnapshot:l};return y.queue=x,yv(dv.bind(null,g,x,a),[a]),g.flags|=2048,Ua(9,cv.bind(null,g,x,d,l),void 0,null),d},useId:function(){var a=Sn(),l=Mt.identifierPrefix;if(Je){var d=Zn;l=":"+l+"R"+(d=(wn&~(1<<32-Kr(wn)-1)).toString(32)+d),0<(d=Oa++)&&(l+="H"+d.toString(32)),l+=":"}else l=":"+l+"r"+(d=zA++).toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},WA={readContext:Nr,useCallback:Ev,useContext:Nr,useEffect:If,useImperativeHandle:wv,useInsertionEffect:vv,useLayoutEffect:_v,useMemo:bv,useReducer:Pf,useRef:gv,useState:function(){return Pf(La)},useDebugValue:kf,useDeferredValue:function(a){return Sv(Or(),It.memoizedState,a)},useTransition:function(){return[Pf(La)[0],Or().memoizedState]},useMutableSource:lv,useSyncExternalStore:uv,useId:Tv,unstable_isNewReconciler:!1},VA={readContext:Nr,useCallback:Ev,useContext:Nr,useEffect:If,useImperativeHandle:wv,useInsertionEffect:vv,useLayoutEffect:_v,useMemo:bv,useReducer:Rf,useRef:gv,useState:function(){return Rf(La)},useDebugValue:kf,useDeferredValue:function(a){var l=Or();return It===null?l.memoizedState=a:Sv(l,It.memoizedState,a)},useTransition:function(){return[Rf(La)[0],Or().memoizedState]},useMutableSource:lv,useSyncExternalStore:uv,useId:Tv,unstable_isNewReconciler:!1};function go(a,l){try{var d="",g=l;do d+=UA(g),g=g.return;while(g);var y=d}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:a,source:l,stack:y,digest:null}}function Mf(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function Df(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var XA=typeof WeakMap=="function"?WeakMap:Map;function Rv(a,l,d){(d=Jn(-1,d)).tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){Ku||(Ku=!0,Zf=g),Df(0,l)},d}function Iv(a,l,d){(d=Jn(-1,d)).tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=l.value;d.payload=function(){return g(y)},d.callback=function(){Df(0,l)}}var x=a.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(d.callback=function(){Df(0,l),typeof g!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})}),d}function kv(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new XA;var y=new Set;g.set(l,y)}else(y=g.get(l))===void 0&&(y=new Set,g.set(l,y));y.has(d)||(y.add(d),a=rC.bind(null,a,l,d),l.then(a,a))}function Mv(a){do{var l;if((l=a.tag===13)&&(l=(l=a.memoizedState)===null||l.dehydrated!==null),l)return a;a=a.return}while(a!==null);return null}function Dv(a,l,d,g,y){return 1&a.mode?(a.flags|=65536,a.lanes=y,a):(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:((l=Jn(-1,1)).tag=2,Ci(d,l,1))),d.lanes|=1),a)}var YA=o.ReactCurrentOwner,ur=!1;function hr(a,l,d,g){l.child=a===null?ov(l,null,d,g):fo(l,a.child,d,g)}function Fv(a,l,d,g,y){d=d.render;var x=l.ref;return co(l,y),g=Af(a,l,d,g,x,y),d=Cf(),a===null||ur?(Je&&d&&af(l),l.flags|=1,hr(a,l,g,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,ei(a,l,y))}function Nv(a,l,d,g,y){if(a===null){var x=d.type;return typeof x!="function"||ip(x)||x.defaultProps!==void 0||d.compare!==null||d.defaultProps!==void 0?((a=rh(d.type,null,g,l,l.mode,y)).ref=l.ref,a.return=l,l.child=a):(l.tag=15,l.type=x,Bv(a,l,x,g,y))}if(x=a.child,(a.lanes&y)==0){var C=x.memoizedProps;if((d=(d=d.compare)!==null?d:Su)(C,g)&&a.ref===l.ref)return ei(a,l,y)}return l.flags|=1,(a=Di(x,g)).ref=l.ref,a.return=l,l.child=a}function Bv(a,l,d,g,y){if(a!==null){var x=a.memoizedProps;if(Su(x,g)&&a.ref===l.ref){if(ur=!1,l.pendingProps=g=x,(a.lanes&y)==0)return l.lanes=a.lanes,ei(a,l,y);131072&a.flags&&(ur=!0)}}return Ff(a,l,d,g,y)}function Ov(a,l,d){var g=l.pendingProps,y=g.children,x=a!==null?a.memoizedState:null;if(g.mode==="hidden")if(!(1&l.mode))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(vo,Er),Er|=d;else{if(!(1073741824&d))return a=x!==null?x.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,je(vo,Er),Er|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=x!==null?x.baseLanes:d,je(vo,Er),Er|=g}else x!==null?(g=x.baseLanes|d,l.memoizedState=null):g=d,je(vo,Er),Er|=g;return hr(a,l,y,d),l.child}function Lv(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Ff(a,l,d,g,y){var x=xr(d)?ys:Wt.current;return x=oo(l,x),co(l,y),d=Af(a,l,d,g,x,y),g=Cf(),a===null||ur?(Je&&g&&af(l),l.flags|=1,hr(a,l,d,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,ei(a,l,y))}function Uv(a,l,d,g,y){if(xr(d)){var x=!0;yu(l)}else x=!1;if(co(l,y),l.stateNode===null)zu(a,l),rv(l,d,g),_f(l,d,g,y),g=!0;else if(a===null){var C=l.stateNode,P=l.memoizedProps;C.props=P;var B=C.context,z=d.contextType;typeof z=="object"&&z!==null?z=Nr(z):z=oo(l,z=xr(d)?ys:Wt.current);var j=d.getDerivedStateFromProps,ne=typeof j=="function"||typeof C.getSnapshotBeforeUpdate=="function";ne||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==g||B!==z)&&nv(l,C,g,z),Ai=!1;var H=l.memoizedState;C.state=H,Pu(l,g,C,y),B=l.memoizedState,P!==g||H!==B||lr.current||Ai?(typeof j=="function"&&(vf(l,d,j,g),B=l.memoizedState),(P=Ai||tv(l,d,P,g,H,B,z))?(ne||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=B),C.props=g,C.state=B,C.context=z,g=P):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{C=l.stateNode,qy(a,l),P=l.memoizedProps,z=l.type===l.elementType?P:Jr(l.type,P),C.props=z,ne=l.pendingProps,H=C.context,typeof(B=d.contextType)=="object"&&B!==null?B=Nr(B):B=oo(l,B=xr(d)?ys:Wt.current);var q=d.getDerivedStateFromProps;(j=typeof q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==ne||H!==B)&&nv(l,C,g,B),Ai=!1,H=l.memoizedState,C.state=H,Pu(l,g,C,y);var de=l.memoizedState;P!==ne||H!==de||lr.current||Ai?(typeof q=="function"&&(vf(l,d,q,g),de=l.memoizedState),(z=Ai||tv(l,d,z,g,H,de,B)||!1)?(j||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,de,B),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,de,B)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===a.memoizedProps&&H===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&H===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=de),C.props=g,C.state=de,C.context=B,g=z):(typeof C.componentDidUpdate!="function"||P===a.memoizedProps&&H===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&H===a.memoizedState||(l.flags|=1024),g=!1)}return Nf(a,l,d,g,x,y)}function Nf(a,l,d,g,y,x){Lv(a,l);var C=(128&l.flags)!=0;if(!g&&!C)return y&&Ly(l,d,!1),ei(a,l,x);g=l.stateNode,YA.current=l;var P=C&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&C?(l.child=fo(l,a.child,null,x),l.child=fo(l,null,P,x)):hr(a,l,P,x),l.memoizedState=g.state,y&&Ly(l,d,!0),l.child}function zv(a){var l=a.stateNode;l.pendingContext?By(0,l.pendingContext,l.pendingContext!==l.context):l.context&&By(0,l.context,!1),xf(a,l.containerInfo)}function Gv(a,l,d,g,y){return uo(),cf(y),l.flags|=256,hr(a,l,d,g),l.child}var za,Ga,Ou,Lu,Bf={dehydrated:null,treeContext:null,retryLane:0};function Of(a){return{baseLanes:a,cachePool:null,transitions:null}}function Hv(a,l,d){var g,y=l.pendingProps,x=ht.current,C=!1,P=(128&l.flags)!=0;if((g=P)||(g=(a===null||a.memoizedState!==null)&&(2&x)!=0),g?(C=!0,l.flags&=-129):a!==null&&a.memoizedState===null||(x|=1),je(ht,1&x),a===null)return hf(l),(a=l.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&l.mode?Xd(a)?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(P=y.children,a=y.fallback,C?(y=l.mode,C=l.child,P={mode:"hidden",children:P},!(1&y)&&C!==null?(C.childLanes=0,C.pendingProps=P):C=nh(P,y,0,null),a=Ts(a,y,d,null),C.return=l,a.return=l,C.sibling=a,l.child=C,l.child.memoizedState=Of(d),l.memoizedState=Bf,a):Lf(l,P));if((x=a.memoizedState)!==null&&(g=x.dehydrated)!==null)return function(z,j,ne,H,q,de,Ce){if(ne)return 256&j.flags?(j.flags&=-257,Uu(z,j,Ce,H=Mf(Error(s(422))))):j.memoizedState!==null?(j.child=z.child,j.flags|=128,null):(de=H.fallback,q=j.mode,H=nh({mode:"visible",children:H.children},q,0,null),(de=Ts(de,q,Ce,null)).flags|=2,H.return=j,de.return=j,H.sibling=de,j.child=H,1&j.mode&&fo(j,z.child,null,Ce),j.child.memoizedState=Of(Ce),j.memoizedState=Bf,de);if(!(1&j.mode))return Uu(z,j,Ce,null);if(Xd(q))return H=pA(q).digest,de=Error(s(419)),H=Mf(de,H,void 0),Uu(z,j,Ce,H);if(ne=(Ce&z.childLanes)!=0,ur||ne){if((H=Mt)!==null){switch(Ce&-Ce){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}(q=q&(H.suspendedLanes|Ce)?0:q)!==0&&q!==de.retryLane&&(de.retryLane=q,En(z,q),Lr(H,z,q,-1))}return np(),Uu(z,j,Ce,H=Mf(Error(s(421))))}return Ny(q)?(j.flags|=128,j.child=z.child,j=nC.bind(null,z),mA(q,j),null):(z=de.treeContext,re&&(Fr=vA(q),wr=j,Je=!0,Zr=null,Ma=!1,z!==null&&(Mr[Dr++]=wn,Mr[Dr++]=Zn,Mr[Dr++]=vs,wn=z.id,Zn=z.overflow,vs=j)),j=Lf(j,H.children),j.flags|=4096,j)}(a,l,P,y,g,x,d);if(C){C=y.fallback,P=l.mode,g=(x=a.child).sibling;var B={mode:"hidden",children:y.children};return!(1&P)&&l.child!==x?((y=l.child).childLanes=0,y.pendingProps=B,l.deletions=null):(y=Di(x,B)).subtreeFlags=14680064&x.subtreeFlags,g!==null?C=Di(g,C):(C=Ts(C,P,d,null)).flags|=2,C.return=l,y.return=l,y.sibling=C,l.child=y,y=C,C=l.child,P=(P=a.child.memoizedState)===null?Of(d):{baseLanes:P.baseLanes|d,cachePool:null,transitions:P.transitions},C.memoizedState=P,C.childLanes=a.childLanes&~d,l.memoizedState=Bf,y}return a=(C=a.child).sibling,y=Di(C,{mode:"visible",children:y.children}),!(1&l.mode)&&(y.lanes=d),y.return=l,y.sibling=null,a!==null&&((d=l.deletions)===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=y,l.memoizedState=null,y}function Lf(a,l){return(l=nh({mode:"visible",children:l},a.mode,0,null)).return=a,a.child=l}function Uu(a,l,d,g){return g!==null&&cf(g),fo(l,a.child,null,d),(a=Lf(l,l.pendingProps.children)).flags|=2,l.memoizedState=null,a}function $v(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),mf(a.return,l,d)}function Uf(a,l,d,g,y){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:y}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=g,x.tail=d,x.tailMode=y)}function jv(a,l,d){var g=l.pendingProps,y=g.revealOrder,x=g.tail;if(hr(a,l,g.children,d),(2&(g=ht.current))!=0)g=1&g|2,l.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&$v(a,d,l);else if(a.tag===19)$v(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(je(ht,g),(1&l.mode)==0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)(a=d.alternate)!==null&&ku(a)===null&&(y=d),d=d.sibling;(d=y)===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),Uf(l,!1,y,d,x);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if((a=y.alternate)!==null&&ku(a)===null){l.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}Uf(l,!0,d,null,x);break;case"together":Uf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function zu(a,l){!(1&l.mode)&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function ei(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Es|=l.lanes,(d&l.childLanes)==0)return null;if(a!==null&&l.child!==a.child)throw Error(s(153));if(l.child!==null){for(d=Di(a=l.child,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,(d=d.sibling=Di(a,a.pendingProps)).return=l;d.sibling=null}return l.child}function Tn(a){a.flags|=4}function Wv(a,l){if(a!==null&&a.child===l.child)return!0;if(16&l.flags)return!1;for(a=l.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(Te)za=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)te(a,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Ga=function(){},Ou=function(a,l,d,g,y){if((a=a.memoizedProps)!==g){var x=l.stateNode,C=bn(Br.current);d=xe(x,d,a,g,y,C),(l.updateQueue=d)&&Tn(l)}},Lu=function(a,l,d,g){d!==g&&Tn(l)};else if(Ue){za=function(a,l,d,g){for(var y=l.child;y!==null;){if(y.tag===5){var x=y.stateNode;d&&g&&(x=Dy(x,y.type,y.memoizedProps,y)),te(a,x)}else if(y.tag===6)x=y.stateNode,d&&g&&(x=Fy(x,y.memoizedProps,y)),te(a,x);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(x=y.child)!==null&&(x.return=y),za(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var Vv=function(a,l,d,g){for(var y=l.child;y!==null;){if(y.tag===5){var x=y.stateNode;d&&g&&(x=Dy(x,y.type,y.memoizedProps,y)),My(a,x)}else if(y.tag===6)x=y.stateNode,d&&g&&(x=Fy(x,y.memoizedProps,y)),My(a,x);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(x=y.child)!==null&&(x.return=y),Vv(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Ga=function(a,l){var d=l.stateNode;if(!Wv(a,l)){a=d.containerInfo;var g=ky(a);Vv(g,l,!1,!1),d.pendingChildren=g,Tn(l),hA(a,g)}},Ou=function(a,l,d,g,y){var x=a.stateNode,C=a.memoizedProps;if((a=Wv(a,l))&&C===g)l.stateNode=x;else{var P=l.stateNode,B=bn(Br.current),z=null;C!==g&&(z=xe(P,d,C,g,y,B)),a&&z===null?l.stateNode=x:(x=uA(x,z,d,C,g,l,a,P),Ae(x,d,g,y,B)&&Tn(l),l.stateNode=x,a?Tn(l):za(x,l,!1,!1))}},Lu=function(a,l,d,g){d!==g?(a=bn(po.current),d=bn(Br.current),l.stateNode=Se(g,a,d,l),Tn(l)):l.stateNode=a.stateNode}}else Ga=function(){},Ou=function(){},Lu=function(){};function Ha(a,l){if(!Je)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function er(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=14680064&y.subtreeFlags,g|=14680064&y.flags,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function QA(a,l,d){var g=l.pendingProps;switch(lf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(l),null;case 1:case 17:return xr(l.type)&&qd(),er(l),null;case 3:return d=l.stateNode,mo(),Ze(lr),Ze(Wt),bf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),a!==null&&a.child!==null||(bu(l)?Tn(l):a===null||a.memoizedState.isDehydrated&&!(256&l.flags)||(l.flags|=1024,Zr!==null&&(tp(Zr),Zr=null))),Ga(a,l),er(l),null;case 5:wf(l),d=bn(po.current);var y=l.type;if(a!==null&&l.stateNode!=null)Ou(a,l,y,g,d),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(s(166));return er(l),null}if(a=bn(Br.current),bu(l)){if(!re)throw Error(s(175));a=_A(l.stateNode,l.type,l.memoizedProps,d,a,l,!Ma),l.updateQueue=a,a!==null&&Tn(l)}else{var x=L(y,g,d,a,l);za(x,l,!1,!1),l.stateNode=x,Ae(x,y,g,d,a)&&Tn(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return er(l),null;case 6:if(a&&l.stateNode!=null)Lu(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(s(166));if(a=bn(po.current),d=bn(Br.current),bu(l)){if(!re)throw Error(s(176));if(a=l.stateNode,d=l.memoizedProps,(g=xA(a,d,l,!Ma))&&(y=wr)!==null)switch(y.tag){case 3:PA(y.stateNode.containerInfo,a,d,(1&y.mode)!=0);break;case 5:RA(y.type,y.memoizedProps,y.stateNode,a,d,(1&y.mode)!=0)}g&&Tn(l)}else l.stateNode=Se(g,a,d,l)}return er(l),null;case 13:if(Ze(ht),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Je&&Fr!==null&&1&l.mode&&!(128&l.flags))Yy(),uo(),l.flags|=98560,y=!1;else if(y=bu(l),g!==null&&g.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(!re)throw Error(s(344));if(!(y=(y=l.memoizedState)!==null?y.dehydrated:null))throw Error(s(317));wA(y,l)}else uo(),!(128&l.flags)&&(l.memoizedState=null),l.flags|=4;er(l),y=!1}else Zr!==null&&(tp(Zr),Zr=null),y=!0;if(!y)return 65536&l.flags?l:null}return 128&l.flags?(l.lanes=d,l):((d=g!==null)!=(a!==null&&a.memoizedState!==null)&&d&&(l.child.flags|=8192,1&l.mode&&(a===null||1&ht.current?St===0&&(St=3):np())),l.updateQueue!==null&&(l.flags|=4),er(l),null);case 4:return mo(),Ga(a,l),a===null&&nt(l.stateNode.containerInfo),er(l),null;case 10:return pf(l.type._context),er(l),null;case 19:if(Ze(ht),(y=l.memoizedState)===null)return er(l),null;if(g=(128&l.flags)!=0,(x=y.rendering)===null)if(g)Ha(y,!1);else{if(St!==0||a!==null&&128&a.flags)for(a=l.child;a!==null;){if((x=ku(a))!==null){for(l.flags|=128,Ha(y,!1),(a=x.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),l.subtreeFlags=0,a=d,d=l.child;d!==null;)y=a,(g=d).flags&=14680066,(x=g.alternate)===null?(g.childLanes=0,g.lanes=y,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,y=x.dependencies,g.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),d=d.sibling;return je(ht,1&ht.current|2),l.child}a=a.sibling}y.tail!==null&&Rt()>qf&&(l.flags|=128,g=!0,Ha(y,!1),l.lanes=4194304)}else{if(!g)if((a=ku(x))!==null){if(l.flags|=128,g=!0,(a=a.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),Ha(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Je)return er(l),null}else 2*Rt()-y.renderingStartTime>qf&&d!==1073741824&&(l.flags|=128,g=!0,Ha(y,!1),l.lanes=4194304);y.isBackwards?(x.sibling=l.child,l.child=x):((a=y.last)!==null?a.sibling=x:l.child=x,y.last=x)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Rt(),l.sibling=null,a=ht.current,je(ht,g?1&a|2:1&a),l):(er(l),null);case 22:case 23:return rp(),d=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==d&&(l.flags|=8192),d&&1&l.mode?1073741824&Er&&(er(l),Te&&6&l.subtreeFlags&&(l.flags|=8192)):er(l),null;case 24:case 25:return null}throw Error(s(156,l.tag))}function KA(a,l){switch(lf(l),l.tag){case 1:return xr(l.type)&&qd(),65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 3:return mo(),Ze(lr),Ze(Wt),bf(),65536&(a=l.flags)&&!(128&a)?(l.flags=-65537&a|128,l):null;case 5:return wf(l),null;case 13:if(Ze(ht),(a=l.memoizedState)!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(s(340));uo()}return 65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 19:return Ze(ht),null;case 4:return mo(),null;case 10:return pf(l.type._context),null;case 22:case 23:return rp(),null;default:return null}}var Gu=!1,Xt=!1,qA=typeof WeakSet=="function"?WeakSet:Set,ue=null;function yo(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){et(a,l,g)}else d.current=null}function Xv(a,l,d){try{d()}catch(g){et(a,l,g)}}var Yv=!1;function $a(a,l,d){var g=l.updateQueue;if((g=g!==null?g.lastEffect:null)!==null){var y=g=g.next;do{if((y.tag&a)===a){var x=y.destroy;y.destroy=void 0,x!==void 0&&Xv(l,d,x)}y=y.next}while(y!==g)}}function Hu(a,l){if((l=(l=l.updateQueue)!==null?l.lastEffect:null)!==null){var d=l=l.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function zf(a){var l=a.ref;if(l!==null){var d=a.stateNode;a.tag===5?a=le(d):a=d,typeof l=="function"?l(a):l.current=a}}function Qv(a){var l=a.alternate;l!==null&&(a.alternate=null,Qv(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode)!==null&&Ca(l),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Kv(a){return a.tag===5||a.tag===3||a.tag===4}function qv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Kv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function Gf(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?tA(d,a,l):KT(d,a);else if(g!==4&&(a=a.child)!==null)for(Gf(a,l,d),a=a.sibling;a!==null;)Gf(a,l,d),a=a.sibling}function Hf(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?eA(d,a,l):QT(d,a);else if(g!==4&&(a=a.child)!==null)for(Hf(a,l,d),a=a.sibling;a!==null;)Hf(a,l,d),a=a.sibling}var tr=null,An=!1;function Cn(a,l,d){for(d=d.child;d!==null;)$f(a,l,d),d=d.sibling}function $f(a,l,d){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(_u,d)}catch{}switch(d.tag){case 5:Xt||yo(d,l);case 6:if(Te){var g=tr,y=An;tr=null,Cn(a,l,d),An=y,(tr=g)!==null&&(An?nA(tr,d.stateNode):rA(tr,d.stateNode))}else Cn(a,l,d);break;case 18:Te&&tr!==null&&(An?AA(tr,d.stateNode):TA(tr,d.stateNode));break;case 4:Te?(g=tr,y=An,tr=d.stateNode.containerInfo,An=!0,Cn(a,l,d),tr=g,An=y):(Ue&&(g=d.stateNode.containerInfo,y=ky(g),Vd(g,y)),Cn(a,l,d));break;case 0:case 11:case 14:case 15:if(!Xt&&(g=d.updateQueue)!==null&&(g=g.lastEffect)!==null){y=g=g.next;do{var x=y,C=x.destroy;x=x.tag,C!==void 0&&(2&x||4&x)&&Xv(d,l,C),y=y.next}while(y!==g)}Cn(a,l,d);break;case 1:if(!Xt&&(yo(d,l),typeof(g=d.stateNode).componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(P){et(d,l,P)}Cn(a,l,d);break;case 21:Cn(a,l,d);break;case 22:1&d.mode?(Xt=(g=Xt)||d.memoizedState!==null,Cn(a,l,d),Xt=g):Cn(a,l,d);break;default:Cn(a,l,d)}}function Zv(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new qA),l.forEach(function(g){var y=iC.bind(null,a,g);d.has(g)||(d.add(g),g.then(y,y))})}}function en(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];try{var x=a,C=l;if(Te){var P=C;e:for(;P!==null;){switch(P.tag){case 5:tr=P.stateNode,An=!1;break e;case 3:case 4:tr=P.stateNode.containerInfo,An=!0;break e}P=P.return}if(tr===null)throw Error(s(160));$f(x,C,y),tr=null,An=!1}else $f(x,C,y);var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(z){et(y,l,z)}}if(12854&l.subtreeFlags)for(l=l.child;l!==null;)Jv(l,a),l=l.sibling}function Jv(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(en(l,a),Pn(a),4&g){try{$a(3,a,a.return),Hu(3,a)}catch(H){et(a,a.return,H)}try{$a(5,a,a.return)}catch(H){et(a,a.return,H)}}break;case 1:en(l,a),Pn(a),512&g&&d!==null&&yo(d,d.return);break;case 5:if(en(l,a),Pn(a),512&g&&d!==null&&yo(d,d.return),Te){if(32&a.flags){var y=a.stateNode;try{Iy(y)}catch(H){et(a,a.return,H)}}if(4&g&&(y=a.stateNode)!=null){var x=a.memoizedProps;if(d=d!==null?d.memoizedProps:x,g=a.type,l=a.updateQueue,a.updateQueue=null,l!==null)try{JT(y,l,g,d,x,a)}catch(H){et(a,a.return,H)}}}break;case 6:if(en(l,a),Pn(a),4&g&&Te){if(a.stateNode===null)throw Error(s(162));y=a.stateNode,x=a.memoizedProps,d=d!==null?d.memoizedProps:x;try{qT(y,d,x)}catch(H){et(a,a.return,H)}}break;case 3:if(en(l,a),Pn(a),4&g){if(Te&&re&&d!==null&&d.memoizedState.isDehydrated)try{bA(l.containerInfo)}catch(H){et(a,a.return,H)}if(Ue){y=l.containerInfo,x=l.pendingChildren;try{Vd(y,x)}catch(H){et(a,a.return,H)}}}break;case 4:if(en(l,a),Pn(a),4&g&&Ue){y=(x=a.stateNode).containerInfo,x=x.pendingChildren;try{Vd(y,x)}catch(H){et(a,a.return,H)}}break;case 13:en(l,a),Pn(a),8192&(y=a.child).flags&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(Kf=Rt())),4&g&&Zv(a);break;case 22:var C=d!==null&&d.memoizedState!==null;if(1&a.mode?(Xt=(d=Xt)||C,en(l,a),Xt=d):en(l,a),Pn(a),8192&g){if(d=a.memoizedState!==null,(a.stateNode.isHidden=d)&&!C&&(1&a.mode)!=0)for(ue=a,g=a.child;g!==null;){for(l=ue=g;ue!==null;){var P=(C=ue).child;switch(C.tag){case 0:case 11:case 14:case 15:$a(4,C,C.return);break;case 1:yo(C,C.return);var B=C.stateNode;if(typeof B.componentWillUnmount=="function"){var z=C,j=C.return;try{var ne=z;B.props=ne.memoizedProps,B.state=ne.memoizedState,B.componentWillUnmount()}catch(H){et(z,j,H)}}break;case 5:yo(C,C.return);break;case 22:if(C.memoizedState!==null){r1(l);continue}}P!==null?(P.return=C,ue=P):r1(l)}g=g.sibling}if(Te){e:if(g=null,Te)for(l=a;;){if(l.tag===5){if(g===null){g=l;try{y=l.stateNode,d?iA(y):oA(l.stateNode,l.memoizedProps)}catch(H){et(a,a.return,H)}}}else if(l.tag===6){if(g===null)try{x=l.stateNode,d?sA(x):aA(x,l.memoizedProps)}catch(H){et(a,a.return,H)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;g===l&&(g=null),l=l.return}g===l&&(g=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:en(l,a),Pn(a),4&g&&Zv(a);break;case 21:break;default:en(l,a),Pn(a)}}function Pn(a){var l=a.flags;if(2&l){try{if(Te){e:{for(var d=a.return;d!==null;){if(Kv(d)){var g=d;break e}d=d.return}throw Error(s(160))}switch(g.tag){case 5:var y=g.stateNode;32&g.flags&&(Iy(y),g.flags&=-33),Hf(a,qv(a),y);break;case 3:case 4:var x=g.stateNode.containerInfo;Gf(a,qv(a),x);break;default:throw Error(s(161))}}}catch(C){et(a,a.return,C)}a.flags&=-3}4096&l&&(a.flags&=-4097)}function ZA(a,l,d){ue=a,e1(a)}function e1(a,l,d){for(var g=(1&a.mode)!=0;ue!==null;){var y=ue,x=y.child;if(y.tag===22&&g){var C=y.memoizedState!==null||Gu;if(!C){var P=y.alternate,B=P!==null&&P.memoizedState!==null||Xt;P=Gu;var z=Xt;if(Gu=C,(Xt=B)&&!z)for(ue=y;ue!==null;)B=(C=ue).child,C.tag===22&&C.memoizedState!==null?n1(y):B!==null?(B.return=C,ue=B):n1(y);for(;x!==null;)ue=x,e1(x),x=x.sibling;ue=y,Gu=P,Xt=z}t1(a)}else 8772&y.subtreeFlags&&x!==null?(x.return=y,ue=x):t1(a)}}function t1(a){for(;ue!==null;){var l=ue;if(8772&l.flags){var d=l.alternate;try{if(8772&l.flags)switch(l.tag){case 0:case 11:case 15:Xt||Hu(5,l);break;case 1:var g=l.stateNode;if(4&l.flags&&!Xt)if(d===null)g.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:Jr(l.type,d.memoizedProps);g.componentDidUpdate(y,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var x=l.updateQueue;x!==null&&Jy(l,x,g);break;case 3:var C=l.updateQueue;if(C!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=le(l.child.stateNode);break;case 1:d=l.child.stateNode}Jy(l,C,d)}break;case 5:var P=l.stateNode;d===null&&4&l.flags&&ZT(P,l.type,l.memoizedProps,l);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(re&&l.memoizedState===null){var B=l.alternate;if(B!==null){var z=B.memoizedState;if(z!==null){var j=z.dehydrated;j!==null&&SA(j)}}}break;default:throw Error(s(163))}Xt||512&l.flags&&zf(l)}catch(ne){et(l,l.return,ne)}}if(l===a){ue=null;break}if((d=l.sibling)!==null){d.return=l.return,ue=d;break}ue=l.return}}function r1(a){for(;ue!==null;){var l=ue;if(l===a){ue=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ue=d;break}ue=l.return}}function n1(a){for(;ue!==null;){var l=ue;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Hu(4,l)}catch(B){et(l,d,B)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var y=l.return;try{g.componentDidMount()}catch(B){et(l,y,B)}}var x=l.return;try{zf(l)}catch(B){et(l,x,B)}break;case 5:var C=l.return;try{zf(l)}catch(B){et(l,C,B)}}}catch(B){et(l,l.return,B)}if(l===a){ue=null;break}var P=l.sibling;if(P!==null){P.return=l.return,ue=P;break}ue=l.return}}var $u=0,ju=1,Wu=2,Vu=3,Xu=4;if(typeof Symbol=="function"&&Symbol.for){var ja=Symbol.for;$u=ja("selector.component"),ju=ja("selector.has_pseudo_class"),Wu=ja("selector.role"),Vu=ja("selector.test_id"),Xu=ja("selector.text")}function jf(a){var l=mt(a);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(s(364));return l}if((a=Wd(a))===null)throw Error(s(362));return a.stateNode.current}function Wf(a,l){switch(l.$$typeof){case $u:if(a.type===l.value)return!0;break;case ju:e:{l=l.value,a=[a,0];for(var d=0;d<a.length;){var g=a[d++],y=a[d++],x=l[y];if(g.tag!==5||!Pa(g)){for(;x!=null&&Wf(g,x);)x=l[++y];if(y===l.length){l=!0;break e}for(g=g.child;g!==null;)a.push(g,y),g=g.sibling}}l=!1}return l;case Wu:if(a.tag===5&&VT(a.stateNode,l.value))return!0;break;case Xu:if((a.tag===5||a.tag===6)&&(a=WT(a))!==null&&0<=a.indexOf(l.value))return!0;break;case Vu:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===l.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Vf(a){switch(a.$$typeof){case $u:return"<"+(O(a.value)||"Unknown")+">";case ju:return":has("+(Vf(a)||"")+")";case Wu:return'[role="'+a.value+'"]';case Xu:return'"'+a.value+'"';case Vu:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function i1(a,l){var d=[];a=[a,0];for(var g=0;g<a.length;){var y=a[g++],x=a[g++],C=l[x];if(y.tag!==5||!Pa(y)){for(;C!=null&&Wf(y,C);)C=l[++x];if(x===l.length)d.push(y);else for(y=y.child;y!==null;)a.push(y,x),y=y.sibling}}return d}function Xf(a,l){if(!gs)throw Error(s(363));a=i1(a=jf(a),l),l=[],a=Array.from(a);for(var d=0;d<a.length;){var g=a[d++];if(g.tag===5)Pa(g)||l.push(g.stateNode);else for(g=g.child;g!==null;)a.push(g),g=g.sibling}return l}var JA=Math.ceil,Yu=o.ReactCurrentDispatcher,Yf=o.ReactCurrentOwner,gt=o.ReactCurrentBatchConfig,Fe=0,Mt=null,xt=null,Lt=0,Er=0,vo=Si(0),St=0,Wa=null,Es=0,Qu=0,Qf=0,Va=null,br=null,Kf=0,qf=1/0,Pi=null;function _o(){qf=Rt()+500}var s1,Ku=!1,Zf=null,Ri=null,qu=!1,Ii=null,Zu=0,Xa=0,Jf=null,Ju=-1,eh=0;function Yt(){return 6&Fe?Rt():Ju!==-1?Ju:Ju=Rt()}function ki(a){return 1&a.mode?2&Fe&&Lt!==0?Lt&-Lt:LA.transition!==null?(eh===0&&(eh=Uy()),eh):(a=Be)!==0?a:_r():1}function Lr(a,l,d,g){if(50<Xa)throw Xa=0,Jf=null,Error(s(185));ka(a,d,g),2&Fe&&a===Mt||(a===Mt&&(!(2&Fe)&&(Qu|=d),St===4&&Mi(a,Lt)),cr(a,g),d===1&&Fe===0&&!(1&l.mode)&&(_o(),xu&&xn()))}function cr(a,l){var d=a.callbackNode;(function(y,x){for(var C=y.suspendedLanes,P=y.pingedLanes,B=y.expirationTimes,z=y.pendingLanes;0<z;){var j=31-Kr(z),ne=1<<j,H=B[j];H===-1?ne&C&&!(ne&P)||(B[j]=DA(ne,x)):H<=x&&(y.expiredLanes|=ne),z&=~ne}})(a,l);var g=vu(a,a===Mt?Lt:0);if(g===0)d!==null&&Gy(d),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(d!=null&&Gy(d),l===1)a.tag===0?function(y){xu=!0,$y(y)}(a1.bind(null,a)):$y(a1.bind(null,a)),bi?jd(function(){!(6&Fe)&&xn()}):nf(sf,xn),d=null;else{switch(zy(g)){case 1:d=sf;break;case 4:d=BA;break;case 16:default:d=Hy;break;case 536870912:d=OA}d=m1(d,o1.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function o1(a,l){if(Ju=-1,eh=0,(6&Fe)!=0)throw Error(s(327));var d=a.callbackNode;if(Ss()&&a.callbackNode!==d)return null;var g=vu(a,a===Mt?Lt:0);if(g===0)return null;if(30&g||g&a.expiredLanes||l)l=th(a,g);else{l=g;var y=Fe;Fe|=2;var x=h1();for(Mt===a&&Lt===l||(Pi=null,_o(),bs(a,l));;)try{tC();break}catch(P){u1(a,P)}ff(),Yu.current=x,Fe=y,xt!==null?l=0:(Mt=null,Lt=0,l=St)}if(l!==0){if(l===2&&(y=ef(a))!==0&&(g=y,l=ep(a,y)),l===1)throw d=Wa,bs(a,0),Mi(a,g),cr(a,Rt()),d;if(l===6)Mi(a,g);else{if(y=a.current.alternate,(30&g)==0&&!function(P){for(var B=P;;){if(16384&B.flags){var z=B.updateQueue;if(z!==null&&(z=z.stores)!==null)for(var j=0;j<z.length;j++){var ne=z[j],H=ne.getSnapshot;ne=ne.value;try{if(!qr(H(),ne))return!1}catch{return!1}}}if(z=B.child,16384&B.subtreeFlags&&z!==null)z.return=B,B=z;else{if(B===P)break;for(;B.sibling===null;){if(B.return===null||B.return===P)return!0;B=B.return}B.sibling.return=B.return,B=B.sibling}}return!0}(y)&&((l=th(a,g))===2&&(x=ef(a))!==0&&(g=x,l=ep(a,x)),l===1))throw d=Wa,bs(a,0),Mi(a,g),cr(a,Rt()),d;switch(a.finishedWork=y,a.finishedLanes=g,l){case 0:case 1:throw Error(s(345));case 2:case 5:xo(a,br,Pi);break;case 3:if(Mi(a,g),(130023424&g)===g&&10<(l=Kf+500-Rt())){if(vu(a,0)!==0)break;if(((y=a.suspendedLanes)&g)!==g){Yt(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=De(xo.bind(null,a,br,Pi),l);break}xo(a,br,Pi);break;case 4:if(Mi(a,g),(4194240&g)===g)break;for(l=a.eventTimes,y=-1;0<g;){var C=31-Kr(g);x=1<<C,(C=l[C])>y&&(y=C),g&=~x}if(g=y,10<(g=(120>(g=Rt()-g)?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*JA(g/1960))-g)){a.timeoutHandle=De(xo.bind(null,a,br,Pi),g);break}xo(a,br,Pi);break;default:throw Error(s(329))}}}return cr(a,Rt()),a.callbackNode===d?o1.bind(null,a):null}function ep(a,l){var d=Va;return a.current.memoizedState.isDehydrated&&(bs(a,l).flags|=256),(a=th(a,l))!==2&&(l=br,br=d,l!==null&&tp(l)),a}function tp(a){br===null?br=a:br.push.apply(br,a)}function Mi(a,l){for(l&=~Qf,l&=~Qu,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-Kr(l),g=1<<d;a[d]=-1,l&=~g}}function a1(a){if(6&Fe)throw Error(s(327));Ss();var l=vu(a,0);if(!(1&l))return cr(a,Rt()),null;var d=th(a,l);if(a.tag!==0&&d===2){var g=ef(a);g!==0&&(l=g,d=ep(a,g))}if(d===1)throw d=Wa,bs(a,0),Mi(a,l),cr(a,Rt()),d;if(d===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,xo(a,br,Pi),cr(a,Rt()),null}function l1(a){Ii!==null&&Ii.tag===0&&!(6&Fe)&&Ss();var l=Fe;Fe|=1;var d=gt.transition,g=Be;try{if(gt.transition=null,Be=1,a)return a()}finally{Be=g,gt.transition=d,!(6&(Fe=l))&&xn()}}function rp(){Er=vo.current,Ze(vo)}function bs(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==pt&&(a.timeoutHandle=pt,qe(d)),xt!==null)for(d=xt.return;d!==null;){var g=d;switch(lf(g),g.tag){case 1:(g=g.type.childContextTypes)!=null&&qd();break;case 3:mo(),Ze(lr),Ze(Wt),bf();break;case 5:wf(g);break;case 4:mo();break;case 13:case 19:Ze(ht);break;case 10:pf(g.type._context);break;case 22:case 23:rp()}d=d.return}if(Mt=a,xt=a=Di(a.current,null),Lt=Er=l,St=0,Wa=null,Qf=Qu=Es=0,br=Va=null,xs!==null){for(l=0;l<xs.length;l++)if((g=(d=xs[l]).interleaved)!==null){d.interleaved=null;var y=g.next,x=d.pending;if(x!==null){var C=x.next;x.next=y,g.next=C}d.pending=g}xs=null}return a}function u1(a,l){for(;;){var d=xt;try{if(ff(),Mu.current=Bu,Du){for(var g=it.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}Du=!1}if(ws=0,kt=It=it=null,Ba=!1,Oa=0,Yf.current=null,d===null||d.return===null){St=1,Wa=l,xt=null;break}e:{var x=a,C=d.return,P=d,B=l;if(l=Lt,P.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var z=B,j=P,ne=j.tag;if(!(1&j.mode)&&(ne===0||ne===11||ne===15)){var H=j.alternate;H?(j.updateQueue=H.updateQueue,j.memoizedState=H.memoizedState,j.lanes=H.lanes):(j.updateQueue=null,j.memoizedState=null)}var q=Mv(C);if(q!==null){q.flags&=-257,Dv(q,C,P,0,l),1&q.mode&&kv(x,z,l),B=z;var de=(l=q).updateQueue;if(de===null){var Ce=new Set;Ce.add(B),l.updateQueue=Ce}else de.add(B);break e}if(!(1&l)){kv(x,z,l),np();break e}B=Error(s(426))}else if(Je&&1&P.mode){var W=Mv(C);if(W!==null){!(65536&W.flags)&&(W.flags|=256),Dv(W,C,P,0,l),cf(go(B,P));break e}}x=B=go(B,P),St!==4&&(St=2),Va===null?Va=[x]:Va.push(x),x=C;do{switch(x.tag){case 3:x.flags|=65536,l&=-l,x.lanes|=l,Zy(x,Rv(0,B,l));break e;case 1:P=B;var M=x.type,U=x.stateNode;if(!(128&x.flags)&&(typeof M.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Ri===null||!Ri.has(U)))){x.flags|=65536,l&=-l,x.lanes|=l,Zy(x,Iv(x,P,l));break e}}x=x.return}while(x!==null)}d1(d)}catch(Y){l=Y,xt===d&&d!==null&&(xt=d=d.return);continue}break}}function h1(){var a=Yu.current;return Yu.current=Bu,a===null?Bu:a}function np(){St!==0&&St!==3&&St!==2||(St=4),Mt===null||!(268435455&Es)&&!(268435455&Qu)||Mi(Mt,Lt)}function th(a,l){var d=Fe;Fe|=2;var g=h1();for(Mt===a&&Lt===l||(Pi=null,bs(a,l));;)try{eC();break}catch(y){u1(a,y)}if(ff(),Fe=d,Yu.current=g,xt!==null)throw Error(s(261));return Mt=null,Lt=0,St}function eC(){for(;xt!==null;)c1(xt)}function tC(){for(;xt!==null&&!FA();)c1(xt)}function c1(a){var l=s1(a.alternate,a,Er);a.memoizedProps=a.pendingProps,l===null?d1(a):xt=l,Yf.current=null}function d1(a){var l=a;do{var d=l.alternate;if(a=l.return,(32768&l.flags)==0){if((d=QA(d,l,Er))!==null)return void(xt=d)}else{if((d=KA(d,l))!==null)return d.flags&=32767,void(xt=d);if(a===null)return St=6,void(xt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((l=l.sibling)!==null)return void(xt=l);xt=l=a}while(l!==null);St===0&&(St=5)}function xo(a,l,d){var g=Be,y=gt.transition;try{gt.transition=null,Be=1,function(x,C,P,B){do Ss();while(Ii!==null);if(6&Fe)throw Error(s(327));P=x.finishedWork;var z=x.finishedLanes;if(P===null)return null;if(x.finishedWork=null,x.finishedLanes=0,P===x.current)throw Error(s(177));x.callbackNode=null,x.callbackPriority=0;var j=P.lanes|P.childLanes;if(function(q,de){var Ce=q.pendingLanes&~de;q.pendingLanes=de,q.suspendedLanes=0,q.pingedLanes=0,q.expiredLanes&=de,q.mutableReadLanes&=de,q.entangledLanes&=de,de=q.entanglements;var W=q.eventTimes;for(q=q.expirationTimes;0<Ce;){var M=31-Kr(Ce),U=1<<M;de[M]=0,W[M]=-1,q[M]=-1,Ce&=~U}}(x,j),x===Mt&&(xt=Mt=null,Lt=0),!(2064&P.subtreeFlags)&&!(2064&P.flags)||qu||(qu=!0,m1(Hy,function(){return Ss(),null})),j=(15990&P.flags)!=0,(15990&P.subtreeFlags)!=0||j){j=gt.transition,gt.transition=null;var ne=Be;Be=1;var H=Fe;Fe|=4,Yf.current=null,function(q,de){for(G(q.containerInfo),ue=de;ue!==null;)if(de=(q=ue).child,(1028&q.subtreeFlags)!=0&&de!==null)de.return=q,ue=de;else for(;ue!==null;){q=ue;try{var Ce=q.alternate;if(1024&q.flags)switch(q.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Ce!==null){var W=Ce.memoizedProps,M=Ce.memoizedState,U=q.stateNode,Y=U.getSnapshotBeforeUpdate(q.elementType===q.type?W:Jr(q.type,W),M);U.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:Te&&lA(q.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(_e){et(q,q.return,_e)}if((de=q.sibling)!==null){de.return=q.return,ue=de;break}ue=q.return}Ce=Yv,Yv=!1}(x,P),Jv(P,x),F(x.containerInfo),x.current=P,ZA(P),NA(),Fe=H,Be=ne,gt.transition=j}else x.current=P;if(qu&&(qu=!1,Ii=x,Zu=z),j=x.pendingLanes,j===0&&(Ri=null),function(q){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(_u,q,void 0,(128&q.current.flags)==128)}catch{}}(P.stateNode),cr(x,Rt()),C!==null)for(B=x.onRecoverableError,P=0;P<C.length;P++)z=C[P],B(z.value,{componentStack:z.stack,digest:z.digest});if(Ku)throw Ku=!1,x=Zf,Zf=null,x;1&Zu&&x.tag!==0&&Ss(),j=x.pendingLanes,1&j?x===Jf?Xa++:(Xa=0,Jf=x):Xa=0,xn()}(a,l,d,g)}finally{gt.transition=y,Be=g}return null}function Ss(){if(Ii!==null){var a=zy(Zu),l=gt.transition,d=Be;try{if(gt.transition=null,Be=16>a?16:a,Ii===null)var g=!1;else{if(a=Ii,Ii=null,Zu=0,(6&Fe)!=0)throw Error(s(331));var y=Fe;for(Fe|=4,ue=a.current;ue!==null;){var x=ue,C=x.child;if(16&ue.flags){var P=x.deletions;if(P!==null){for(var B=0;B<P.length;B++){var z=P[B];for(ue=z;ue!==null;){var j=ue;switch(j.tag){case 0:case 11:case 15:$a(8,j,x)}var ne=j.child;if(ne!==null)ne.return=j,ue=ne;else for(;ue!==null;){var H=(j=ue).sibling,q=j.return;if(Qv(j),j===z){ue=null;break}if(H!==null){H.return=q,ue=H;break}ue=q}}}var de=x.alternate;if(de!==null){var Ce=de.child;if(Ce!==null){de.child=null;do{var W=Ce.sibling;Ce.sibling=null,Ce=W}while(Ce!==null)}}ue=x}}if(2064&x.subtreeFlags&&C!==null)C.return=x,ue=C;else e:for(;ue!==null;){if(2048&(x=ue).flags)switch(x.tag){case 0:case 11:case 15:$a(9,x,x.return)}var M=x.sibling;if(M!==null){M.return=x.return,ue=M;break e}ue=x.return}}var U=a.current;for(ue=U;ue!==null;){var Y=(C=ue).child;if(2064&C.subtreeFlags&&Y!==null)Y.return=C,ue=Y;else e:for(C=U;ue!==null;){if(2048&(P=ue).flags)try{switch(P.tag){case 0:case 11:case 15:Hu(9,P)}}catch(ze){et(P,P.return,ze)}if(P===C){ue=null;break e}var _e=P.sibling;if(_e!==null){_e.return=P.return,ue=_e;break e}ue=P.return}}if(Fe=y,xn(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(_u,a)}catch{}g=!0}return g}finally{Be=d,gt.transition=l}}return!1}function f1(a,l,d){a=Ci(a,l=Rv(0,l=go(d,l),1),1),l=Yt(),a!==null&&(ka(a,1,l),cr(a,l))}function et(a,l,d){if(a.tag===3)f1(a,a,d);else for(;l!==null;){if(l.tag===3){f1(l,a,d);break}if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ri===null||!Ri.has(g))){l=Ci(l,a=Iv(l,a=go(d,a),1),1),a=Yt(),l!==null&&(ka(l,1,a),cr(l,a));break}}l=l.return}}function rC(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),l=Yt(),a.pingedLanes|=a.suspendedLanes&d,Mt===a&&(Lt&d)===d&&(St===4||St===3&&(130023424&Lt)===Lt&&500>Rt()-Kf?bs(a,0):Qf|=d),cr(a,l)}function p1(a,l){l===0&&(1&a.mode?(l=Jd,!(130023424&(Jd<<=1))&&(Jd=4194304)):l=1);var d=Yt();(a=En(a,l))!==null&&(ka(a,l,d),cr(a,d))}function nC(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),p1(a,d)}function iC(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(s(314))}g!==null&&g.delete(l),p1(a,d)}function m1(a,l){return nf(a,l)}function sC(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(a,l,d,g){return new sC(a,l,d,g)}function ip(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Di(a,l){var d=a.alternate;return d===null?((d=Ur(a.tag,l,a.key,a.mode)).elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=14680064&a.flags,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function rh(a,l,d,g,y,x){var C=2;if(g=a,typeof a=="function")ip(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case c:return Ts(d.children,y,x,l);case f:C=8,y|=8;break;case p:return(a=Ur(12,d,l,2|y)).elementType=p,a.lanes=x,a;case S:return(a=Ur(13,d,l,y)).elementType=S,a.lanes=x,a;case T:return(a=Ur(19,d,l,y)).elementType=T,a.lanes=x,a;case w:return nh(d,y,x,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case m:C=10;break e;case v:C=9;break e;case _:C=11;break e;case E:C=14;break e;case b:C=16,g=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(l=Ur(C,d,l,y)).elementType=a,l.type=g,l.lanes=x,l}function Ts(a,l,d,g){return(a=Ur(7,a,g,l)).lanes=d,a}function nh(a,l,d,g){return(a=Ur(22,a,g,l)).elementType=w,a.lanes=d,a.stateNode={isHidden:!1},a}function sp(a,l,d){return(a=Ur(6,a,null,l)).lanes=d,a}function op(a,l,d){return(l=Ur(4,a.children!==null?a.children:[],a.key,l)).lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function oC(a,l,d,g,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=pt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tf(0),this.expirationTimes=tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tf(0),this.identifierPrefix=g,this.onRecoverableError=y,re&&(this.mutableSourceEagerHydrationData=null)}function g1(a,l,d,g,y,x,C,P,B){return a=new oC(a,l,d,P,B),l===1?(l=1,x===!0&&(l|=8)):l=0,x=Ur(3,null,null,l),a.current=x,x.stateNode=a,x.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},yf(x),a}function y1(a){if(!a)return Ti;e:{if(k(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(xr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(s(171))}if(a.tag===1){var d=a.type;if(xr(d))return Oy(a,d,l)}return l}function v1(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=ce(l))===null?null:a.stateNode}function _1(a,l){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function ih(a,l){_1(a,l),(a=a.alternate)&&_1(a,l)}function aC(a){return(a=ce(a))===null?null:a.stateNode}function lC(){return null}return s1=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||lr.current)ur=!0;else{if(!(a.lanes&d)&&!(128&l.flags))return ur=!1,function(ne,H,q){switch(H.tag){case 3:zv(H),uo();break;case 5:av(H);break;case 1:xr(H.type)&&yu(H);break;case 4:xf(H,H.stateNode.containerInfo);break;case 10:Qy(0,H.type._context,H.memoizedProps.value);break;case 13:var de=H.memoizedState;if(de!==null)return de.dehydrated!==null?(je(ht,1&ht.current),H.flags|=128,null):q&H.child.childLanes?Hv(ne,H,q):(je(ht,1&ht.current),(ne=ei(ne,H,q))!==null?ne.sibling:null);je(ht,1&ht.current);break;case 19:if(de=(q&H.childLanes)!=0,(128&ne.flags)!=0){if(de)return jv(ne,H,q);H.flags|=128}var Ce=H.memoizedState;if(Ce!==null&&(Ce.rendering=null,Ce.tail=null,Ce.lastEffect=null),je(ht,ht.current),de)break;return null;case 22:case 23:return H.lanes=0,Ov(ne,H,q)}return ei(ne,H,q)}(a,l,d);ur=(131072&a.flags)!=0}else ur=!1,Je&&1048576&l.flags&&jy(l,Eu,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;zu(a,l),a=l.pendingProps;var y=oo(l,Wt.current);co(l,d),y=Af(null,l,g,a,y,d);var x=Cf();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,xr(g)?(x=!0,yu(l)):x=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,yf(l),y.updater=Ru,l.stateNode=y,y._reactInternals=l,_f(l,g,a,d),l=Nf(null,l,g,!0,x,d)):(l.tag=0,Je&&x&&af(l),hr(null,l,y,d),l=l.child),l;case 16:g=l.elementType;e:{switch(zu(a,l),a=l.pendingProps,g=(y=g._init)(g._payload),l.type=g,y=l.tag=function(ne){if(typeof ne=="function")return ip(ne)?1:0;if(ne!=null){if((ne=ne.$$typeof)===_)return 11;if(ne===E)return 14}return 2}(g),a=Jr(g,a),y){case 0:l=Ff(null,l,g,a,d);break e;case 1:l=Uv(null,l,g,a,d);break e;case 11:l=Fv(null,l,g,a,d);break e;case 14:l=Nv(null,l,g,Jr(g.type,a),d);break e}throw Error(s(306,g,""))}return l;case 0:return g=l.type,y=l.pendingProps,Ff(a,l,g,y=l.elementType===g?y:Jr(g,y),d);case 1:return g=l.type,y=l.pendingProps,Uv(a,l,g,y=l.elementType===g?y:Jr(g,y),d);case 3:e:{if(zv(l),a===null)throw Error(s(387));g=l.pendingProps,y=(x=l.memoizedState).element,qy(a,l),Pu(l,g,null,d);var C=l.memoizedState;if(g=C.element,re&&x.isDehydrated){if(x={element:g,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},l.updateQueue.baseState=x,l.memoizedState=x,256&l.flags){l=Gv(a,l,g,d,y=go(Error(s(423)),l));break e}if(g!==y){l=Gv(a,l,g,d,y=go(Error(s(424)),l));break e}for(re&&(Fr=yA(l.stateNode.containerInfo),wr=l,Je=!0,Zr=null,Ma=!1),d=ov(l,null,g,d),l.child=d;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(uo(),g===y){l=ei(a,l,d);break e}hr(a,l,g,d)}l=l.child}return l;case 5:return av(l),a===null&&hf(l),g=l.type,y=l.pendingProps,x=a!==null?a.memoizedProps:null,C=y.children,Pe(g,y)?C=null:x!==null&&Pe(g,x)&&(l.flags|=32),Lv(a,l),hr(a,l,C,d),l.child;case 6:return a===null&&hf(l),null;case 13:return Hv(a,l,d);case 4:return xf(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=fo(l,null,g,d):hr(a,l,g,d),l.child;case 11:return g=l.type,y=l.pendingProps,Fv(a,l,g,y=l.elementType===g?y:Jr(g,y),d);case 7:return hr(a,l,l.pendingProps,d),l.child;case 8:case 12:return hr(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,y=l.pendingProps,x=l.memoizedProps,Qy(0,g,C=y.value),x!==null)if(qr(x.value,C)){if(x.children===y.children&&!lr.current){l=ei(a,l,d);break e}}else for((x=l.child)!==null&&(x.return=l);x!==null;){var P=x.dependencies;if(P!==null){C=x.child;for(var B=P.firstContext;B!==null;){if(B.context===g){if(x.tag===1){(B=Jn(-1,d&-d)).tag=2;var z=x.updateQueue;if(z!==null){var j=(z=z.shared).pending;j===null?B.next=B:(B.next=j.next,j.next=B),z.pending=B}}x.lanes|=d,(B=x.alternate)!==null&&(B.lanes|=d),mf(x.return,d,l),P.lanes|=d;break}B=B.next}}else if(x.tag===10)C=x.type===l.type?null:x.child;else if(x.tag===18){if((C=x.return)===null)throw Error(s(341));C.lanes|=d,(P=C.alternate)!==null&&(P.lanes|=d),mf(C,d,l),C=x.sibling}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===l){C=null;break}if((x=C.sibling)!==null){x.return=C.return,C=x;break}C=C.return}x=C}hr(a,l,y.children,d),l=l.child}return l;case 9:return y=l.type,g=l.pendingProps.children,co(l,d),g=g(y=Nr(y)),l.flags|=1,hr(a,l,g,d),l.child;case 14:return y=Jr(g=l.type,l.pendingProps),Nv(a,l,g,y=Jr(g.type,y),d);case 15:return Bv(a,l,l.type,l.pendingProps,d);case 17:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Jr(g,y),zu(a,l),l.tag=1,xr(g)?(a=!0,yu(l)):a=!1,co(l,d),rv(l,g,y),_f(l,g,y,d),Nf(null,l,g,!0,a,d);case 19:return jv(a,l,d);case 22:return Ov(a,l,d)}throw Error(s(156,l.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var l=En(a,134217728);l!==null&&Lr(l,a,134217728,Yt()),ih(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var l=En(a,1);l!==null&&Lr(l,a,1,Yt()),ih(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var l=ki(a),d=En(a,l);d!==null&&Lr(d,a,l,Yt()),ih(a,l)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=Ia(l.pendingLanes);d!==0&&(rf(l,1|d),cr(l,Rt()),!(6&Fe)&&(_o(),xn()))}break;case 13:l1(function(){var g=En(a,1);if(g!==null){var y=Yt();Lr(g,a,1,y)}}),ih(a,1)}},e.batchedUpdates=function(a,l){var d=Fe;Fe|=1;try{return a(l)}finally{(Fe=d)===0&&(_o(),xu&&xn())}},e.createComponentSelector=function(a){return{$$typeof:$u,value:a}},e.createContainer=function(a,l,d,g,y,x,C){return g1(a,l,!1,null,0,g,0,x,C)},e.createHasPseudoClassSelector=function(a){return{$$typeof:ju,value:a}},e.createHydrationContainer=function(a,l,d,g,y,x,C,P,B){return(a=g1(d,g,!0,a,0,x,0,P,B)).context=y1(null),d=a.current,(x=Jn(g=Yt(),y=ki(d))).callback=l??null,Ci(d,x,y),a.current.lanes=y,ka(a,y,g),cr(a,g),a},e.createPortal=function(a,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:g==null?null:""+g,children:a,containerInfo:l,implementation:d}},e.createRoleSelector=function(a){return{$$typeof:Wu,value:a}},e.createTestNameSelector=function(a){return{$$typeof:Vu,value:a}},e.createTextSelector=function(a){return{$$typeof:Xu,value:a}},e.deferredUpdates=function(a){var l=Be,d=gt.transition;try{return gt.transition=null,Be=16,a()}finally{Be=l,gt.transition=d}},e.discreteUpdates=function(a,l,d,g,y){var x=Be,C=gt.transition;try{return gt.transition=null,Be=1,a(l,d,g,y)}finally{Be=x,gt.transition=C,Fe===0&&_o()}},e.findAllNodes=Xf,e.findBoundingRects=function(a,l){if(!gs)throw Error(s(363));l=Xf(a,l),a=[];for(var d=0;d<l.length;d++)a.push(jT(l[d]));for(l=a.length-1;0<l;l--)for(var g=(d=a[l]).x,y=g+d.width,x=d.y,C=x+d.height,P=l-1;0<=P;P--)if(l!==P){var B=a[P],z=B.x,j=z+B.width,ne=B.y,H=ne+B.height;if(g>=z&&x>=ne&&y<=j&&C<=H){a.splice(l,1);break}if(!(g!==z||d.width!==B.width||H<x||ne>C)){ne>x&&(B.height+=ne-x,B.y=x),H<C&&(B.height=C-ne),a.splice(l,1);break}if(!(x!==ne||d.height!==B.height||j<g||z>y)){z>g&&(B.width+=z-g,B.x=g),j<y&&(B.width=y-z),a.splice(l,1);break}}return a},e.findHostInstance=v1,e.findHostInstanceWithNoPortals=function(a){return(a=(a=$(a))!==null?N(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return v1(a)},e.flushControlled=function(a){var l=Fe;Fe|=1;var d=gt.transition,g=Be;try{gt.transition=null,Be=1,a()}finally{Be=g,gt.transition=d,(Fe=l)===0&&(_o(),xn())}},e.flushPassiveEffects=Ss,e.flushSync=l1,e.focusWithin=function(a,l){if(!gs)throw Error(s(363));for(l=i1(a=jf(a),l),l=Array.from(l),a=0;a<l.length;){var d=l[a++];if(!Pa(d)){if(d.tag===5&&XT(d.stateNode))return!0;for(d=d.child;d!==null;)l.push(d),d=d.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Be},e.getFindAllNodesFailureDescription=function(a,l){if(!gs)throw Error(s(363));var d=0,g=[];a=[jf(a),0];for(var y=0;y<a.length;){var x=a[y++],C=a[y++],P=l[C];if((x.tag!==5||!Pa(x))&&(Wf(x,P)&&(g.push(Vf(P)),++C>d&&(d=C)),C<l.length))for(x=x.child;x!==null;)a.push(x,C),x=x.sibling}if(d<l.length){for(a=[];d<l.length;d++)a.push(Vf(l[d]));return`findAllNodes was able to match part of the selector:
  `+g.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?le(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:aC,findFiberByHostInstance:a.findFiberByHostInstance||lC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)a=!0;else{try{_u=l.inject(a),_n=l}catch{}a=!!l.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,l,d,g){if(!gs)throw Error(s(363));a=Xf(a,l);var y=YT(a,d,g).disconnect;return{disconnect:function(){y()}}},e.registerMutableSourceForHydration=function(a,l){var d=l._getVersion;d=d(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,d]:a.mutableSourceEagerHydrationData.push(l,d)},e.runWithPriority=function(a,l){var d=Be;try{return Be=a,l()}finally{Be=d}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,l,d,g){var y=l.current,x=Yt(),C=ki(y);return d=y1(d),l.context===null?l.context=d:l.pendingContext=d,(l=Jn(x,C)).payload={element:a},(g=g===void 0?null:g)!==null&&(l.callback=g),(a=Ci(y,l,C))!==null&&(Lr(a,y,C,x),Cu(a,y,C)),C},e}),aw}({get exports(){return s0},set exports(t){s0=t}}).exports=bF();var SF=KD(s0),CT={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},a0={},$h={get exports(){return a0},set exports(t){a0=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?$h.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?($h.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?($h.exports=function(){return Date.now()-r},r=Date.now()):($h.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(QD);var hw,Qo={},Ps={};({get exports(){return Qo},set exports(t){Qo=t}}).exports=(hw||(hw=1,Ps.ConcurrentRoot=1,Ps.ContinuousEventPriority=4,Ps.DefaultEventPriority=16,Ps.DiscreteEventPriority=1,Ps.IdleEventPriority=536870912,Ps.LegacyRoot=0),Ps);var TF={};function _m(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function PT(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&wi(t.children).forEach(function(s){PT(s,t)})}function cw(t,e){var r;PT(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,u=o===void 0||o,h=n.destroyTexture,c=h!==void 0&&h,f=n.destroyBaseTexture,p=f!==void 0&&f;s&&e.destroy({children:u,texture:c,baseTexture:p})}function dw(t,e,r){var n,i;ft(e!==r,"Cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var s=t.getChildIndex(r);t.addChildAt(e,s),(n=t.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var fw=null,dn=SF({getRootHostContext:function(){return TF},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Qo.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Qo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Qo.ContinuousEventPriority;default:return Qo.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=_F[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=AT[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Yn)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return fw=function(o,u,h,c){var f=null;for(var p in h)!c.hasOwnProperty(p)&&h.hasOwnProperty(p)&&h[p]!==null&&(p===n0||(f||(f=[]),f.push(p,null)));for(var m in c){var v=c[m],_=h!==null?h[m]:void 0;!c.hasOwnProperty(m)||v===_||v===null&&_===null||m===n0||(f||(f=[]),f.push(m,v))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){ft(!1,'Error trying to add text node "'.concat(t,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:a0,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=_m.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=_m.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=_m.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=cw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=cw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:dw,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=dw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,u=t&&t.applyProps;typeof u!="function"&&(u=Yn),(u(t,n,i)||fw)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),AF=CT.dependencies["react-dom"].replace(/[^0-9.]/g,""),CF=CT.name;dn.injectIntoDevTools({bundleType:0,version:AF,rendererPackageName:CF,findHostInstanceByFiber:dn.findHostInstance});var ss=new Map;function RT(t){if(ft(sr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`."),ss.has(t)){var e=ss.get(t).pixiFiberContainer;dn.updateContainer(null,e,void 0,function(){ss.delete(t)})}}function IT(t){ft(sr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`.");var e=ss.get(t);if(ft(!e,"createRoot should only be called once"),!e){var r=dn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return dn.updateContainer(n,r,void 0),dn.getPublicRootInstance(r)},unmount:function(){RT(t),ss.delete(t)}}},ss.set(t,e)}return e.reactRoot}function PF(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),ss.has(e)?n=ss.get(e).reactRoot:n=IT(e),n.render(t)}function RF(t){RT(t)}function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},su.apply(this,arguments)}function IF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bT(n.key),n)}}function ni(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ld(t,e){return ld=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ld(t,e)}function MF(t,e){if(e&&(Pr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ni(t)}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ud(t)}var $d=ci.createContext(null),kT=$d.Provider,MT=$d.Consumer,DF=function(t){var e=ci.forwardRef(function(r,n){return ci.createElement(MT,null,function(i){return ci.createElement(t,su({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function FF(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=ud(t);if(e){var i=ud(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return MF(this,r)}}function pw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(r),!0).forEach(function(n){yt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var mw=function(){},DT={width:Ye.number,height:Ye.number,onMount:Ye.func,onUnmount:Ye.func,raf:Ye.bool,renderOnComponentChange:Ye.bool,children:Ye.node,options:Ye.shape({autoStart:Ye.bool,width:Ye.number,height:Ye.number,useContextAlpha:Ye.bool,backgroundAlpha:Ye.number,autoDensity:Ye.bool,antialias:Ye.bool,preserveDrawingBuffer:Ye.bool,resolution:Ye.number,forceCanvas:Ye.bool,backgroundColor:Ye.number,clearBeforeRender:Ye.bool,powerPreference:Ye.string,sharedTicker:Ye.bool,sharedLoader:Ye.bool,resizeTo:function(t,e){var r=t[e];r&&ft(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Pr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&ft(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Pr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},NF={width:800,height:600,onMount:mw,onUnmount:mw,raf:!0,renderOnComponentChange:!0},l0=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&ld(s,o)})(i,ci.Component);var e,r,n=FF(i);function i(){var s;IF(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return yt(ni(s=n.call.apply(n,[this].concat(u))),"_canvas",null),yt(ni(s),"_mediaQuery",null),yt(ni(s),"_ticker",null),yt(ni(s),"_needsUpdate",!0),yt(ni(s),"app",null),yt(ni(s),"updateSize",function(){var c=s.props,f=c.width,p=c.height,m=c.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,p)}),yt(ni(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),yt(ni(s),"renderStage",function(){var c=s.props,f=c.renderOnComponentChange;!c.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,u=s.width,h=s.height,c=s.options,f=s.raf,p=s.renderOnComponentChange;this.app=new Hd(jh(jh({width:u,height:h,view:this._canvas},c),{},{autoDensity:(c==null?void 0:c.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=dn.createContainer(this.app.stage),dn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),c!=null&&c.autoDensity&&window.matchMedia&&(c==null?void 0:c.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),p&&!f&&(this._ticker=new bt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,u){var h,c=this.props,f=c.width,p=c.height,m=c.raf,v=c.renderOnComponentChange,_=c.options;(_==null?void 0:_.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(_==null?void 0:_.resolution)&&(this.app.renderer.resolution=_.resolution,this.resetInteractionManager()),s.height===p&&s.width===f&&((h=s.options)===null||h===void 0?void 0:h.resolution)===(_==null?void 0:_.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),dn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===p&&s.raf===m&&s.renderOnComponentChange===v&&s.options===_||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return ci.createElement(kT,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),dn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,u=this,h=this.props.options;return h&&h.view?(ft(h.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):ci.createElement("canvas",su({},(s=this.props,o=[].concat(wi(Object.keys(DT)),wi(Object.keys(i0))),Object.keys(s).filter(function(c){return!o.includes(c)}).reduce(function(c,f){return jh(jh({},c),{},yt({},f,s[f]))},{})),{ref:function(c){return u._canvas=c}}))}}])&&kF(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();l0.propTypes=DT,l0.defaultProps=NF;var BF=l0;function FT(){var t=ve.useContext($d);return ft(t instanceof Hd,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function OF(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=FT();ft(typeof t=="function","`useTick` needs a callback function."),ft(r instanceof Hd,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=ve.useRef(null);ve.useEffect(function(){n.current=t},[t]),ve.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function LF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u0(t,e,r){return u0=LF()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var u=new(Function.bind.apply(n,o));return s&&ld(u,s.prototype),u},u0.apply(null,arguments)}var UF=["children","apply"];function gw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gw(Object(r),!0).forEach(function(n){yt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zF=function(t,e){ft(Pr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,u=ms(i,UF),h=ve.useRef(ve.useMemo(function(){return r.map(function(p){var m,v=(u==null||(m=u[p])===null||m===void 0?void 0:m.construct)||[];return u0(e[p],wi(v))})},[r])),c=ve.useMemo(function(){return r.reduce(function(p,m,v){return Wh(Wh({},p),{},yt({},m,h.current[v]))},{})},[r]),f=ve.useMemo(function(){return Object.keys(u).filter(TT(ST(r))).reduce(function(p,m){return Wh(Wh({},p),{},yt({},m,u[m]))},{})},[u,r]);return r.forEach(function(p,m){return Object.assign(h.current[m],u[p])}),o&&function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return m.every(function(_){return typeof _=="function"})}(o)&&o.call(t,c),ci.createElement(t,su({},f,{filters:h.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ye.node,apply:Ye.func},n},GF=vr.BitmapText,HF=vr.Container,$F=vr.Graphics,jF=vr.NineSlicePlane,WF=vr.ParticleContainer,VF=vr.Sprite,XF=vr.AnimatedSprite,YF=vr.Text,QF=vr.TilingSprite,KF=vr.SimpleMesh,qF=vr.SimpleRope;const ZF=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:XF,AppConsumer:MT,AppContext:$d,AppProvider:kT,BitmapText:GF,Container:HF,Graphics:$F,NineSlicePlane:jF,ParticleContainer:WF,PixiComponent:xF,PixiFiber:dn,SimpleMesh:KF,SimpleRope:qF,Sprite:VF,Stage:BF,TYPES:vr,Text:YF,TilingSprite:QF,applyDefaultProps:Yn,createRoot:IT,eventHandlers:ad,render:PF,unmountComponentAtNode:RF,useApp:FT,useTick:OF,withFilters:zF,withPixiApp:DF},Symbol.toStringTag,{value:"Module"})),JF=Cw(ZF);Rd.exports=JF;var Le=Rd.exports;const NT=new Ke;rt.prototype._cacheAsBitmap=!1;rt.prototype._cacheData=null;rt.prototype._cacheAsBitmapResolution=null;rt.prototype._cacheAsBitmapMultisample=null;class eN{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(rt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new eN),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});rt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};rt.prototype._initCachedDisplayObject=function(t){var m,v;if((m=this._cacheData)!=null&&m.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new be,!0);if((v=this.filters)!=null&&v.length){const _=this.filters[0].padding;r.pad(_)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),u=t.projection.transform,h=io.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),c=`cacheAsBitmap_${eo()}`;this._cacheData.textureCacheId=c,we.addToCache(h.baseTexture,c),J.addToCache(h,c);const f=this.transform.localTransform.copyTo(NT).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:h,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=u,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const p=new Kn(h);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(r.x/r.width),p.anchor.y=-(r.y/r.height),p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)};rt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};rt.prototype._initCachedDisplayObjectCanvas=function(t){var f;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.getLocalBounds(new be,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=io.create({width:e.width,height:e.height,resolution:s}),u=`cacheAsBitmap_${eo()}`;this._cacheData.textureCacheId=u,we.addToCache(o.baseTexture,u),J.addToCache(o,u);const h=NT;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=e.x,h.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new Kn(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(e.x/e.width),c.anchor.y=-(e.y/e.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};rt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};rt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};rt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,we.removeFromCache(this._cacheData.textureCacheId),J.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};rt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};rt.prototype.name=null;sr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};rt.prototype.getGlobalPosition=function(t=new Me,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var tN=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class rN extends nr{constructor(e=1){super(f3,tN,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const nN={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},iN=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function sN(t){const e=nN[t],r=e.length;let n=iN,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let u=0;u<t;u++){let h=s.replace("%index%",u.toString());o=u,u>=r&&(o=t-u-1),h=h.replace("%value%",e[o].toString()),i+=h,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const oN=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function aN(t,e){const r=Math.ceil(t/2);let n=oN,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let u=s.replace("%index%",o.toString());u=u.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class h0 extends nr{constructor(e,r=8,n=4,i=nr.defaultResolution,s=5){const o=aN(s,e),u=sN(s);super(o,u),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let u=r,h=s;this.state.blend=!1,e.applyFilter(this,u,h,Ln.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(u,Ln.BLIT),this.uniforms.uSampler=h;const f=h;h=u,u=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,h,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class lN extends nr{constructor(e=8,r=4,n=nr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new h0(!0,e,r,n,i),this.blurYFilter=new h0(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const u=e.getFilterTexture();this.blurXFilter.apply(e,r,u,Ln.CLEAR),this.blurYFilter.apply(e,u,n,i),e.returnFilterTexture(u)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var uN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class c0 extends nr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(QS,uN,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Ve.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,u=s(o),h=n+(1-n)*o,c=o*(1-n)-u*i,f=o*(1-n)+u*i,p=o*(1-n)+u*i,m=n+o*(1-n),v=o*(1-n)-u*i,_=o*(1-n)-u*i,S=o*(1-n)+u*i,T=n+o*(1-n),E=[h,c,f,0,0,p,m,v,0,0,_,S,T,0,0,0,0,0,1,0];this._loadMatrix(E,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Ve.shared,[u,h,c]=o.setValue(n).toArray(),[f,p,m]=o.setValue(i).toArray(),v=[.3,.59,.11,0,0,u,h,c,e,0,f,p,m,r,0,u-f,h-p,c-m,0,0];this._loadMatrix(v,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}c0.prototype.grayscale=c0.prototype.greyscale;var hN=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,cN=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class dN extends nr{constructor(e,r){const n=new Ke;e.renderable=!1,super(cN,hN,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Me(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),u=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&u!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/u,this.uniforms.rotation[3]=s.d/u),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var fN=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,pN=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class mN extends nr{constructor(){super(pN,fN)}}var gN=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class yN extends nr{constructor(e=.5,r=Math.random()){super(QS,gN,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const yw={AlphaFilter:rN,BlurFilter:lN,BlurFilterPass:h0,ColorMatrixFilter:c0,DisplacementFilter:dN,FXAAFilter:mN,NoiseFilter:yN};Object.entries(yw).forEach(([t,e])=>{Object.defineProperty(yw,t,{get(){return Re("7.1.0",`filters.${t} has moved to ${t}`),e}})});class vN{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(bt.system.add(this.tickerUpdate,this,us.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(bt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Wi=new vN;class mu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=mu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Me,this.page=new Me,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class hd extends mu{constructor(){super(...arguments),this.client=new Me,this.movement=new Me,this.offset=new Me,this.global=new Me,this.screen=new Me}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,u,h,c,f,p,m,v,_,S){throw new Error("Method not implemented.")}}class on extends hd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class ua extends hd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}ua.DOM_DELTA_PIXEL=0,ua.DOM_DELTA_LINE=1,ua.DOM_DELTA_PAGE=2;const _N=2048,xN=new Me,xm=new Me;class wN{constructor(e){this.dispatch=new cu,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Wi.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,xN.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<_N&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let u=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Wi.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let p=f.length-1;p>=0;p--){const m=f[p],v=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(e,n));if(v){if(v.length>0&&!v[v.length-1].parent)continue;const _=e.isInteractive();(v.length>0||_)&&(_&&this._allInteractiveElements.push(e),v.push(e)),this._hitElements.length===0&&(this._hitElements=v),u=!0}}}const h=this._isInteractive(r),c=e.isInteractive();return h&&c&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:u?this._hitElements:h&&!s(e,n)&&i(e,n)?c?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Wi.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let c=h.length-1;c>=0;c--){const f=h[c],p=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s);if(p){if(p.length>0&&!p[p.length-1].parent)continue;const m=e.isInteractive();return(p.length>0||m)&&p.push(e),p}}}const o=this._isInteractive(r),u=e.isInteractive();return o&&i(e,n)?u?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,xm),!e.hitArea.contains(xm.x,xm.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof on)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var h,c;if(!(e instanceof on)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((h=i.overTargets)==null?void 0:h.length)>0&&s!==r.target){const f=e.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(e,f,s);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(e,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(p)}if(s!==r.target){const f=e.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(r,f);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const v=this.clonePointerEvent(r,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==s&&v.target!==this.rootTarget.parent;)v.currentTarget=v.target,this.notifyTarget(v),n&&this.notifyTarget(v,"mouseenter"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(p)}const o=[],u=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),u&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),u&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),u&&o.push("globalmousemove"),this.cursor=(c=r.target)==null?void 0:c.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof on)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof on)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof on)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.dispatchEvent(n,u?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let u=s;for(;u&&!n.composedPath().includes(u);){if(n.currentTarget=u,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const h=n.button===2;this.notifyTarget(n,h?"rightupoutside":"mouseupoutside")}u=u.parent}delete i.pressTargetsByButton[e.button],o=u}if(o){const u=this.clonePointerEvent(n,"click");u.target=o,u.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:u.target,timeStamp:r});const h=i.clicksByButton[e.button];if(h.target===u.target&&r-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=u.target,h.timeStamp=r,u.detail=h.clickCount,u.pointerType==="mouse"){const c=u.button===2;this.dispatchEvent(u,c?"rightclick":"click")}else u.pointerType==="touch"&&this.dispatchEvent(u,"tap");this.dispatchEvent(u,"pointertap"),this.freeEvent(u)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof on)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof ua)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(on);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(ua);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(on);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof on&&r instanceof on&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof hd&&r instanceof hd&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const EN=1,bN={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},d0=class f0{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new wN(null),Wi.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new on(null),this.rootWheelEvent=new ua(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...f0.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,f0._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Wi.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const u=this.bootstrapEvent(this.rootPointerEvent,i[s]);u.type+=n,this.rootBoundary.mapEvent(u)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Wi.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Wi.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Wi.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=EN),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=bN[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};d0.extension={name:"events",type:[ie.RendererSystem,ie.CanvasRendererSystem]},d0.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let p0=d0;fe.add(p0);function vw(t){return t==="dynamic"||t==="static"}const SN={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??vw(p0.defaultEventMode)},set interactive(t){Re("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??p0.defaultEventMode},set eventMode(t){this._internalInteractive=vw(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const u=typeof e=="function"?e:e.handleEvent,h=this;i&&i.addEventListener("abort",()=>{h.off(t,u,o)}),s?h.once(t,u,o):h.on(t,u,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof mu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};rt.mixin(SN);const TN={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};rt.mixin(TN);const AN=9,Vh=100,CN=0,PN=0,_w=2,xw=1,RN=-1e3,IN=-1e3,kN=2;class BT{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ui.tablet||ui.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${Vh}px`,r.style.height=`${Vh}px`,r.style.position="absolute",r.style.top=`${CN}px`,r.style.left=`${PN}px`,r.style.zIndex=_w.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${xw}px`,e.style.height=`${xw}px`,e.style.position="absolute",e.style.top=`${RN}px`,e.style.left=`${IN}px`,e.style.zIndex=kN.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(ui.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:u,resolution:h}=this.renderer,c=i/o*h,f=s/u*h;let p=this.div;p.style.left=`${r}px`,p.style.top=`${n}px`,p.style.width=`${o}px`,p.style.height=`${u}px`;for(let m=0;m<this.children.length;m++){const v=this.children[m];if(v.renderId!==this.renderId)v._accessibleActive=!1,sa(this.children,m,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,m--;else{p=v._accessibleDiv;let _=v.hitArea;const S=v.worldTransform;v.hitArea?(p.style.left=`${(S.tx+_.x*S.a)*c}px`,p.style.top=`${(S.ty+_.y*S.d)*f}px`,p.style.width=`${_.width*S.a*c}px`,p.style.height=`${_.height*S.d*f}px`):(_=v.getBounds(),this.capHitArea(_),p.style.left=`${_.x*c}px`,p.style.top=`${_.y*f}px`,p.style.width=`${_.width*c}px`,p.style.height=`${_.height*f}px`,p.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(p.title=v.accessibleTitle),p.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&p.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==p.title||v.tabIndex!==p.tabIndex)&&(p.title=v.accessibleTitle,p.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${Vh}px`,r.style.height=`${Vh}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=_w.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new mu(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===AN&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}BT.extension={name:"accessibility",type:[ie.RendererPlugin,ie.CanvasRendererPlugin]};fe.add(BT);var zt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(zt||{});const cd={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Nn,Mo;function ww(){Mo={bptc:Nn.getExtension("EXT_texture_compression_bptc"),astc:Nn.getExtension("WEBGL_compressed_texture_astc"),etc:Nn.getExtension("WEBGL_compressed_texture_etc"),s3tc:Nn.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Nn.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Nn.getExtension("WEBGL_compressed_texture_pvrtc")||Nn.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Nn.getExtension("WEBGL_compressed_texture_etc1"),atc:Nn.getExtension("WEBGL_compressed_texture_atc")}}const MN={extension:{type:ie.DetectionParser,priority:2},test:async()=>{const t=ae.ADAPTER.createCanvas().getContext("webgl");return t?(Nn=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Mo||ww();const e=[];for(const r in Mo)Mo[r]&&e.push(r);return[...e,...t]},remove:async t=>(Mo||ww(),t.filter(e=>!(e in Mo)))};fe.add(MN);class DN extends Md{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Dg(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Dg(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Xs extends DN{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Xs._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Xs._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:u,levelWidth:h,levelHeight:c,levelBuffer:f}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,u,this.format,h,c,0,f)}return!0}onBlobLoaded(){this._levelBuffers=Xs._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,r,n,i,s,o,u){const h=new Array(n);let c=e.byteOffset,f=o,p=u,m=f+i-1&~(i-1),v=p+s-1&~(s-1),_=m*v*cd[r];for(let S=0;S<n;S++)h[S]={levelID:S,levelWidth:n>1?f:m,levelHeight:n>1?p:v,levelBuffer:new Uint8Array(e.buffer,c,_)},c+=_,f=f>>1||1,p=p>>1||1,m=f+i-1&~(i-1),v=p+s-1&~(s-1),_=m*v*cd[r];return h}}const wm=4,Xh=124,FN=32,Ew=20,NN=542327876,Yh={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},BN={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Qh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},ON=1,LN=2,UN=4,zN=64,GN=512,HN=131072,$N=827611204,jN=861165636,WN=894720068,VN=808540228,XN=4,YN={[$N]:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[jN]:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[WN]:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT},QN={70:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:zt.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:zt.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:zt.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:zt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function KN(t){const e=new Uint32Array(t);if(e[0]!==NN)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,Xh/Uint32Array.BYTES_PER_ELEMENT),n=r[Yh.HEIGHT],i=r[Yh.WIDTH],s=r[Yh.MIPMAP_COUNT],o=new Uint32Array(t,Yh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,FN/Uint32Array.BYTES_PER_ELEMENT),u=o[ON];if(u&UN){const h=o[BN.FOURCC];if(h!==VN){const b=YN[h],w=wm+Xh,A=new Uint8Array(t,w);return[new Xs(A,{format:b,width:i,height:n,levels:s})]}const c=wm+Xh,f=new Uint32Array(e.buffer,c,Ew/Uint32Array.BYTES_PER_ELEMENT),p=f[Qh.DXGI_FORMAT],m=f[Qh.RESOURCE_DIMENSION],v=f[Qh.MISC_FLAG],_=f[Qh.ARRAY_SIZE],S=QN[p];if(S===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(v===XN)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const T=new Array,E=wm+Xh+Ew;if(_===1)T.push(new Uint8Array(t,E));else{const b=cd[S];let w=0,A=i,R=n;for(let D=0;D<s;D++){const k=Math.max(1,A+3&-4),V=Math.max(1,R+3&-4),$=k*V*b;w+=$,A=A>>>1,R=R>>>1}let O=E;for(let D=0;D<_;D++)T.push(new Uint8Array(t,O,w)),O+=w}return T.map(b=>new Xs(b,{format:S,width:i,height:n,levels:s}))}throw u&zN?new Error("DDSParser does not support uncompressed texture data."):u&GN?new Error("DDSParser does not supported YUV uncompressed texture data."):u&HN?new Error("DDSParser does not support single-channel (lumninance) texture data!"):u&LN?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const bw=[171,75,84,88,32,49,49,187,13,10,26,10],qN=67305985,nn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},m0=64,Sw={[ye.UNSIGNED_BYTE]:1,[ye.UNSIGNED_SHORT]:2,[ye.INT]:4,[ye.UNSIGNED_INT]:4,[ye.FLOAT]:4,[ye.HALF_FLOAT]:8},ZN={[Z.RGBA]:4,[Z.RGB]:3,[Z.RG]:2,[Z.RED]:1,[Z.LUMINANCE]:1,[Z.LUMINANCE_ALPHA]:2,[Z.ALPHA]:1},JN={[ye.UNSIGNED_SHORT_4_4_4_4]:2,[ye.UNSIGNED_SHORT_5_5_5_1]:2,[ye.UNSIGNED_SHORT_5_6_5]:2};function eB(t,e,r=!1){const n=new DataView(e);if(!tB(t,n))return null;const i=n.getUint32(nn.ENDIANNESS,!0)===qN,s=n.getUint32(nn.GL_TYPE,i),o=n.getUint32(nn.GL_FORMAT,i),u=n.getUint32(nn.GL_INTERNAL_FORMAT,i),h=n.getUint32(nn.PIXEL_WIDTH,i),c=n.getUint32(nn.PIXEL_HEIGHT,i)||1,f=n.getUint32(nn.PIXEL_DEPTH,i)||1,p=n.getUint32(nn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,m=n.getUint32(nn.NUMBER_OF_FACES,i),v=n.getUint32(nn.NUMBER_OF_MIPMAP_LEVELS,i),_=n.getUint32(nn.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||f!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const S=4,T=4,E=h+3&-4,b=c+3&-4,w=new Array(p);let A=h*c;s===0&&(A=E*b);let R;if(s!==0?Sw[s]?R=Sw[s]*ZN[o]:R=JN[s]:R=cd[u],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const O=r?nB(n,_,i):null;let D=A*R,k=h,V=c,$=E,ce=b,K=m0+_;for(let N=0;N<v;N++){const X=n.getUint32(K,i);let ee=K+4;for(let le=0;le<p;le++){let se=w[le];se||(se=w[le]=new Array(v)),se[N]={levelID:N,levelWidth:v>1||s!==0?k:$,levelHeight:v>1||s!==0?V:ce,levelBuffer:new Uint8Array(e,ee,D)},ee+=D}K+=X+4,K=K%4!==0?K+4-K%4:K,k=k>>1||1,V=V>>1||1,$=k+S-1&~(S-1),ce=V+T-1&~(T-1),D=$*ce*R}return s!==0?{uncompressed:w.map(N=>{let X=N[0].levelBuffer,ee=!1;return s===ye.FLOAT?X=new Float32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4):s===ye.UNSIGNED_INT?(ee=!0,X=new Uint32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4)):s===ye.INT&&(ee=!0,X=new Int32Array(N[0].levelBuffer.buffer,N[0].levelBuffer.byteOffset,N[0].levelBuffer.byteLength/4)),{resource:new Md(X,{width:N[0].levelWidth,height:N[0].levelHeight}),type:s,format:ee?rB(o):o}}),kvData:O}:{compressed:w.map(N=>new Xs(null,{format:u,width:h,height:c,levels:v,levelBuffers:N})),kvData:O}}function tB(t,e){for(let r=0;r<bw.length;r++)if(e.getUint8(r)!==bw[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function rB(t){switch(t){case Z.RGBA:return Z.RGBA_INTEGER;case Z.RGB:return Z.RGB_INTEGER;case Z.RG:return Z.RG_INTEGER;case Z.RED:return Z.RED_INTEGER;default:return t}}function nB(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(m0+i,r),o=m0+i+4,u=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let h=0;for(;h<s&&t.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,h)),f=new DataView(t.buffer,o+h+1,s-h-1);n.set(c,f),i+=4+s+u}return n}const iB={extension:{type:ie.LoadParser,priority:vn.High},name:"loadDDS",test(t){return ps(t,".dds")},async load(t,e,r){const n=await(await ae.ADAPTER.fetch(t)).arrayBuffer(),i=KN(n).map(s=>{const o=new we(s,{mipmap:Vn.OFF,alphaMode:pr.NO_PREMULTIPLIED_ALPHA,resolution:_i(t),...e.data});return pu(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(iB);const sB={extension:{type:ie.LoadParser,priority:vn.High},name:"loadKTX",test(t){return ps(t,".ktx")},async load(t,e,r){const n=await(await ae.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=eB(t,n),u=i??s,h={mipmap:Vn.OFF,alphaMode:pr.NO_PREMULTIPLIED_ALPHA,resolution:_i(t),...e.data},c=u.map(f=>{u===s&&Object.assign(h,{type:f.type,format:f.format});const p=f.resource??f,m=new we(p,h);return m.ktxKeyValueData=o,pu(m,r,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(sB);const oB=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],aB={extension:ie.ResolveParser,test:t=>{const e=Ot.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var n,i;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const s=e.pop();if(oB.includes(s))return{resolution:parseFloat(((n=ae.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s,src:t}}return{resolution:parseFloat(((i=ae.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:r,src:t}}};fe.add(aB);const Kh=new be,lB=4,OT=class vl{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,u)=>{s.toBlob(h=>{if(!h){u(new Error("ICanvas.toBlob failed!"));return}const c=new FileReader;c.onload=()=>o(c.result),c.onerror=u,c.readAsDataURL(h)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((u,h)=>{const c=new FileReader;c.onload=()=>u(c.result),c.onerror=h,c.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:u}=this._rawPixels(e,r);o&&vl._flipY(n,i,s),u&&vl._unpremultiplyAlpha(n);const h=new Zk(i,s,1),c=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return h.context.putImageData(c,0,0),h.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:u}=this._rawPixels(e,r);return o&&vl._flipY(n,i,s),u&&vl._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,u,h=!1;e&&(e instanceof io?u=e:(u=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),h=!0,r&&(Kh.width=r.width,Kh.height=r.height,r=Kh)));const c=n.gl;if(u){if(i=u.baseTexture.resolution,r=r??u.frame,s=!1,o=u.baseTexture.alphaMode>0&&u.baseTexture.format===Z.RGBA,!h){n.renderTexture.bind(u);const v=u.framebuffer.glFramebuffers[n.CONTEXT_UID];v.blitFramebuffer&&n.framebuffer.bind(v.blitFramebuffer)}}else i=n.resolution,r||(r=Kh,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const f=Math.max(Math.round(r.width*i),1),p=Math.max(Math.round(r.height*i),1),m=new Uint8Array(lB*f*p);return c.readPixels(Math.round(r.x*i),Math.round(r.y*i),f,p,c.RGBA,c.UNSIGNED_BYTE,m),h&&(u==null||u.destroy(!0)),{pixels:m,width:f,height:p,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let u=0;u<s;u++){const h=u*i,c=(n-u-1)*i;o.set(e.subarray(h,h+i)),e.copyWithin(h,c,c+i),e.set(o,c)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};OT.extension={name:"extract",type:ie.RendererSystem};let uB=OT;fe.add(uB);class hB{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function cB(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof J){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function dB(t,e){if(t.baseTexture instanceof we){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function fB(t,e){if(t._texture&&t._texture instanceof J){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function pB(t,e){return e instanceof Sy?(e.updateText(!0),!0):!1}function mB(t,e){if(e instanceof Qr){const r=e.toFontString();return Hi.measureFont(r),!0}return!1}function gB(t,e){if(t instanceof Sy){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function yB(t,e){return t instanceof Qr?(e.includes(t)||e.push(t),!0):!1}const LT=class UT{constructor(e){this.limiter=new hB(UT.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(gB),this.registerFindHook(yB),this.registerFindHook(cB),this.registerFindHook(dB),this.registerFindHook(fB),this.registerUploadHook(pB),this.registerUploadHook(mB)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,bt.system.addOnce(this.tick,this,us.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)bt.system.addOnce(this.tick,this,us.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof sr)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&bt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};LT.uploadsPerFrame=4;let g0=LT;Object.defineProperties(ae,{UPLOADS_PER_FRAME:{get(){return g0.uploadsPerFrame},set(t){Re("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),g0.uploadsPerFrame=t}}});function zT(t,e){return e instanceof we?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function vB(t,e){if(!(e instanceof Fl))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&zT(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function _B(t,e){return t instanceof Fl?(e.push(t),!0):!1}class GT extends g0{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(_B),this.registerUploadHook(zT),this.registerUploadHook(vB)}}GT.extension={name:"prepare",type:ie.RendererSystem};fe.add(GT);const HT=class _l{constructor(e,r,n){this.linkedSheets=[],(e instanceof we||e instanceof J)&&(e={texture:e,data:r,resolutionFilename:n});const{texture:i,data:s,resolutionFilename:o=null,cachePrefix:u=""}=e;this.cachePrefix=u,this._texture=i instanceof J?i:null,this.baseTexture=i instanceof we?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const h=this.baseTexture.resource;this.resolution=this._updateResolution(o||(h?h.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=_i(e,null);return n===null&&(n=typeof r=="number"?r:parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=_l.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=_l.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let u=null,h=null;const c=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,f=new be(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);s.rotated?u=new be(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):u=new be(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(h=new be(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new J(this.baseTexture,u,f,h,s.rotated?2:0,s.anchor,s.borders),J.addToCache(this.textures[i],this.cachePrefix+i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*_l.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*_l.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};HT.BATCH_SIZE=1e3;let Tw=HT;const xB=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function $T(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!r){const i=Ot.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(n,$T([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return n}const wB={extension:ie.Asset,cache:{test:t=>t instanceof Tw,getCacheableAssets:(t,e)=>$T(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&xB.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=ae.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ie.LoadParser,priority:vn.Normal},async testParse(t,e){return Ot.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var f,p;const{texture:n,imageFilename:i,cachePrefix:s}=(e==null?void 0:e.data)??{};let o=Ot.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let u;if(n&&n.baseTexture)u=n;else{const m=Jg(o+(i??t.meta.image),e.src);u=(await r.load([m]))[m]}const h=new Tw({texture:u.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:s});await h.parse();const c=(f=t==null?void 0:t.meta)==null?void 0:f.related_multi_packs;if(Array.isArray(c)){const m=[];for(const _ of c){if(typeof _!="string")continue;let S=o+_;(p=e.data)!=null&&p.ignoreMultiPack||(S=Jg(S,e.src),m.push(r.load({src:S,data:{ignoreMultiPack:!0}})))}const v=await Promise.all(m);h.linkedSheets=v,v.forEach(_=>{_.linkedSheets=[h].concat(h.linkedSheets.filter(S=>S!==_))})}return h},unload(t){t.destroy(!0)}}};fe.add(wB);const y0=class Do extends Qr{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Do(Object.keys(Do.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Do.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Do;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return ae.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const u=URL.createObjectURL(i),h=new FileReader;h.onload=()=>s([u,h.result]),h.onerror=o,h.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Ot.basename(e,Ot.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const u=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=u,await u.load(),document.fonts.add(u),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Yk(e)),typeof e=="number"?Xk(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Do.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=ae.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};y0.availableFonts={},y0.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Em=y0;const qh=class Fo extends Kn{constructor(e="",r={}){super(J.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=J.from(n,{scaleMode:ae.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new be,i.trim=new be,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",u=document.createElementNS(s,"svg"),h=document.createElementNS(s,"foreignObject"),c=document.createElementNS(o,"div"),f=document.createElementNS(o,"style");h.setAttribute("width","10000"),h.setAttribute("height","10000"),h.style.overflow="hidden",u.appendChild(h),this.maxWidth=Fo.defaultMaxWidth,this.maxHeight=Fo.defaultMaxHeight,this._domElement=c,this._styleElement=f,this._svgRoot=u,this._foreignObject=h,this._foreignObject.appendChild(f),this._foreignObject.appendChild(c),this._image=n,this._loadImage=new Image,this._autoResolution=Fo.defaultAutoResolution,this._resolution=Fo.defaultResolution??ae.RESOLUTION,this.text=e,this.style=r}measureText(e){var f,p;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:u}=s;(o>this.maxWidth||u>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const h=Math.min(this.maxWidth,Math.ceil(o)),c=Math.min(this.maxHeight,Math.ceil(u));return this._svgRoot.setAttribute("width",h.toString()),this._svgRoot.setAttribute("height",c.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(f=this._style)==null?void 0:f.toCSS(i)}),this._styleElement.textContent=(p=this._style)==null?void 0:p.toGlobalCSS()),{width:h+n.padding*2,height:c+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const u=this._updateID;await new Promise(h=>{i.onload=async()=>{if(u<this._updateID){h();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),h()};const c=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(c)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,u;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Fo.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(u=this._styleElement)==null||u.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Qi(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Qi(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Em?(this.ownsStyle=!1,this._style=e):e instanceof Qr?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Em.from(e)):(this.ownsStyle=!0,this._style=new Em(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};qh.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},qh.defaultMaxWidth=2024,qh.defaultMaxHeight=2024,qh.defaultAutoResolution=!0;const Aw=(t,e,r,n,i,s)=>{t.current&&(t.current.text=e.current),r.current&&(r.current.clear(),r.current.beginFill(i.current),r.current.drawRoundedRect(760,3480,630,100,40),r.current.endFill()),n.current&&(n.current.clear(),n.current.beginFill(s.current),n.current.drawRoundedRect(760,3380,630,180,40),n.current.endFill())},EB=()=>{const t=ve.useRef(0),e=ve.useRef(!1),r=ve.useRef([ve.useRef(null),ve.useRef(null),ve.useRef(null)]),n=ve.useRef(null),i=ve.useRef(null),s=ve.useRef(null),o=ve.useRef(null),u=ve.useRef(null),h=ve.useRef(null),c=ve.useRef(null),f=ve.useRef(null),p=ve.useRef(null),m=ve.useRef(null),v=ve.useRef(null),_=ve.useRef(!1),S=ve.useRef(!1),T=ve.useRef(null),E=ve.useRef(null),b=ve.useRef(null),w=ve.useRef(null),A=ve.useRef(!1),R=ve.useRef(null),O=ve.useRef(null),D=ve.useRef(null),k=ve.useRef(null),V=ve.useRef(500),$=ve.useRef(1200),ce=ve.useRef(null),K=ve.useRef(null),N=ve.useRef(null),X=ve.useRef(3480),ee=ve.useRef(null),le=ve.useRef("START"),se=ve.useRef(8399894),I=ve.useRef(14114343),G=ve.useRef(!1),F=ve.useRef(null),L=ve.useRef(!1);ve.useEffect(()=>{(async()=>{try{const Pe=new FontFace("Keons","url('/assets/font/Keons.240827-1105.otf')");await Pe.load(),document.fonts.add(Pe)}catch(Pe){console.error("Font loading failed:",Pe)}})().then()},[]);const te=()=>{K.current&&(K.current.y+=10),N.current&&(N.current.y+=10),X.current+=10},Ae=()=>{K.current&&(K.current.y-=10),N.current&&(N.current.y-=10),X.current-=10,le.current=le.current==="START"?"CASH OUT":"START",se.current=se.current===8399894?3236915:8399894,I.current=I.current===14114343?7513657:14114343,Aw(ee,le,K,N,se,I),le.current==="START"&&t.current>0&&(V.current+=t.current,t.current=0,F.current&&(F.current.text=`${V.current}`),R.current&&(R.current.visible=!1)),le.current==="START"&&(n.current.x=5e3,n.current.visible=!1,G.current=!1,_.current=!1,e.current=!1,L.current=!1,i.current&&(i.current.visible=!1),E.current&&(E.current.visible=!1),b.current&&(b.current.visible=!1),w.current&&(w.current.visible=!1),f.current&&(f.current.visible=!1),p.current&&(p.current.visible=!1),m.current&&(m.current.visible=!0,m.current.gotoAndPlay(0)),v.current&&(v.current.visible=!1),k.current&&(k.current.visible=!1),T.current&&(T.current.visible=!1),O.current&&(O.current.visible=!1),D.current&&(D.current.visible=!1)),G.current=le.current==="CASH OUT"};return ve.useEffect(()=>{const xe=new bt;let Pe=!1,Se=!1;const De=30;let qe=0,pt=!1;const $e=50;let Te=0,Ue=!1;return xe.add(()=>{if(o.current&&u.current&&(o.current.x-=2,u.current.x-=2,o.current.x<=-o.current.width&&(o.current.x=u.current.x+u.current.width),u.current.x<=-u.current.width&&(u.current.x=o.current.x+o.current.width)),h.current&&c.current&&(h.current.x-=15,c.current.x-=15,h.current.x<=-h.current.width&&(h.current.x=c.current.x+c.current.width),c.current.x<=-c.current.width&&(c.current.x=h.current.x+h.current.width)),r.current.forEach(re=>{if(re.current&&(re.current.x-=15,re.current.x<=-re.current.width)){const mt=Math.max(...r.current.map(nt=>{var _r;return((_r=nt.current)==null?void 0:_r.x)??0}));re.current.x=mt+re.current.width+3500}}),!G.current){n.current&&(n.current.visible=!1);return}if(n.current){n.current.visible=!0,n.current.x-=15;const re=n.current.x>1500-n.current.width/2;n.current.visible=re,i.current&&!re&&!_.current&&!re&&!_.current&&(f.current&&(f.current.x=n.current.x,f.current.y=2650,f.current.visible=!0),p.current&&(p.current.x=n.current.x+n.current.width,p.current.y=2650,p.current.visible=!0),i.current.x=n.current.x-230,i.current.visible=!0,i.current.gotoAndPlay(0),s.current.gotoAndPlay(0),_.current=!0,qe=0),n.current.x<=-n.current.width&&(n.current.x=Math.max(...r.current.map(mt=>{var nt;return((nt=mt.current)==null?void 0:nt.x)??0}))+n.current.width-1e3,_.current=!1)}if(ee.current&&(ee.current.y=X.current),v.current&&T.current){const re=v.current.currentFrame;re===14&&!Se&&(Se=!0,T.current.visible=!0,T.current.gotoAndPlay(0),$.current-=5,ce.current&&(ce.current.text=`${$.current}`)),re>=v.current.totalFrames-1&&(Se=!1)}if(t.current===300&&!pt&&(pt=!0,setTimeout(()=>{m.current&&(m.current.visible=!1),k.current&&(k.current.visible=!0,k.current.loop=!1,k.current.gotoAndPlay(0),D.current&&(D.current.visible=!0,D.current.gotoAndPlay(0)))},3e3)),E.current&&i.current.visible&&(A.current=!0),b.current&&w.current&&(w.current.visible=b.current.visible),w.current&&w.current.visible?R.current&&(R.current.visible=!0):R.current&&(R.current.visible=!1),Se&&!Ue&&(Ue=!0,Te=0,E.current.x=1250,E.current.y=2500,E.current.visible=!0,e.current=!1),Ue&&Te<=$e){const re=Te/$e,mt=1250,nt=2500,_r=2e3,Ca=1200,bi=(mt+_r)/2,jd=nt-300,gs=(1-re)*(1-re)*mt+2*(1-re)*re*bi+re*re*_r,Wd=(1-re)*(1-re)*nt+2*(1-re)*re*jd+re*re*Ca;E.current.x=gs,E.current.y=Wd,Te++}if(Ue&&Te>$e&&!e.current&&(Ue=!1,E.current.visible=!1,b.current.visible=!0,!L.current&&O.current&&(L.current=!0,O.current.visible=!0,O.current.gotoAndPlay(0),O.current.onComplete=()=>{O.current.visible=!1,L.current=!1}),t.current+=100,e.current=!0,R.current&&(R.current.text=`${t.current}`)),v.current&&T.current){const re=v.current.currentFrame;re===14&&!Se&&(T.current.visible=!0,T.current.gotoAndPlay(0),Se=!0),re>=v.current.totalFrames-1&&(Se=!1)}if(n.current){const re=n.current;re.visible&&!Pe&&(re.x+=10,re.y-=5),re.x>=2160-re.width&&(Pe=!0),n.current.x<=-n.current.width&&(n.current.x=Math.max(...r.current.map(mt=>{var nt;return((nt=mt.current)==null?void 0:nt.x)??0}))+n.current.width-1e3,_.current=!1)}i.current&&f.current&&p.current&&(qe<De?(f.current.x-=15,f.current.x-=4,f.current.y+=Math.sin(qe/De*Math.PI)*11,p.current.x-=5,p.current.y+=Math.sin(qe/De*Math.PI)*6,qe++):[f,p].forEach(re=>{re.current&&(re.current.x-=15,re.current.x<=-re.current.width&&(re.current.visible=!1))})),s.current&&s.current.visible&&(s.current.x-=15,s.current.x<=-s.current.width&&(s.current.visible=!1)),!s.current.visible&&_.current&&(s.current.x=1e3,s.current.visible=!0,s.current.gotoAndPlay(0)),m.current&&v.current&&(!S.current&&n.current&&n.current.x<=1700&&n.current.x>1200&&(S.current=!0,m.current.visible=!1,v.current.visible=!0,v.current.gotoAndPlay(0)),S.current&&v.current.currentFrame>=v.current.totalFrames-1&&(S.current=!1,v.current.visible=!1,m.current.visible=!0,m.current.gotoAndPlay(0))),k.current.onComplete=()=>{k.current.visible=!1,pt=!1,le.current="START",se.current=8399894,I.current=14114343,Aw(ee,le,K,N,se,I),n.current&&(n.current.x=5e3,n.current.visible=!1),G.current=!1,_.current=!1,e.current=!1,L.current=!1,[i,E,b,w,f,p,D,O].forEach(re=>{re.current&&(re.current.visible=!1)}),m.current&&(m.current.visible=!0,m.current.gotoAndPlay(0)),t.current=0,R.current&&(R.current.visible=!1),T.current&&(T.current.visible=!1),X.current=3480}}),xe.start(),()=>{xe.stop(),xe.destroy()}},[f,p,se,K,I,N,le,w,R,E,A,s,i,v,k,m,T,$,ce,_,G,n,o,u,r,S,D,t,e,L,O,ee,b,X,h,c]),{handlePointerUp:Ae,scoreRef:t,handlePointerDown:te,iceSpriteRefs:r,iceSprite2Ref:u,waySprite1Ref:h,waySprite2Ref:c,cubeDestroyEffectRef:s,destroyCubeRef:i,dragonAttackRef:v,dragonDeathRef:k,dragonFlyRef:m,fireRef:T,coinNumberRef:R,coinRef:E,coinBalanceRef:V,flashBalanceRef:$,flashBalanceTextRef:ce,coinBalanceTextRef:F,startButtonTextRef:ee,steadyCoinRef:b,brokenCube1Ref:f,brokenCube2Ref:p,coinBackgroundRef:w,sparkleRef:O,lightningRef:D,iceSprite1Ref:o,button2ColorRef:I,button2Ref:N,button1ColorRef:se,button1Ref:K,buttonTextRef:le,iceCubeRef:n}},bB=t=>{const{iceSprite1Ref:e,iceSprite2Ref:r,waySprite1Ref:n,iceSpriteRefs:i,waySprite2Ref:s}=t;return ge.jsxs(ge.Fragment,{children:[ge.jsx(Le.Sprite,{image:"/assets/Background.png",x:0,y:0,width:2160,height:3840}),ge.jsx(Le.Sprite,{ref:e,image:"/assets/Background_Ice.png",x:0,y:0,width:6e3,height:3840}),ge.jsx(Le.Sprite,{ref:r,image:"/assets/Background_Ice.png",x:6e3,y:0,width:6e3,height:3840,anchor:{x:1,y:0},scale:{x:-1,y:1}}),ge.jsx(Le.Sprite,{ref:n,image:"/assets/Way.png",x:0,y:2715,width:3500,height:500}),ge.jsx(Le.Sprite,{ref:i.current[0],image:"/assets/Ice_01.png",x:0,y:2300,width:1e3,height:500}),ge.jsx(Le.Sprite,{ref:i.current[1],image:"/assets/Ice_02.png",x:3500,y:2300,width:1e3,height:500}),ge.jsx(Le.Sprite,{ref:i.current[2],image:"/assets/Ice_03.png",x:7e3,y:2300,width:1e3,height:500}),ge.jsx(Le.Sprite,{ref:s,image:"/assets/Way.png",x:3500,y:2715,width:3500,height:500,anchor:{x:1,y:0},scale:{x:-1,y:1}})]})},SB=t=>{const{sparkleRef:e}=t,r=we.from("/assets/VFX/sparkles.png"),n=3868,i=5802,s=n/4,o=i/6,u=Array.from({length:20},(h,c)=>{const f=Math.floor(c/4),p=c%4;return new J(r,new be(p*s,f*o,s,o))});return ge.jsx(Le.AnimatedSprite,{ref:e,isPlaying:!0,textures:u,initialFrame:0,animationSpeed:.4,x:1953,visible:!1,y:1145,width:s*.25,height:o*.25,loop:!1})},TB=t=>{const e=new Qr({align:"center",fill:["#fff"],fontSize:60,fontFamily:"Keons"}),{coinBackgroundRef:r,scoreRef:n,coinNumberRef:i,steadyCoinRef:s,coinRef:o,sparkleRef:u}=t;return ge.jsxs(ge.Fragment,{children:[ge.jsx(Le.Graphics,{ref:r,draw:h=>{h.clear(),h.beginFill(1782404,.3),h.drawRoundedRect(1830,1190,400,170,20),h.endFill()},visible:!1}),ge.jsx(Le.Text,{ref:i,text:`${n.current}`,x:1870,y:1240,visible:!1,style:e}),ge.jsx(Le.Sprite,{ref:s,image:"/assets/Coin.png",x:2e3,y:1200,width:150,height:150,visible:!1}),ge.jsx(Le.Sprite,{ref:o,image:"/assets/Coin.png",x:1250,y:2500,width:150,height:150,visible:!1}),ge.jsx(SB,{sparkleRef:u})]})},AB=t=>{const{destroyCubeRef:e}=t,r=we.from("/assets/VFX/Cube.png"),n=4096,i=4096,s=n/4,o=i/8,u=Array.from({length:32},(h,c)=>{const f=Math.floor(c/4),p=c%4;return new J(r,new be(p*s,f*o,s,o))});return ve.useEffect(()=>{const h=new bt;return h.add(()=>{e.current&&(e.current.x-=15,e.current.x<=-s&&(e.current.visible=!1,e.current.stop()))}),h.start(),()=>{h.stop(),h.destroy()}},[s,e]),ge.jsx(Le.AnimatedSprite,{isPlaying:!0,ref:e,textures:u,initialFrame:0,animationSpeed:.4,x:1e3,visible:!1,y:2370,width:s,height:o,loop:!1})},CB=t=>{const{cubeDestroyEffectRef:e}=t,r=we.from("/assets/VFX/Ice_Cube_Effect_Down.png"),n=4e3,i=6e3,s=n/4,o=i/6,u=Array.from({length:18},(h,c)=>{const f=Math.floor(c/4),p=c%4,m=new J(r,new be(p*s,f*o,s,o));return m.rotate=2,m});return ge.jsx(Le.AnimatedSprite,{ref:e,isPlaying:!0,textures:u,initialFrame:0,animationSpeed:.4,x:1200,y:2050,width:s,height:o,loop:!1,visible:!1})},PB=t=>{const{iceCubeRef:e,brokenCube1Ref:r,brokenCube2Ref:n,destroyCubeRef:i,cubeDestroyEffectRef:s}=t;return ge.jsxs(ge.Fragment,{children:[ge.jsx(Le.Sprite,{ref:e,image:"/assets/Ice_Cube.png",x:5e3,y:2430,width:400,height:400}),ge.jsx(Le.Sprite,{ref:r,image:"/assets/Ice_Cube_Broken_01.png",x:0,y:2450,width:100,height:100,visible:!1,rotation:-Math.PI/2}),ge.jsx(Le.Sprite,{ref:n,image:"/assets/Ice_Cube_Up_Broken.png",x:0,y:2450,width:100,height:100,visible:!1,rotation:Math.PI/2}),ge.jsx(AB,{destroyCubeRef:i}),ge.jsx(CB,{cubeDestroyEffectRef:s})]})},RB=t=>{const{lightningRef:e}=t,r=we.from("/assets/VFX/lighting_Attack.png"),n=3868,i=4835,s=n/4,o=i/5,u=Array.from({length:16},(h,c)=>{const f=Math.floor(c/4),p=c%4;return new J(r,new be(p*s,f*o,s,o))});return ge.jsx(Le.AnimatedSprite,{isPlaying:!0,ref:e,textures:u,initialFrame:0,animationSpeed:.4,x:-100,visible:!1,y:480,width:s*1.3,height:o*1.3,loop:!1})},IB=t=>{const{fireRef:e}=t,r=we.from("/assets/VFX/Fire.png"),n=4e3,i=12e3,s=n/4,o=i/12,u=Array.from({length:44},(h,c)=>{const f=Math.floor(c/4),p=c%4,m=new J(r,new be(p*s,f*o,s,o));return m.rotate=7,m});return ge.jsx(Le.AnimatedSprite,{isPlaying:!0,ref:e,textures:u,initialFrame:0,animationSpeed:.9,x:560,y:1740,width:s,height:o,loop:!1,visible:!1})},kB=()=>{const t=Array.from({length:31},(n,i)=>{const s=Math.floor(i/4),o=i%4;return new J(we.from("/assets/dragon_animation/Dragon_Fly.png"),new be(o*1460,s*743,1460,743))}),e=Array.from({length:30},(n,i)=>{const s=Math.floor(i/4),o=i%4;return new J(we.from("/assets/dragon_animation/Attack.png"),new be(o*(6656/4),s*(8864/8),6656/4,8864/8))}),r=Array.from({length:32},(n,i)=>{const s=Math.floor(i/4),o=i%4;return new J(we.from("/assets/dragon_animation/Dragon_Death.png"),new be(o*(6080/4),s*(7536/8),6080/4,7536/8))});return{dragonFlyTextures:t,dragonAttackTextures:e,dragonDeathTextures:r}},MB=t=>{const{dragonFlyTextures:e,dragonAttackTextures:r,dragonDeathTextures:n}=kB(),{dragonFlyRef:i,dragonAttackRef:s,dragonDeathRef:o,fireRef:u,lightningRef:h}=t;return ge.jsxs(ge.Fragment,{children:[ge.jsx(Le.AnimatedSprite,{ref:i,textures:e,isPlaying:!0,initialFrame:0,animationSpeed:.8,x:0,y:1500,width:5840/4*.5,height:5944/8*.5,loop:!0,visible:!0}),ge.jsx(Le.AnimatedSprite,{ref:s,textures:r,isPlaying:!1,initialFrame:0,animationSpeed:.5,x:-10,y:1370,width:6656/4*.5,height:8864/8*.5,loop:!1,visible:!1}),ge.jsx(Le.AnimatedSprite,{ref:o,textures:n,isPlaying:!0,initialFrame:0,animationSpeed:.5,x:5,y:1500,width:6080/4*.5,height:7536/8*.5,loop:!1,visible:!1}),ge.jsx(RB,{lightningRef:h}),ge.jsx(IB,{fireRef:u})]})},DB=({coinBalanceRef:t,flashBalanceRef:e,flashBalanceTextRef:r,coinBalanceTextRef:n})=>ge.jsxs(ge.Fragment,{children:[ge.jsx(Le.Text,{ref:n,text:`${t.current}`,x:290,y:3560,style:new Qr({align:"center",fill:["#fff"],fontSize:120,fontFamily:"Keons"})}),ge.jsx(Le.Text,{ref:r,text:`${e.current}`,x:280,y:3350,style:new Qr({align:"center",fill:["#fff"],fontSize:120,fontFamily:"Keons"})})]}),FB=()=>{const t=i=>{i.clear(),i.beginFill(3418729),i.drawRoundedRect(600,3270,950,450,20),i.endFill(),i.beginFill(1380155),i.drawRoundedRect(700,3480,750,180,40),i.endFill(),i.beginFill(8090331),i.drawRoundedRect(700,3480,750,150,40),i.endFill(),i.beginFill(4077427),i.drawRoundedRect(700,3480,750,140,40),i.endFill(),i.beginFill(3090774),i.drawRoundedRect(740,3480,680,120,40),i.endFill()},e=(i,s)=>{i.clear(),i.beginFill(s.current),i.drawRoundedRect(760,3480,630,100,40),i.endFill()},r=(i,s)=>{i.clear(),i.beginFill(s.current),i.drawRoundedRect(760,3380,630,180,40),i.endFill()},n=new Qr({fill:"#ffffff",fontFamily:"Keons",fontSize:80,fontWeight:"bold"});return{drawButtonGraphic:t,drawButton1Graphic:e,drawButton2Graphic:r,startButtonTextStyles:n}},NB=t=>{const{drawButtonGraphic:e,drawButton1Graphic:r,drawButton2Graphic:n,startButtonTextStyles:i}=FB(),{handlePointerUp:s,handlePointerDown:o,button1Ref:u,button1ColorRef:h,button2Ref:c,button2ColorRef:f,startButtonTextRef:p,buttonTextRef:m}=t;return ge.jsxs(Le.Container,{eventMode:"dynamic",cursor:"pointer",buttonMode:!0,pointerdown:o,pointerup:s,children:[ge.jsx(Le.Graphics,{draw:v=>e(v)}),ge.jsx(Le.Graphics,{ref:u,draw:v=>r(v,h)}),ge.jsx(Le.Graphics,{ref:c,draw:v=>n(v,f)}),ge.jsx(Le.Text,{ref:p,text:m.current,anchor:.5,x:1070,y:3480,style:i})]})},BB=t=>{const{coinBalanceTextRef:e,flashBalanceTextRef:r,flashBalanceRef:n,coinBalanceRef:i,startButtonTextRef:s,button1ColorRef:o,button2ColorRef:u,button2Ref:h,handlePointerDown:c,handlePointerUp:f,buttonTextRef:p,button1Ref:m}=t;return ge.jsxs(ge.Fragment,{children:[ge.jsx(Le.Sprite,{image:"/assets/Uv.png",x:0,y:0,width:2160,height:3840}),ge.jsx(DB,{flashBalanceRef:n,coinBalanceRef:i,flashBalanceTextRef:r,coinBalanceTextRef:e}),ge.jsx(NB,{button1ColorRef:o,button1Ref:m,button2ColorRef:u,button2Ref:h,buttonTextRef:p,handlePointerDown:c,handlePointerUp:f,startButtonTextRef:s})]})},OB=()=>{const{iceCubeRef:t,buttonTextRef:e,button1Ref:r,button2Ref:n,button1ColorRef:i,button2ColorRef:s,iceSprite1Ref:o,brokenCube2Ref:u,lightningRef:h,sparkleRef:c,brokenCube1Ref:f,coinRef:p,steadyCoinRef:m,coinBackgroundRef:v,startButtonTextRef:_,fireRef:S,coinBalanceTextRef:T,dragonDeathRef:E,flashBalanceTextRef:b,flashBalanceRef:w,coinBalanceRef:A,coinNumberRef:R,dragonAttackRef:O,destroyCubeRef:D,dragonFlyRef:k,waySprite2Ref:V,cubeDestroyEffectRef:$,waySprite1Ref:ce,iceSprite2Ref:K,iceSpriteRefs:N,scoreRef:X,handlePointerDown:ee,handlePointerUp:le}=EB();return ge.jsxs(Le.Stage,{width:2160,height:3840,children:[ge.jsx(bB,{iceSprite1Ref:o,iceSpriteRefs:N,iceSprite2Ref:K,waySprite1Ref:ce,waySprite2Ref:V}),ge.jsx(TB,{coinBackgroundRef:v,coinNumberRef:R,scoreRef:X,steadyCoinRef:m,coinRef:p,sparkleRef:c}),ge.jsx(PB,{cubeDestroyEffectRef:$,brokenCube1Ref:f,iceCubeRef:t,brokenCube2Ref:u,destroyCubeRef:D}),ge.jsx(MB,{dragonFlyRef:k,dragonAttackRef:O,dragonDeathRef:E,lightningRef:h,fireRef:S}),ge.jsx(BB,{coinBalanceTextRef:T,flashBalanceTextRef:b,coinBalanceRef:A,flashBalanceRef:w,startButtonTextRef:_,handlePointerUp:le,handlePointerDown:ee,buttonTextRef:e,button2Ref:n,button2ColorRef:s,button1Ref:r,button1ColorRef:i})]})},LB=()=>ge.jsx(OB,{});zb(document.getElementById("root")).render(ge.jsx(ve.StrictMode,{children:ge.jsx(LB,{})}))});export default UB();
